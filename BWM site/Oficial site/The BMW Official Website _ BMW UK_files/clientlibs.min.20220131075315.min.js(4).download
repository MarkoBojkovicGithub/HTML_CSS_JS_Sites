var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(g){var l=0;return function(){return l<g.length?{done:!1,value:g[l++]}:{done:!0}}};$jscomp.arrayIterator=function(g){return{next:$jscomp.arrayIteratorImpl(g)}};$jscomp.makeIterator=function(g){var l="undefined"!=typeof Symbol&&Symbol.iterator&&g[Symbol.iterator];return l?l.call(g):$jscomp.arrayIterator(g)};$jscomp.arrayFromIterator=function(g){for(var l,n=[];!(l=g.next()).done;)n.push(l.value);return n};
$jscomp.arrayFromIterable=function(g){return g instanceof Array?g:$jscomp.arrayFromIterator($jscomp.makeIterator(g))};
define("ds2-stock-locator-api",["lodash"],function(g){return l={598:function(f,a){var b;void 0===(b=function(b){Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a){var b=a.url,c={country:void 0===a.country?"de":a.country,category:void 0===a.category?"BM":a.category,clientid:void 0===a.clientId?"66_STOCK_DLO":a.clientId};a=Object.keys(c).map(function(a){return"".concat(a,"\x3d").concat(c[a])}).join("\x26");return{url:"".concat(b).concat("/c2b-localsearch/services/cache/v4/ShowAll",
"?").concat(a)}}}.apply(a,[a]))||(f.exports=b)},785:function(f,a,b){var d;b=[a,b(980),b(598)];void 0===(d=function(b,e,c){var k;Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a,b){a=(0,c.default)(a);return fetch(a.url,{method:"GET",headers:{Accept:"application/json"}}).then(function(a){if(!a.ok){var b=Error("unable to load data from c2b");throw b.res=a,b;}return a}).then(function(a){return a.json()}).then(function(a){return(0,e.get)(a,"data.pois",[])}).then(function(a){return function(a,
b){return a.filter(function(a){return function(b){return!a||-1!==(0,e.get)(b,"attributes.requestServices",[]).indexOf("STL")}}(b)).map(function(a){return(0,e.get)(a,"attributes.agDealerCode")})}(a,b)}).catch(function(a){throw a;})};c=(k=c)&&k.__esModule?k:{default:k}}.apply(a,b))||(f.exports=d)},490:function(f,a,b){var d;b=[a,b(980),b(785),b(586)];void 0===(d=function(b,e,c,k){Object.defineProperty(b,"__esModule",{value:!0});a.default=void 0;c=c&&c.__esModule?c:{default:c};k=k&&k.__esModule?k:{default:k};
var h=function(a,b){var c=a.substring(a.indexOf(".html"),-1);c="".concat(c,"-").concat(b);return h.INSTANCES&&h.INSTANCES[c]?h.INSTANCES[c]:(this.stockLocatorUrl=a,this.c2bUrl=b,h.INSTANCES=h.INSTANCES||{},h.INSTANCES[c]=this,this)};h.prototype.loadStockLocatorConfiguration=function(){var a=this;if(this.config)return Promise.resolve(this.config);if(this.stockLocatorConfigCall)return this.stockLocatorConfigCall;var b=this.stockLocatorUrl.replace(".html","/_jcr_content/stocklocator.api-config.json");
return this.stockLocatorConfigCall=fetch(b).then(function(b){if(!b.ok)throw a.stockLocatorConfigCall=null,h.createError("unable to load stock locator configuration",b);return b}).then(function(a){return a.json()}).then(function(b){return a.stockLocatorConfigCall=null,a.config=b,(0,e.set)(a.config,"c2b.url",a.c2bUrl),a.config}),this.stockLocatorConfigCall};h.prototype.loadDealers=function(){var a=this;return this.dealerData?Promise.resolve(this.dealerData):(this.dealerDataCall||(this.dealerDataCall=
(0,c.default)(this.config.c2b||{},this.config.filterByStlFlag).then(function(b){return a.dealerDataCall=null,a.dealerData=b,b}).catch(function(b){throw a.dealerDataCall=null,h.createError("unable to load data from c2b",b.res);})),this.dealerDataCall)};h.prototype.loadAvailableVehicles=function(a){var b=this,c=(0,e.get)(this,"vsmsCalls.".concat(a));return c||(c=this.loadStockLocatorConfiguration().then(function(){return b.loadDealers()}).then(function(c){return(0,k.default)(b.config,c,a)}).then(function(a){return a.totalCount}).catch(function(c){throw(0,
e.set)(b,"vsmsCalls.".concat(a),null),h.createError("unable to load data from vsms",c.res);}),(0,e.set)(this,"vsmsCalls.".concat(a),c),c)};h.createError=function(a,b){var c=b.statusText||"";a=Error("".concat(a," \x3e ").concat(b.status," ").concat(c));return a.status=b.status,a};a.default=h}.apply(a,b))||(f.exports=d)},755:function(f,a,b){b=[a,b(824),b(93)];b=function(b,m,e){Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{};b.isEnabled?(b=(0,e.default)(b),b=[(0,m.default)(b)].concat($jscomp.arrayFromIterable(a))):b=a;return b};m=m&&m.__esModule?m:{default:m};e=e&&e.__esModule?e:{default:e}}.apply(a,b);void 0===b||(f.exports=b)},56:function(f,a){var b;void 0===(b=function(b){Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a,b){if(!Array.isArray(b)||0===b.length)return a;var c=a;return b.forEach(function(a){(a=a(c))&&(c=a)}),c}}.apply(a,[a]))||(f.exports=b)},180:function(f,a){var b;void 0===(b=function(b){Object.defineProperty(b,
"__esModule",{value:!0});a.VEHICLE_STOCK_TYPE_CENTRAL_STOCK=a.VALIDITY_VALID=a.STOCK_TYPE_MAPPING=a.PRODUCT_TYPE_CAR=a.PRODUCT_TYPES=a.DEGREE_OF_ELECTRIFICATION_REX_BEV_WITH_RANGE_EXTENDER=a.DEGREE_OF_ELECTRIFICATION_PHEV_PLUGIN_HYBRID=a.DEGREE_OF_ELECTRIFICATION_NOHY_NO_HYBRID=a.DEGREE_OF_ELECTRIFICATION_MHEV_MILD_HYBRID=a.DEGREE_OF_ELECTRIFICATION_BEV_FULL_ELECTRIC=a.DEFAULT_REQUEST_BODY=a.DEFAULT_METADATA_REQUEST_BODY=a.BRAND_BMW_I=a.BRAND_BMW=a.BRANDS=a.AVAILABILITY_AVAILABLE=a.AVAILABILITIES=
void 0;a.BRAND_BMW="BMW";a.BRAND_BMW_I="BMWi";b=["BMW","BMWi"];a.BRANDS=b;a.PRODUCT_TYPE_CAR="CAR";var d=["CAR"];a.PRODUCT_TYPES=d;a.AVAILABILITY_AVAILABLE="AVAILABLE";var e=["AVAILABLE"];a.AVAILABILITIES=e;a.VALIDITY_VALID="VALID";var c={validityEmissionDataBasedOnDegreeOfElectrification:"VALID",validityFuelType:"VALID",validityPowerKw:"VALID",validityTimeFrom0To100Kmh:"VALID",validityTransmission:"VALID",validityMetaEquipments:"VALID",ivsReserved:!1};a.DEFAULT_REQUEST_BODY=c;b=Object.assign({},
c,{availabilities:e,brands:b,productTypes:d});a.DEFAULT_METADATA_REQUEST_BODY=b;a.VEHICLE_STOCK_TYPE_CENTRAL_STOCK="CENTRAL_STOCK";a.STOCK_TYPE_MAPPING={DEALER_PREFERRED:0,CUSTOMER_SOLD_STOCK:1,DEMONSTRATION_STOCK:2,DEALER_NON_PREFERRED:3,CENTRAL_STOCK:4,PRESOLD_DEMO:5,MOTORCYCLE_WINTER_STOCK_BERLIN:6,CORE_STOCK_DIRECT_SALES:7,SHOW_ROOM:8};a.DEGREE_OF_ELECTRIFICATION_NOHY_NO_HYBRID="NOHY_NO_HYBRID";a.DEGREE_OF_ELECTRIFICATION_PHEV_PLUGIN_HYBRID="PHEV_PLUGIN_HYBRID";a.DEGREE_OF_ELECTRIFICATION_MHEV_MILD_HYBRID=
"MHEV_MILD_HYBRID";a.DEGREE_OF_ELECTRIFICATION_BEV_FULL_ELECTRIC="BEV_FULL_ELECTRIC";a.DEGREE_OF_ELECTRIFICATION_REX_BEV_WITH_RANGE_EXTENDER="REX_BEV_WITH_RANGE_EXTENDER"}.apply(a,[a]))||(f.exports=b)},906:function(f,a,b){var d;b=[a,b(180),b(56),b(45),b(349),b(755)];void 0===(d=function(b,e,c,k,h,d){function f(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a){var b=a.baseUrl,f=void 0===a.agBusinessNumbers?[]:a.agBusinessNumbers,m=void 0===
a.countries?"de":a.countries,p=void 0===a.filters?[]:a.filters,q=a.productionQuotaCode,g=a.orderStatus,t=a.ivsProcessingTypes,l=a.stockType,n=a.aggregateByVssConfigId;a=a.degreeOfElectrificationFilter;var r={countries:m,consumer:"stockLocator_".concat(m)};m=Object.keys(r).map(function(a){return"".concat(a,"\x3d").concat(r[a])}).join("\x26");b="".concat(b,"/").concat("prefetch/v1/prefetchAggregation","?").concat(m);q=(0,k.default)({productionQuotaCode:q,orderStatus:g,ivsProcessingTypes:t,stockType:l,
aggregateByVssConfigId:n});f=(0,h.default)(f);f={url:b,body:Object.assign({},e.DEFAULT_METADATA_REQUEST_BODY,q,f)};p=(0,d.default)(p,a);return(0,c.default)(f,p)};c=f(c);k=f(k);h=f(h);d=f(d)}.apply(a,b))||(f.exports=d)},349:function(f,a){var b;void 0===(b=function(b){Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a,b){var c={};return Array.isArray(b)&&0<b.length&&(c.excludedBuNos=b),Array.isArray(a)&&0<a.length&&(c.buNos=a),c}}.apply(a,[a]))||(f.exports=b)},824:function(f,a,b){var d;
b=[a,b(614)];void 0===(d=function(b,e){var c;Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a,b,c){return(0,e.default)(a,"degreeOfElectrification",c)};e=(c=e)&&c.__esModule?c:{default:c}}.apply(a,b))||(f.exports=d)},45:function(f,a,b){b=[a,b(180)];b=function(b,f){function e(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);b&&(e=e.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable}));c.push.apply(c,e)}return c}
function c(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?e(Object(c),!0).forEach(function(b){var e=c[b];b in a?Object.defineProperty(a,b,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[b]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a){var b=
a.productionQuotaCode,e=a.ivsProcessingTypes,f=a.stockType,d={unique:void 0===a.aggregateByVssConfigId?!1:a.aggregateByVssConfigId};return d=function(a,b){return b&&(b.min||b.max)?c(c({},a),{},{ivsxStatus:[{minValue:b.min,maxValue:b.max}]}):a}(d,a.orderStatus),d=function(a,b){if(!b)return a;b=b.split(",").map(function(a){return a.trim()});return c(c({},a),{},{ivsProcessingTypes:b})}(d,e),d=function(a,b){if(!b)return a;b=b.split(",").map(function(a){a=a.trim();return k[a]}).filter(function(a){return!!a});
return c(c({},a),{},{stockType:b})}(d,f),d=function(a,b){return b?c(c({},a),{},{productionQuotaCode:[b]}):a}(d,b),d};var k=Object.keys(f.STOCK_TYPE_MAPPING).reduce(function(a,b){return a[f.STOCK_TYPE_MAPPING[b]]=b,a},{})}.apply(a,b);void 0===b||(f.exports=b)},48:function(f,a,b){var d;b=[a,b(614)];void 0===(d=function(b,e){var c;Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a){return(0,e.default)(a,"model.modelRange")};e=(c=e)&&c.__esModule?c:{default:c}}.apply(a,b))||(f.exports=
d)},614:function(f,a,b){var d;b=[a,b(980)];void 0===(d=function(b,e){Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a,b){return function(c){return Array.isArray(a)&&0!==a.length?((0,e.set)(c.body,b,a),c):c}}}.apply(a,b))||(f.exports=d)},93:function(f,a,b){var d;b=[a,b(180)];void 0===(d=function(b,e){Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a){var b=[];return a.showNohy&&b.push(e.DEGREE_OF_ELECTRIFICATION_NOHY_NO_HYBRID),a.showHybrid&&b.push(e.DEGREE_OF_ELECTRIFICATION_PHEV_PLUGIN_HYBRID),
a.showElectric&&b.push(e.DEGREE_OF_ELECTRIFICATION_BEV_FULL_ELECTRIC),a.showMhev&&b.push(e.DEGREE_OF_ELECTRIFICATION_MHEV_MILD_HYBRID),a.showRex&&b.push(e.DEGREE_OF_ELECTRIFICATION_REX_BEV_WITH_RANGE_EXTENDER),b}}.apply(a,b))||(f.exports=d)},731:function(f,a,b){var d;b=[a,b(906),b(413)];void 0===(d=function(b,e,c){var d;Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a){var b=(0,e.default)(a);return(0,c.sendPostRequest)(b.url,a.apiKey,b.body).then(function(a){if(!a.ok){var b=Error("unable to load data from vsms");
throw b.res=a,b;}return a}).then(function(a){return a.json()})};e=(d=e)&&d.__esModule?d:{default:d}}.apply(a,b))||(f.exports=d)},586:function(f,a,b){var d;b=[a,b(48),b(731)];void 0===(d=function(b,e,c){Object.defineProperty(b,"__esModule",{value:!0});a.default=function(a,b,d){a={baseUrl:a.vsms.url,apiKey:a.vsms.apiKey,stockType:a.vsms.stockType,orderStatus:a.vsms.orderStatus,ivsProcessingTypes:a.vsms.ivsProcessingTypes,productionQuotaCode:a.vsms.productionQuotaCode,countries:a.market.country,agBusinessNumbers:b,
aggregateByVssConfigId:a.vsms.aggregateByVssConfigId,degreeOfElectrificationFilter:a.vsms.degreeOfElectrificationFilter||{}};d&&(d=(0,e.default)([d]),a.filters=[d]);return(0,c.default)(a)};e=e&&e.__esModule?e:{default:e};c=c&&c.__esModule?c:{default:c}}.apply(a,b))||(f.exports=d)},413:function(f,a){var b=function(b){function d(a,b,d,f){var c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:window.fetch,e={method:d,headers:{KeyID:b,Accept:"application/json","Content-Type":"application/json"}};
return f&&(e.body=JSON.stringify(f)),c(a,e)}Object.defineProperty(b,"__esModule",{value:!0});a.sendGetRequest=function(a,b){return d(a,b,"GET")};a.sendPostRequest=function(a,b,f){return d(a,b,"POST",f)};a.sendRequest=d}.apply(a,[a]);void 0===b||(f.exports=b)},980:function(f){f.exports=g}},n={},function b(a){var d=n[a];if(void 0!==d)return d.exports;d=n[a]={exports:{}};return l[a](d,d.exports,b),d.exports}(490);var l,n});