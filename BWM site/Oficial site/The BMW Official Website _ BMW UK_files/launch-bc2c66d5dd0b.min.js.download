// For license information, see `https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/launch-bc2c66d5dd0b.js`.
window._satellite=window._satellite||{},window._satellite.container={buildInfo:{minified:!0,buildDate:"2022-03-15T11:04:32Z",turbineBuildDate:"2021-08-11T20:25:49Z",turbineVersion:"27.2.0"},environment:{id:"EN29958f5199984bd5b6434818162d5ca7",stage:"production"},dataElements:{"AT-AffinityParams":{defaultValue:"",cleanText:!0,storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=function(e,t){for(var s=Object.keys(t),a=0;a<s.length;a++)if(new RegExp(s[a]).test(e))return!0;return!1},t=function(e,t){var s=function(){try{var e=window.dataLayer&&window.dataLayer.pages&&window.dataLayer.pages[0]||_satellite.getVar("finalDataLayer");return e&&e.product&&e.product.length&&e.product[0].attributes&&e.product[0].attributes.bodyType||void 0}catch(e){}},a=function(){try{var e=window.dataLayer&&window.dataLayer.pages&&window.dataLayer.pages[0]||_satellite.getVar("finalDataLayer");return e&&e.product&&e.product.length&&e.product[0].attributes&&e.product[0].attributes.mmdr||void 0}catch(e){}},o=function(e,t){var s=e.match(t);if(s)return s[6]?"Z":s[7]?"BMW i":(s[3]||s[5]||s[4]).toUpperCase()},n=function(e,t){if(e.match(t))return"M"},r=function(e,t){if(e.match(t))return"true"},i=function(e,t){for(var s=Object.keys(t),a=0;a<s.length;a++)if(new RegExp(s[a]).test(e))return t[s[a]]},c=t.listOfExceptions&&i(e,t.listOfExceptions)||{};return{"car-body-type":c["car-body-type"]||s(),"car-series":c["car-series"]||o(e,t.seriesRegex),"car-variant":c["car-variant"]||n(e,t.variantRegex),"is-electric":c["is-electric"]||r(e,t.electricRegex),"car-model":c["car-model"]||a()}},s={"bmw.co.uk":{seriesRegex:/all-models.*(\/|bmw-)((\d)-series|m(\d)|(x\d|X\d)|(z)|(i(\d|x|\/)))/,variantRegex:/all-models\/(m).*/,electricRegex:/i\d|bmw-i(\/|x|\d)|#phev|#plug-in|#bmw-X1-xDrive25e|#X2_hybrid|#plug-in-hybrid/,listOfExceptions:{}},"bmw.it":{seriesRegex:/gamma.*(\/|bmw-)(serie-(\d)|m(\d)|(x\d)|(z)|(i(\d|x|\/)))/,variantRegex:/gamma\/(m).*/,electricRegex:/i\d|bmw-i(\/|x|\d)|#phev|#f45_phev|#G30_hybrid|#G31_hybrid|#plug-in|#bmw-X1-xDrive25e|#plug-in-hybrid|#ibrida-plug-in/,listOfExceptions:{"mondo-bmw/bmw-i/bmw-concept-i4.html":{"car-series":"BMW i","is-electric":"true"},"m/bmw-z4-m40i/2021/panoramica-bmw-z4.html":{"car-series":"Z"},"gamma/Versioni-Serie-8/":{"car-series":"8"},"/all-models/2-series/activetourer/2021/bmw-2-series-active-tourer-highlights.html":{"car-series":"2"}}},"bmw.fr":{seriesRegex:/tous-les-modeles.*(\/|bmw-)((\d)-series|m(\d)|(x\d)|(z)|(i(\d|x|\/)))/,variantRegex:/tous-les-modeles\/(m-).*/,electricRegex:/i\d|bmw-i(\/|x|\d)|phev|#G21_mildhybrid|#G30_hybrid|#X2_hybrid|#bmw-X1-xDrive25e|#hybride-rechargeable/,listOfExceptions:{"x-series/X4/2018/apercu.html":{"car-series":"X4"},"/bmw-concept/bmw-concept-i4.html":{"car-series":"BMW i","is-electric":"true"},"tous-les-modeles/modeles-serie-8":{"car-series":"8"}}},"bmw.ru":{seriesRegex:/all-models.*(\/|bmw-)((\d)-series|m(\d)|(x\d)|(z)|(i\d))/,variantRegex:/all-models\/(m).*/,electricRegex:/^$/,listOfExceptions:{}},"bmw.de":{seriesRegex:/neufahrzeuge.*(\/|bmw-)((\d)er|m(\d)|(x\d)|(z4)|(i(\d|x|\/)))/,variantRegex:/neufahrzeuge\/m\//,electricRegex:/i\d|bmw-i(\/|x|\d)|phev|#330e|#\/530e|#bmw-X1-xDrive25e|#x5-xdrive45e|elektromobilitaet|#plug-in-hybrid/,listOfExceptions:{"/neufahrzeuge/m/m-240i-convertible/":{"car-series":"2","car-variant":"M"},"/topics/faszination-bmw/bmw-concept-cars/bmw-concept-i4-ueberblick.html":{"car-series":"BMW i"},"/topics/faszination-bmw(.*)elektromobilitaet/":{"is-electric":"true"}}},"bmw.es":{seriesRegex:/coches-bmw.*(\/|bmw-)(serie-(\d)|m(\d)|(x\d|X\d)|(z)|(i(\d|x|\/)))/,variantRegex:/coches-bmw\/(m).*/,electricRegex:/i\d|bmw-i(\/|x|\d)|(iX\d)|#hibrido-enchufable|#phev/,listOfExceptions:{"/x/iX3/2021/presentacion.html":{"car-series":"x","is-electric":"true"},"/2-series/coupe/2021/presentacion.html":{"car-series":"2"},"/2-series/gran-coupe/2021/vision-general-bmw-serie2-gran-coupe.html":{"car-series":"2"},"/2-series/grantourer/2020/presentacion.html":{"car-series":"2"}}}}[_satellite.getVar("topLevelDomain")],a=window.location.href,o=/neufahrzeuge|all-models|tous-les-modeles|gamma|coches-bmw/.test(a)||s&&s.listOfExceptions&&e(a,s.listOfExceptions);return s&&o&&consentcontroller.api.isUsageAllowed("AdobeTargetPersonalization")?t(a,s):{}}catch(e){_satellite.logger.error("Error in Data element AT-AffinityParams-",e)}}}},campaign:{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"tl",caseInsensitive:!0}},"AA-currencyCode":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").cache;if(e.get("currencyCode"))return e.get("currencyCode");var t={"bmw.co.za":"ZAR","bmw.com.ar":"ARS","bmw.at":"EUR","bmw.com.au":"AUD","bmw.be":"EUR","bmw.bg":"BGN","bmw.com.br":"BRL","bmw.ca":"CAD","bmw.ch":"CHF","bmw.com.cn":"CNY","bmw.cz":"CZK","bmw.de":"EUR","bmw.dk":"DKK","bmw.es":"EUR","bmw.fi":"EUR","bmw.fr":"EUR","bmw.co.uk":"GBP","bmw.gr":"EUR","bmw.hu":"HUF","bmw.co.id":"IDR","bmw.ie":"EUR","bmw.in":"INR","bmw.is":"ISK","bmw.it":"EUR","bmw.co.jp":"JPY","bmw.co.kr":"KRW","bmw.lu":"EUR","bmw.com.mx":"MXN","bmw.com.my":"MYR","bmw.nl":"EUR","bmw.no":"NOK","bmw.co.nz":"NZD","bmw.pl":"PLN","bmw.pt":"EUR","bmw.ro":"RON","bmw.ru":"RUB","bmw.se":"SEK","bmw.si":"EUR","bmw.sk":"EUR\t","bmw.co.th":"THB","bmw.com.sg":"SGD","bmw.com/en-au":"AUD","mini.de":"EUR","mini.fr":"EUR","mini.it":"EUR","mini.ch":"CHF","mini.at":"EUR"},s=t[_satellite.getVar("topLevelDomain")]||t[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()]||"EUR";return e.set("currencyCode",s),s}catch(e){var a={from:"AA",type:"DE",name:"AA-currencycode"};_satellite.logger.error(e,a)}}}},"AAM-hashedemail":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.toString(),t=new URL(e).searchParams.get("hemaid");if(null!=t)return t}catch(e){_satellite.logger.error("EmailID error ",e)}}}},pa_cat_subCategory01:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.category.subCategory01}catch(e){}}}},"AA-localCampaignVariable":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["mz_ca","mz_sp"];function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}_satellite.getVar("topLevelDomain");for(var s="",a=0,o=0;o<e.length;o++)t(e[o])?s+=t(e[o])+"|":(s+="no value|",a++);return s=2==a?"":s.slice(0,-1)}catch(e){var n={from:"AA",type:"DE",name:"AA-localCampaignVariable"};_satellite.logger.error(e,n)}}}},"AA-contextData":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(){var e=new Date,t=e.getUTCFullYear().toString(),s=(e.getUTCMonth()+1).toString(),a=e.getUTCDate().toString(),o=document.location.hostname.split(".").pop().toUpperCase();return base_context=t+"_"+s+"_"+a+"_"+o,base_context+"_A,"+base_context+"_W,"+base_context+"_I,"+base_context+"_E"}}catch(t){var e={from:"AA",type:"DE",name:"AA-contextData"};_satellite.logger.error(t,e)}}}},gcdmcookie:{modulePath:"core/src/lib/dataElements/cookie.js",settings:{name:"gcdmToken"}},pr_att_modelName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.product.length-1,s=e.product[t].attributes.modelName;return""==s&&(s="not set"),s}catch(e){return"not set"}}}},pa_cat_primaryCategory:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.category.primaryCategory}catch(e){}}}},"TPT-PII_keywords":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["firstname","lastname","email","vin","name","loginid","password","registrationpassword","confirmationpassword","confirmregistrationpassword","registrationid","passwordconfirmation","username","enname","token","phone","telephone"]}}},"AA-hashedID":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.hostname.split(".").reverse()[0];return"de"==e||"uk"==e?_satellite.getVar("hashingMID"):"datalayer field missing"}catch(e){var t={from:"AA",type:"DE",name:"AA-hashedID"};_satellite.logger.error(e,t)}}}},"AA-languageWorkaround":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("topLevelDomain"),t={"bmw.co.za":"ZA","bmw.com.ar":"AR","bmw.at":"AT","bmw.com.au":"AU","bmw.be":"BE","bmw.bg":"BG","bmw.com.br":"BR","bmw.ca":"CA","bmw.ch":"CH","bmw.com.cn":"CN","bmw.cz":"CZ","bmw.de":"DE","bmw.dk":"DK","bmw.es":"ES","bmw.fi":"FI","bmw.fr":"FR","bmw.co.uk":"GB","bmw.gr":"GR","bmw.hu":"HU","bmw.co.id":"ID","bmw.ie":"IE","bmw.in":"IN","bmw.is":"IS","bmw.it":"IT","bmw.co.jp":"JP","bmw.co.kr":"KR","bmw.lu":"LU","bmw.com.mx":"MX","bmw.com.my":"MY","bmw.nl":"NL","bmw.no":"NO","bmw.co.nz":"NZ","bmw.pl":"PL","bmw.pt":"PT","bmw.ro":"RO","bmw.ru":"RU","bmw.se":"SE","bmw.si":"SI","bmw.sk":"SK","bmw.co.th":"TH","bmw.com.sg":"SG","bmwusa.com":"US","bmw.com/en-au":"AU","mini.de":"DE","mini.fr":"FR","mini.it":"IT","mini.at":"AT","mini.ch":"CH","mini.be":"BE","mini.lu":"LU"};return t[e]||t[e+"/"+location.pathname.split("/")[1].toLowerCase()]}catch(e){_satellite.logger.log("Error:languageAndMarketWorkaround")}}}},"AAM-dilMarketList":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return["bmw.de"]}catch(t){var e={from:"AA",type:"DE",name:"AAM-dilMarketList"};_satellite.logger.error(t,e)}}}},searchDefaultProduct:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return"eVar10=datalayer field empty|eVar44=datalayer field missing|eVar45=datalayer field missing|eVar46=datalayer field missing|eVar47=datalayer field missing|eVar48=datalayer field missing|eVar49=datalayer field missing|eVar50=datalayer field missing|eVar51=datalayer field missing|eVar52=datalayer field missing|eVar53=datalayer field missing|eVar54=datalayer field missing|eVar55=datalayer field missing|eVar56=datalayer field missing|eVar57=datalayer field missing|eVar58=datalayer field missing|eVar65=datalayer field missing|eVar66=datalayer field missing|eVar69=datalayer field missing|eVar121=datalayer field missing|eVar124=datalayer field missing|eVar126=datalayer field missing|"}}},ev_eve_element:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.element}catch(e){}}}},ev_att_componentName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].attributes.relatedComponent.componentInfo.componentName}catch(e){}}}},"AA-componentDefaultValues":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL").get("pageInstanceId").split("/"),t={primaryCat:"nsc website",subCat:e[6]||"content",componentName:e[7]};switch(t.subCat.toLowerCase()){case"index-prod":t.subCat="content",t.componentName="homepage";break;case"all-models":t.subCat="showroom";break;case"all-models-prod":t.subCat="content",t.componentName="all-models-prod";break;case"topics":t.subCat="topics";break;case"ssl":"requests"===e[7]?(t.subCat="forms",t.componentName="Target: Visitor Reco"===_satellite.getVar("snapshotDL").get("event.-1.attributes.relatedComponent.componentInfo.componentName")?"Target: Visitor Reco":e[8]):t.subCat="content";break;case"stocklocator-prod":t.primaryCat="stock locator",t.componentName="used car stock locator";break;case"usedcar-prod":t.componentName="used car";break;case"rakenna-oma-bmw-prod":case"bygg-din-bmw-prod":t.componentName="configurator all models";break;default:if(RegExp("^[c|k]onf.*prod$").test(t.subCat.toLowerCase()))t.componentName="configurator all models";else{var s=_satellite.getVar("snapshotDL");t.componentName=s.get("component.-1.componentInfo.componentName",t.componentName)}}return t}catch(e){var a={from:"AA",type:"DE",name:"AA-componentDefaultValues"};_satellite.logger.error(e,a)}}}},jcrPathLevel2:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=_satellite.getVar("pa_cat_subCategory01"),s=_satellite.getVar("pa_cat_primaryCategory"),a=e.split("/"),o=2;if((o=o+6-1)<a.length)var n=a[o];else n="None";return e.indexOf("/configurator")>-1&&(n="Configurator Page"),"VCO"===s&&(n=t),n}catch(e){}}}},pr_att_sellingPriceTotal:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.product.length-1,s=e.product[t].attributes.sellingPriceTotal;return""==s&&(s="not set"),s}catch(e){return"not set"}}}},webDL:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api;if(null!=_satellite.getVar("tronEventDataLayer")&&null!=_satellite.getVar("tronEventDataLayer")&&0!=Object.keys(_satellite.getVar("tronEventDataLayer")).length)var t=_satellite.getVar("tronEventDataLayer");else if(void 0!==e){var s=e.getCurrentPageIndex();if(1==_satellite.getVar("useVCOPage"))for(var a=s;a>0;a--)if("object"==typeof e.getPageObject(a).page&&"VCO"==e.getPageObject(a).page.category.primaryCategory){s=a;break}if(void 0!==(t=e.getPageObject(s)).pageInstanceId&&""!=t.pageInstanceId&&-1==t.pageInstanceId.indexOf("need-analyzer"))return t;if(void 0!==t.component&&t&&t.component[0]&&t.component[0].category&&"stock locator"==t.component[0].category.subCategory01)return t;if(void 0!==t.component&&t&&t.component[0]&&t.component[0].componentInfo&&"digital checkout solution"==t.component[0].componentInfo.componentName)return t;if(void 0!==t.pageInstanceId&&""!=t.pageInstanceId&&t.product.length>0)return t;if(void 0!==t.pageInstanceId&&""!=t.pageInstanceId)return t=s&&s>0?e.getPageObject(s):e.getPageObject(0)}return t}catch(e){var o={from:"AA",type:"DE",name:"webDL"};_satellite.logger.error(e,o)}}}},setUserTypeForReco:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{if("true"===_satellite.getVar("isAdobeAnalyticsAllowed")){var e,t=_satellite.cookie.get("s_lv_s"),s=window.epaas.api.getPersistence("v_reco_data");e=t&&"First Visit"!==t?"returning":"new",(s=s?JSON.parse(s):{}).user=e,window.epaas.api.setPersistence("v_reco_data",JSON.stringify(s))}}catch(e){_satellite.logger.error(e)}}}},pa_pag_pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.pageName;return""==e&&(e="not set"),e}catch(e){return"not set"}}}},ev_eve_eventAction:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.eventAction||""}catch(e){}}}},isAdobeAnalyticsAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").AdobeAnalytics;return e.isTrackingAllowed(t).toString()}catch(e){var s={from:"AA",type:"DE",name:"isAdobeAnalyticsAllowed"};_satellite.logger.error(e,s)}}}},"geoRegion copy":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer");if(void 0!==e.page)return e.page.pageInfo.geoRegion;var t=location.hostname;if(t.indexOf("bmwjamaica.com")>-1)return"JM";if(t.indexOf("bmwhk.com")>-1)return"HK";if(t.indexOf("bmw-eg.com")>-1)return"EG";if(t.indexOf("bmwusa.com")>-1)return"US";var s=t.split("."),a=s[s.length-1];return a=a.toUpperCase()}catch(e){}}}},"AA-marketCodes":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["ZA","AR","AT","AU","BE","BG","BR","CA","CH","CN","CZ","DE","DK","ES","FI","FR","GB","GR","HU","ID","IE","IN","IS","IT","JP","KR","LU","MX","MY","NL","NO","NZ","PL","PT","RO","RU","SE","SI","SK","TH","SG","SL","US"]}}},pa_pag_language:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.language,t=_satellite.getVar("topLevelDomain");return"bmw-m.com"!=t&&"bmw.com"!=t&&"bmw-yachtsport.com"!=t&&"bmw-motorsport.com"!=t&&"bmw-golfsport.com"!=t&&"bmw-special-sales.com"!=t&&"bmwbkk.de"!=t||(e=e.split("-")[0]+"-HQ"),e}catch(e){}}}},"AA-InternalcampaignParameter":{modulePath:"core/src/lib/dataElements/queryStringParameter.js",settings:{name:"icp",caseInsensitive:!0}},"AA-Exclusionlist":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["eVar0","eVar4","eVar5","eVar7","eVar8","eVar12","eVar36","eVar6","eVar9","eVar10","eVar11","eVar13","eVar14","eVar17","eVar37","eVar38","eVar48","eVar59","eVar61","eVar62","eVar63","eVar64","eVar71","eVar120","eVar122","eVar125","eVar130","eVar132","eVar133","eVar142","eVar171","eVar172","prop17"]}}},finalDataLayer:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.digitals2&&window.digitals2.tracking&&window.digitals2.tracking.api;if(void 0!==e){var t=e.getCurrentPageIndex();if(1==_satellite.getVar("useVCOPage"))for(var s=t;s>0;s--)if("object"==typeof e.getPageObject(s).page&&"VCO"==e.getPageObject(s).page.category.primaryCategory){t=s;break}var a=e.getPageObject(t);if(void 0!==a.pageInstanceId&&""!=a.pageInstanceId&&-1==a.pageInstanceId.indexOf("need-analyzer"))return a;if(void 0!==a.component&&a&&a.component[0]&&a.component[0].category&&"stock locator"==a.component[0].category.subCategory01)return a;if(void 0!==a.component&&a&&a.component[0]&&a.component[0].componentInfo&&"digital checkout solution"==a.component[0].componentInfo.componentName)return a;if(void 0!==a.pageInstanceId&&""!=a.pageInstanceId&&a.product.length>0)return a;if(void 0!==a.pageInstanceId&&""!=a.pageInstanceId)return a=e.getPageObject(0)}return window.digitalData&&window.digitalData.pages&&window.digitalData.activePageIndex?window.digitalData.pages[window.digitalData.activePageIndex]:void 0}catch(e){var o={from:"AA",type:"DE",name:"finalDataLayer"};_satellite.logger.error(e,o)}}}},pageName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=(_satellite.getVar("pa_pag_pageName"),_satellite.getVar("pa_cat_primaryCategory")),s=[_satellite.getVar("jcrPathLevel1"),_satellite.getVar("jcrPathLevel2"),_satellite.getVar("jcrPathLevel3")],a=e.split("/"),o=6,n=a.length,r="";for(c=o;c<n;c++)r+=a[c]+" > ";if(r=r.substring(0,r.length-3),"VCO"===t){for(var i="",c=0;c<3;c++)i+=s[c]+" > ";r=i=i.substring(0,i.length-3)}return r=r.replace(/-prod/g,"")}catch(e){}}}},"AA-eventType":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.eventInfo.type"}}},hierarchyEvar:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("jcrPathLevel1"),t=_satellite.getVar("jcrPathLevel2"),s=_satellite.getVar("jcrPathLevel3"),a=_satellite.getVar("pageName"),o=_satellite.getVar("pa_pag_pageName"),n=[e,t,s],r=3;s.indexOf("None")>-1&&(r=2),t.indexOf("None")>-1&&(r=1),e.indexOf("None")>-1&&(r=0);for(var i="",c=0;c<r;c++){for(var d="",l=0;l<=c;l++)d+=n[l]+" > ";i+=(d=d.substring(0,d.length-3))+"|"}for(c=r;c<3;c++)i+=d+"|";return i+=a,i+="|"+o}catch(e){}}}},getIsPaidCampaign:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=JSON.parse(_satellite.cookie.get("visitor_aa_hits"));if(null!=e){if("paid_campaign"==e.user_type)return!0;if(void 0===s.campaign||"eml"!=s.campaign.substring(0,3)&&"Eml"!=s.campaign.substring(0,3)&&"coo"!=s.campaign.substring(0,3)&&"Coo"!=s.campaign.substring(0,3)&&"soc"!=s.campaign.substring(0,3)&&"Soc"!=s.campaign.substring(0,3)||-1==s.campaign.indexOf("-miy")&&-1==s.campaign.indexOf("-ccy")&&-1==s.campaign.indexOf("-fpy")&&-1==s.campaign.indexOf("-cmy")&&-1==s.campaign.indexOf("-pry")&&-1==s.campaign.indexOf("-cpa")&&-1==s.campaign.indexOf("-cpv")&&-1==s.campaign.indexOf("_paid")&&-1==s.campaign.indexOf("fpy")&&-1==s.campaign.indexOf("cmy")&&-1==s.campaign.indexOf("pry")&&-1==s.campaign.indexOf("cpa")&&-1==s.campaign.indexOf("cpv"))return!1;var t={user_type:"paid_campaign",aa_value:e.aa_value};return _satellite.cookie.set("visitor_aa_hits",JSON.stringify(t)),!0}if(void 0===s.campaign||"eml"!=s.campaign.substring(0,3)&&"Eml"!=s.campaign.substring(0,3)&&"coo"!=s.campaign.substring(0,3)&&"Coo"!=s.campaign.substring(0,3)&&"soc"!=s.campaign.substring(0,3)&&"Soc"!=s.campaign.substring(0,3)||-1==s.campaign.indexOf("-miy")&&-1==s.campaign.indexOf("-ccy")&&-1==s.campaign.indexOf("-fpy")&&-1==s.campaign.indexOf("-cmy")&&-1==s.campaign.indexOf("-pry")&&-1==s.campaign.indexOf("-cpa")&&-1==s.campaign.indexOf("-cpv")&&-1==s.campaign.indexOf("_paid")&&-1==s.campaign.indexOf("fpy")&&-1==s.campaign.indexOf("cmy")&&-1==s.campaign.indexOf("pry")&&-1==s.campaign.indexOf("cpa")&&-1==s.campaign.indexOf("cpv"))return t={user_type:"other",aa_value:1},_satellite.cookie.set("visitor_aa_hits",JSON.stringify(t)),!1;var t={user_type:"paid_campaign",aa_value:1};return _satellite.cookie.set("visitor_aa_hits",JSON.stringify(t)),!0}catch(e){var a={from:"AA",type:"DE",name:"getIsPaidCampaign"};_satellite.logger.error(e,a)}}}},"AA-reportSuite":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").cache;if(e.get("AA-reportSuite"))return e.get("AA-reportSuite");var t="bmwgroup.group.global.test",s="bmwgroup.group.global.all",a={"bmw.co.za":"bmwgroup.bmw.za.market","bmw.tj":"bmwgroup.bmw.tj.market","bmw.com.ar":"bmwgroup.bmw.ar.market","bmw.at":"bmwgroup.bmw.at.market","bmw.com.au":"bmwgroup.bmw.au.market","bmw.be":"bmwgroup.bmw.be.market","bmw.bg":"bmwgroup.bmw.bg.market","bmw.com.br":"bmwgroup.bmw.br.market","bmw.ca":"bmwgroup.bmw.ca.market","bmw.ch":"bmwgroup.bmw.ch.market","bmw.com.cn":"bmwgroup.bmw.cn.market","bmw.cz":"bmwgroup.bmw.cz.market","bmw.de":"bmwgroup.bmw.de.market","bmw.dk":"bmwgroup.bmw.dk.market","bmw.es":"bmwgroup.bmw.es.market","bmw.fi":"bmwgroup.bmw.fi.market","bmw.fr":"bmwgroup.bmw.fr.market","bmw.co.uk":"bmwgroup.bmw.uk.market","bmw.gr":"bmwgroup.bmw.gr.market","bmw.hu":"bmwgroup.bmw.hu.market","bmw.co.id":"bmwgroup.bmw.id.market","bmw.ie":"bmwgroup.bmw.ie.market","bmw.in":"bmwgroup.bmw.in.market","bmw.is":"bmwgroup.bmw.is.market","bmw.it":"bmwgroup.bmw.ita.market","bmw.co.jp":"bmwgroup.bmw.jp.market","bmw.co.kr":"bmwgroup.bmw.kr.market","bmw.lu":"bmwgroup.bmw.lu.market","bmw.com.mx":"bmwgroup.bmw.mx.market","bmw.com.my":"bmwgroup.bmw.my.market","bmw.nl":"bmwgroup.bmw.nl.market","bmw.no":"bmwgroup.bmw.no.market","bmw.co.nz":"bmwgroup.bmw.nz.market","bmw.pl":"bmwgroup.bmw.pl.market","bmw.pt":"bmwgroup.bmw.pt.market","bmw.ro":"bmwgroup.bmw.ro.market","bmw.ru":"bmwgroup.bmw.ru.market","bmw.se":"bmwgroup.bmw.se.market","bmw.si":"bmwgroup.bmw.si.market","bmw.sk":"bmwgroup.bmw.sk.market","bmw.co.th":"bmwgroup.bmw.th.market","bmw.com.sg":"bmwgroup.bmw.sg.market","bmw.com/en-au":"bmwgroup.bmw.au.market","mini.de":"bmwgroup.mini.de.market","mini.fr":"bmwgroup.mini.fr.market","mini.it":"bmwgroup.mini.it.market","mini.ch":"bmwgroup.mini.ch.market","mini.at":"bmwgroup.mini.at.market","mini.be":"bmwgroup.mini.be.market","mini.lu":"bmwgroup.mini.lu.market"},o=a[_satellite.getVar("topLevelDomain")]||a[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()],n=(i=new RegExp(/^m\d{3}\.bmw-int\d{1,2}\.com$/).test(window.location.hostname),c="staging"===_satellite.buildInfo.environment||"development"===_satellite.buildInfo.environment,i||c?t:s+","+o);return n.indexOf("undefined")>-1&&(n=t),e.set("AA-reportSuite",n),n}catch(e){var r={from:"AA",type:"DE",name:"AA-reportSuite"};_satellite.logger.error(e,r)}var i,c}}},jcrPathLevel1:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=e.split("/"),s=1;if((s=s+6-1)<t.length)var a=t[s];else a="None";return e.indexOf("/configurator")>-1&&(a="Configurator"),a}catch(e){}}}},"AA-eventEffect":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.eventInfo.effect"}}},"AA-eventFilter-priceControl":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return filterEvent=function(e){var t=e,a=["event831","event832","event833","event834","event835","event836","event837","event858","event841","event842","event843","event844","event845","event846","event847","event848","event851","event852","event853","event854","event855","event856","event857","event861","event862","event863","event864","event865","event866","event867","event868"],o=["event841","event842","event843","event844","event845","event846","event847","event861","event862","event863","event864","event865","event866","event867","event868"];try{var n={ALLOW:"ALLOW",DENY:"DENY",FILTER:"FILTER"},r={con:{permission:n.ALLOW},"stock locator":{permission:n.DENY},oneshop:{permission:n.FILTER}},c={"digital services":{permission:n.ALLOW},"physical products":{permission:n.DENY},"physical goods":{permission:n.DENY}},d=r[t]||{permission:n.DENY};if(d.permission==n.ALLOW)return _satellite.logger.debug("DE - eventFilter-PriceControl: ALLOW"),evar139="prices are allowed",evar139;if(d.permission==n.DENY){for(var l in a)s.events=s.rfl(s.events,a[l]),_satellite.logger.debug("DE - eventFilter-PriceControl: DENY");return evar139="prices are denied",evar139}if(d.permission==n.FILTER)return _satellite.logger.debug("DE - eventFilter-PriceControl: FILTER"),void 0!==s.products&&""!=s.products&&(sProductsList=s.products.split(","),arrayProduct=[],sProductsList.forEach((function(e){var t=e.split(";"),a=[],r=!1;for(i=t.length;i>=0;i--)if(5==i)a.push(t[i]),evars=t[i].split("|"),evarsValues=evars.filter((function(e){return-1!=e.indexOf("eVar54")||-1!=e.indexOf("eVar53")})).flatMap((function(e){return e.split("=")[1]})),evarsValues.forEach((function(e){merchValuePermission=c[e]||{permission:n.DENY},merchValuePermission.permission==n.DENY&&(r=!0,_satellite.logger.info("DE - eventFilter-PriceControl: merchEvars: "+e),_satellite.logger.info("DE - eventFilter-PriceControl: flag set to True"))}));else if(4==i)if(r){for(var d in _satellite.logger.info("DE - eventFilter-PriceControl: remove merchandising events"),a.push(""),o)s.events=s.rfl(s.events,o[d]),_satellite.logger.debug("DE - eventFilter-PriceControl: DENY");r=!1}else a.push(t[i]);else i<4&&a.push(t[i]);arrayProduct.push(a.reverse().join(";"))})),s.products=arrayProduct.join(",")),evar139="prices are filtered",evar139}catch(e){var u={from:"AA",type:"DE",name:"AA-eventFilter-priceControl"};_satellite.logger.error(e,u)}},filterEvent}}},cookieDomainPeriods:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("topLevelDomain").split(".").length}catch(t){var e={from:"AA",type:"DE",name:"cookieDomainPeriods"};_satellite.logger.error(t,e)}}}},ev_att_componentHeadline:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].attributes.relatedComponent.componentInfo.componentHeadline}catch(e){}}}},pa_pag_referringUrl:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").page.pageInfo.referringUrl;return e=e.toLowerCase()}catch(e){}}}},"AAM-emailid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=document.querySelector("#email").value;if(1==/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e))return e}catch(e){_satellite.logger.error("EmailID error ",e)}}}},usabilla_restrict_keywords_url:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var e=["prueba","oferta","rfi","rfo","tda","my-bmw-start.html","dlo","rfc","my-bmw.html","panoramica","gamma","test-drive-now","bmw-cataloghi.html","offers-service","offres-et-services","toute-la-gamme","test-drive","forms/request.html","offers-and-services","tda-experience","contact","offerte","proefrit","berekenen","nieuwsbrief","online-afspraakplanner","aanvraag/contact","vakantieauto","brochure-prijslijst","my-bmw.html","accessoire-configurator","call-me-back.html","als-eerste-rijden"],t=0;t<e.length;t++)if(-1!==_satellite.getVar("URL").indexOf(e[t]))return!0;return!1}catch(e){var s={from:"Usabilla",type:"DE",name:"usabilla_restrict_keywords"};_satellite.logger.error(e,s)}}}},hashingMID:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=s.marketingCloudVisitorID,t="erpAVj*ED9aTVMs%",a=a||function(e,t){var s={},a=s.lib={},o=function(){},n=a.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},r=a.WordArray=n.extend({init:function(e,s){e=this.words=e||[],this.sigBytes=s!=t?s:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,s=e.words,a=this.sigBytes;if(e=e.sigBytes,this.clamp(),a%4)for(var o=0;o<e;o++)t[a+o>>>2]|=(s[o>>>2]>>>24-o%4*8&255)<<24-(a+o)%4*8;else if(65535<s.length)for(o=0;o<e;o+=4)t[a+o>>>2]=s[o>>>2];else t.push.apply(t,s);return this.sigBytes+=e,this},clamp:function(){var t=this.words,s=this.sigBytes;t[s>>>2]&=4294967295<<32-s%4*8,t.length=e.ceil(s/4)},clone:function(){var e=n.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var s=[],a=0;a<t;a+=4)s.push(4294967296*e.random()|0);return new r.init(s,t)}}),i=s.enc={},c=i.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var s=[],a=0;a<e;a++){var o=t[a>>>2]>>>24-a%4*8&255;s.push((o>>>4).toString(16)),s.push((15&o).toString(16))}return s.join("")},parse:function(e){for(var t=e.length,s=[],a=0;a<t;a+=2)s[a>>>3]|=parseInt(e.substr(a,2),16)<<24-a%8*4;return new r.init(s,t/2)}},d=i.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var s=[],a=0;a<e;a++)s.push(String.fromCharCode(t[a>>>2]>>>24-a%4*8&255));return s.join("")},parse:function(e){for(var t=e.length,s=[],a=0;a<t;a++)s[a>>>2]|=(255&e.charCodeAt(a))<<24-a%4*8;return new r.init(s,t)}},l=i.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},u=a.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var s=this._data,a=s.words,o=s.sigBytes,n=this.blockSize,i=o/(4*n);if(t=(i=t?e.ceil(i):e.max((0|i)-this._minBufferSize,0))*n,o=e.min(4*t,o),t){for(var c=0;c<t;c+=n)this._doProcessBlock(a,c);c=a.splice(0,t),s.sigBytes-=o}return new r.init(c,o)},clone:function(){var e=n.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0})
;a.Hasher=u.extend({cfg:n.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,s){return new e.init(s).finalize(t)}},_createHmacHelper:function(e){return function(t,s){return new b.HMAC.init(e,s).finalize(t)}}});var b=s.algo={};return s}(Math);!function(e){for(var t=a,s=(n=t.lib).WordArray,o=n.Hasher,n=t.algo,r=[],i=[],c=function(e){return 4294967296*(e-(0|e))|0},d=2,l=0;64>l;){var u;e:{u=d;for(var b=e.sqrt(u),m=2;m<=b;m++)if(!(u%m)){u=!1;break e}u=!0}u&&(8>l&&(r[l]=c(e.pow(d,.5))),i[l]=c(e.pow(d,1/3)),l++),d++}var p=[];n=n.SHA256=o.extend({_doReset:function(){this._hash=new s.init(r.slice(0))},_doProcessBlock:function(e,t){for(var s=this._hash.words,a=s[0],o=s[1],n=s[2],r=s[3],c=s[4],d=s[5],l=s[6],u=s[7],b=0;64>b;b++){if(16>b)p[b]=0|e[t+b];else{var m=p[b-15],g=p[b-2];p[b]=((m<<25|m>>>7)^(m<<14|m>>>18)^m>>>3)+p[b-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+p[b-16]}m=u+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&d^~c&l)+i[b]+p[b],g=((a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22))+(a&o^a&n^o&n),u=l,l=d,d=c,c=r+m|0,r=n,n=o,o=a,a=m+g|0}s[0]=s[0]+a|0,s[1]=s[1]+o|0,s[2]=s[2]+n|0,s[3]=s[3]+r|0,s[4]=s[4]+c|0,s[5]=s[5]+d|0,s[6]=s[6]+l|0,s[7]=s[7]+u|0},_doFinalize:function(){var t=this._data,s=t.words,a=8*this._nDataBytes,o=8*t.sigBytes;return s[o>>>5]|=128<<24-o%32,s[14+(o+64>>>9<<4)]=e.floor(a/4294967296),s[15+(o+64>>>9<<4)]=a,t.sigBytes=4*s.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=o._createHelper(n),t.HmacSHA256=o._createHmacHelper(n)}(Math);var o=t+e,n=a.SHA256(o);return btoa(n)}catch(e){var r={from:"AA",type:"DE",name:"hashingMID"};_satellite.logger.error(e,r)}}}},"AA-SearchAds360Parameter":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={"bmw.de":["gclid"],"bmw.at":["gclid"]};function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}var s=_satellite.getVar("topLevelDomain");if(void 0!==e[s])var a=e[s];var o="";if("bmw.de"==s||"bmw.at"==s)for(var n=0;n<a.length&&!(o=t(a[n]));n++);return o}catch(e){var r={from:"AA",type:"DE",name:"SearchAds360Parameter"};_satellite.logger.error(e,r)}}}},perfTime_query:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.epaas.api.getPersistence("bmwdtm_hq_perf");return void 0!==e?(jdata=JSON.parse(e),jdata.query):"na"}catch(e){return _satellite.logger.error("Error in Data Element perfTime_query : "+e),"na"}}}},"AA-pageID":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"page.pageInfo.pageID"}}},"AA-consentMetaData":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{if(void 0!==window.processingWrapper&&"function"==typeof window.processingWrapper._getProcessingInfo){var t=window.processingWrapper._getProcessingInfo("BaseTracking",{type:window.processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,format:window.processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2});return e?t[e]:t}return"datalayer field missing"}catch(e){var s={from:"AA",type:"DE",name:"consentMetaData"};_satellite.logger.error(e,s)}}}}},"KIT-helpers":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js",settings:{helperTools:null}},usabilla_randomizer:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),s=t[t.length-1].toUpperCase();"UK"==s&&(s="GB"),"COM"==s&&window.location.href.indexOf("bmw.com/en-au/")>-1&&(s="AU");var a,o=["DE","GB","JP","IT","FR","ES","RU","KR","AU","NL","AT","CN","ZA","CA","MX","TR","PL"],n={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:0,Psyma:30,Other:58}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:25,CES:0,Psyma:46,Other:29}},JP:{buttonCode:{DESKTOP:"92977586f250",MOBILE:"d84bdb2f1964"},NPS:{DESKTOP:"85a49479c91e",MOBILE:"101f944c997e"},CES:{DESKTOP:"7552071ac07b",MOBILE:"f25819ad1a04"},random:{NPS:20,CES:60,Psyma:0,Other:20}},IT:{buttonCode:{DESKTOP:"88ab5d53da60",MOBILE:"8e1a4fcc286b"},NPS:{DESKTOP:"c4a8ccbec600",MOBILE:"73fa346d403b"},CES:{DESKTOP:"0aae4c00330a",MOBILE:"ace839b972fd"},random:{NPS:10,CES:0,Psyma:46,Other:44}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:80,CES:0,Psyma:0,Other:20}},ES:{buttonCode:{DESKTOP:"8445c5a2cf12",MOBILE:"3008841f7269"},NPS:{DESKTOP:"7e88e6163a4c",MOBILE:"cd793f80bda6"},CES:{DESKTOP:"879b46cf88f5",MOBILE:"4ac2bb513106"},random:{NPS:26,CES:0,Psyma:0,Other:74}},RU:{buttonCode:{DESKTOP:"92772dbeabd8",MOBILE:"dbbd8c96c68a"},NPS:{DESKTOP:"3cda55b4e6d0",MOBILE:"a0870a2972f6"},CES:{DESKTOP:"1db9cb311c93",MOBILE:"a003194dfdc8"},random:{NPS:15,CES:0,Psyma:0,Other:85}},KR:{buttonCode:{DESKTOP:"4583de3025fe",MOBILE:"51af9d4cb9c0"},NPS:{DESKTOP:"10ff397b6d5f",MOBILE:"95decc55e2ef"},CES:{DESKTOP:"635e47f55055",MOBILE:"93d523f3d22d"},random:{NPS:25,CES:0,Psyma:0,Other:75}},AU:{buttonCode:{DESKTOP:"c8476b2d62dd",MOBILE:"d4b7a77bec58"},NPS:{DESKTOP:"e77a23160463",MOBILE:"882cd879928f"},CES:{DESKTOP:"343b84a4e928",MOBILE:"fd25e25af4f3"},random:{NPS:20,CES:0,Psyma:0,Other:80}},NL:{buttonCode:{DESKTOP:"44b55d42df13",MOBILE:"08982312381f"},NPS:{DESKTOP:"2979a4502fba",MOBILE:"363c153bc496"},CES:{DESKTOP:"d29bcee79e5e",MOBILE:"fa3ac53564d7"},random:{NPS:75,CES:0,Psyma:0,Other:25}},AT:{buttonCode:{DESKTOP:"fd1b75fa05a4",MOBILE:"3d1326b2e2da"},NPS:{DESKTOP:"63dc33967e95",MOBILE:"d9969ae1bed5"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:30,CES:0,Psyma:0,Other:70}},CN:{buttonCode:{DESKTOP:"cd813f067481",MOBILE:"19b6fbe6d646"},NPS:{DESKTOP:"ac90b5319d03",MOBILE:"28642a3ff0e4"},CES:{DESKTOP:"71255a3f180f",MOBILE:"b67d3528c7ad"},random:{NPS:85,CES:0,Psyma:0,Other:15}},ZA:{buttonCode:{DESKTOP:"e76b03c4d193",MOBILE:"25da3549cea1"},NPS:{DESKTOP:"82d8573d931c",MOBILE:"e9ae4da2cac2"},CES:{DESKTOP:"c68833e0a2d2",MOBILE:"7c9b7e333fe0"},random:{NPS:50,CES:0,Psyma:0,Other:50}},CA:{buttonCode:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},NPS:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:50,CES:0,Psyma:0,Other:50}},MX:{buttonCode:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},NPS:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},TR:{buttonCode:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},NPS:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},PL:{buttonCode:{DESKTOP:"d3bfaa402165",MOBILE:"bf451d583c95"},NPS:{DESKTOP:"",MOBILE:""},CES:{DESKTOP:"",MOBILE:""},random:{NPS:0,CES:0,Psyma:0,Other:100}}},r=(null==(b=_satellite.cookie.get("bmwdtm_hq_vs"))&&(b=Math.floor(Date.now()/1e3),o.indexOf(s)>-1&&"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&_satellite.cookie.set("bmwdtm_hq_vs",b,{domain:_satellite.getVar("topLevelDomain")})),void 0!==_satellite.cookie.get("bmwdtm_hq_vs")&&null!=_satellite.cookie.get("bmwdtm_hq_vs")&&(u=_satellite.cookie.get("bmwdtm_hq_vs").slice(-2)),u=+u);if(a=n[s]?function(e,t,s,a,o){if(t+s+a+o==100)return e>=0&&e<t?"NPS":e>=t&&e<t+s?"CES":e>=t+s&&e<t+s+a?"PSYMA":e>=t+s+a&&e<t+s+a+o?"NO-SURVEY":void 0}(r,n[s].random.NPS,n[s].random.CES,n[s].random.Psyma,n[s].random.Other):"NO-SURVEY",("NPS"==a||"CES"==a)&&o.indexOf(s)>-1){var i,c,d=null!=localStorage.getItem("usbl."+n[s].buttonCode[e]+".c."+n[s].NPS[e]),l=null!=localStorage.getItem("usbl."+n[s].buttonCode[e]+".c."+n[s].CES[e]);return i=!d||"T"!=localStorage.getItem("usbl."+n[s].buttonCode[e]+".c."+n[s].NPS[e]).split("/")[0],c=!l||"T"!=localStorage.getItem("usbl."+n[s].buttonCode[e]+".c."+n[s].CES[e]).split("/")[0],i&&c&&o.indexOf(s)>-1&&"true"==_satellite.getVar("isAdobeAnalyticsAllowed")?a:"NO-SURVEY"}return a}catch(e){_satellite.logger.error(e)}var u,b}}},"AA-setFallbackValues":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var e=["eVar4","eVar5","eVar9","eVar11","eVar12","eVar13","eVar71","server","eVar7","eVar8","prop13","eVar36","eVar37","eVar38","pageType","prop1","prop2","prop3","prop4","prop5","prop12","prop14","prop15","prop27","prop28","prop29","prop19","prop41","prop42","prop43","prop44","prop45","prop60","prop61","prop63","prop64","prop71","prop74"],t=0;t<e.length;t++)s[e[t]]||(s[e[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(e[t]+",")&&(s.linkTrackVars+=","+e[t]);var a=["eVar6","eVar14","eVar28","eVar29","prop31","prop32","prop33"];for(t=0;t<a.length;t++)s[a[t]]||(s[a[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(a[t]+",")&&(s.linkTrackVars+=","+a[t]);var o=["eVar120","eVar122","eVar123","eVar125"];for(t=0;t<o.length;t++)s[o[t]]||(s[o[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(o[t]+",")&&(s.linkTrackVars+=","+o[t]);var n=["prop6","prop7","prop8","prop9","prop10","prop11","prop17","prop18","prop23","prop40","prop51","prop52","prop53","prop54","prop55","prop56","prop57","prop59","prop69","eVar34","eVar59"];for(t=0;t<=n.length;t++)s[n[t]]||(s[n[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(n[t]+",")&&(s.linkTrackVars+=","+n[t]);var r=["prop24","prop34","prop35","prop36","prop37","prop38","prop39","prop46","prop47","prop48","prop49","prop50","prop65","prop66","prop67","prop72","prop73","eVar18","eVar22","eVar136","eVar137","eVar138","eVar151","eVar152","eVar153","eVar154","eVar155","eVar156","eVar157","eVar158","eVar159","eVar160"];for(t=0;t<=r.length;t++)s[r[t]]||(s[r[t]]="datalayer field missing"),s.linkTrackVars&&-1==s.linkTrackVars.indexOf(r[t]+",")&&(s.linkTrackVars+=","+r[t]);var i=["eVar35","eVar39","eVar40","eVar41","eVar42","eVar43","eVar76","eVar77","eVar78","eVar79","eVar132","eVar134","eVar135","eVar142","eVar175","eVar199","campaign","eVar61","eVar63","eVar64","eVar171","eVar172","eVar15","eVar16","eVar17","eVar19","eVar20","eVar21","eVar22","eVar23","eVar24","eVar25","eVar26","eVar27","eVar130","eVar131","eVar133","eVar191","eVar192","eVar193","eVar194","eVar197","eVar199","eVar200","prop75"];for(t=0;t<=i.length;t++)!s[i[t]]||"datalayer field missing"!=s[i[t]]&&"datalayer field empty"!=s[i[t]]||delete s[i[t]]}catch(e){var c={from:"AA",type:"DE",name:"AA-mapAllDimensions"};_satellite.logger.error(e,c)}}}},consentMap:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return"true"===_satellite.getVar("splitConsentEnabled")?{AdobeAnalytics:"AdobeAnalytics",Target:"AdobeTargetAnalytics",TargetPersonalization:"AdobeTargetPersonalization",AAM:"AdobeAudienceManager_DMP",campaignCookieTracking:"campaignCookieTracking"}:{AdobeAnalytics:"analytics",Target:"analytics",TargetPersonalization:"functional",AAM:"advertising",Others:"advertising",campaignCookieTracking:"campaignCookieTracking"}}catch(t){var e={from:"AA",type:"DE",name:"consentMap"};_satellite.logger.error(t,e)}}}},setProductString:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){function e(e,t){for(var s=[],a=0;a<e.length;a++)-1===t.indexOf(e[a])&&s.push(e[a]);return s}function t(e){return e.indexOf("gasoline")>-1?e.indexOf("hybrid")>-1?"x":"o":e.indexOf("diesel")>-1?e.indexOf("hybrid")>-1?"y":"d":e.indexOf("electric")>-1?"e":e.indexOf("petrol")>-1?"b":e}return function(s){var a=["new vehicle","used vehicle","service","search","after sales","other"];try{var o,n=_satellite.getVar("snapshotDL"),r="",i=(n.get("product"),{});for(var c in n.get("product"))isNaN(+c)||(i[n.get("product."+c+".productInfo.productID")]=c,"vehicle"==n.get("product."+c+".category.productType").toLowerCase()&&(o=c,n.get("product."+c+".productInfo.productID")),"new vehicle"==n.get("product."+c+".category.productType").toLowerCase()&&(o=c,n.get("product."+c+".productInfo.productID")),"used vehicle"==n.get("product."+c+".category.productType").toLowerCase()&&(o=c,n.get("product."+c+".productInfo.productID")));var d={product:{}};for(var c in n.get("product"))isNaN(+c)||(d.product[n.get("product."+c+".productInfo.productID")]={},d.product[n.get("product."+c+".productInfo.productID")]=n.get("product."+c));var l=Object.keys(d.product);for(var u in n.get("cart"),d.cart={},n.get("cart.item"))isNaN(+u)||"datalayer field missing"!=n.get("cart.item."+u+".productInfo.productID")&&"datalayer field empty"!=n.get("cart.item."+u+".productInfo.productID")&&(d.cart[n.get("cart.item."+u+".productInfo.productID")]={},d.cart[n.get("cart.item."+u+".productInfo.productID")]=n.get("cart.item."+u));var b=Object.keys(d.cart);for(var m in n.get("transaction"),d.transaction={},n.get("transaction.-1.item"))isNaN(+u)||"datalayer field missing"!=n.get("transaction.-1.item."+m+".productInfo.productID")&&"datalayer field empty"!=n.get("transaction.-1.item."+m+".productInfo.productID")&&(d.transaction[n.get("transaction.-1.item."+m+".productInfo.productID")]={},d.transaction[n.get("transaction.-1.item."+m+".productInfo.productID")]=n.get("transaction.-1.item."+m));var p=Object.keys(d.transaction);if(n.get("product").length>0)for(var g in n.get("product"))if(!isNaN(+g)){var f=_satellite.getVar("productBuilder"),v=n.get("product."+g+".category.productType"),h=n.get("product."+g+".productInfo.productID",n.get("product."+g+".attributes.mmdr"));f.id=h,a.indexOf(v)>-1?f.category=v:f.category="datalayer field missing","datalayer field missing"==n.get("product."+g+".attributes.mmdr")||"datalayer field empty"==n.get("product."+g+".attributes.mmdr")||"datalayer field missing"!=n.get("product."+g+".category.productType")&&"datalayer field empty"!=n.get("product."+g+".category.productType")||(f.category="vehicle",v="vehicle"),"datalayer field missing"==n.get("product."+g+".attributes.mmdr")||"datalayer field empty"==n.get("product."+g+".attributes.mmdr")||"datalayer field missing"!=n.get("product."+g+".category.productType")&&"datalayer field empty"!=n.get("product."+g+".category.productType")||(f.category="new vehicle",v="new vehicle"),"datalayer field missing"==n.get("product."+g+".attributes.mmdr")||"datalayer field empty"==n.get("product."+g+".attributes.mmdr")||"datalayer field missing"!=n.get("product."+g+".category.productType")&&"datalayer field empty"!=n.get("product."+g+".category.productType")||(f.category="used vehicle",v="used vehicle");var P=+(((d.cart[h]||"").price||"").voucherDiscount||"0"),j=+(((d.cart[h]||"").price||"").priceWithTax||"0"),C=+n.get("transaction.-1.total.voucherDiscount","0"),R=+n.get("transaction.-1.total.priceWithTax","0"),w=n.get("product."+g+".attributes.mmdr",n.get("product."+g+".attributes.internalCode")),E=n.get("product."+g+".attributes.mmdrVG",n.get("product."+g+".attributes.internalCode")),y=n.get("product."+g+".attributes.modelCode");if(eVar10="G26E"==w||"G26E"==E||"71AW"==y||"31AW"==y?"G26E":"G70E"==w||"G70E"==E?"G70E":n.get("product."+g+".attributes.mmdr",n.get("product."+g+".attributes.internalCode")),"vehicle"==v||"new vehicle"==v||"used vehicle"==v){var T=t(n.get("product."+g+".attributes.fuelType"));f.merchEvars={eVar10:eVar10,eVar44:n.get("product."+g+".attributes.productionYear"),eVar45:n.get("product."+g+".attributes.yearOfRegistration"),eVar46:n.get("product."+g+".attributes.vehicleStatus",n.get("product."+g+".attributes.vehicleSelection")),eVar47:n.get("product."+g+".productInfo.color"),eVar48:n.get("product."+g+".attributes.modelCode"),eVar49:n.get("product."+g+".attributes.gearing"),eVar50:n.get("product."+g+".attributes.series"),eVar51:n.get("product."+g+".attributes.bodyType"),eVar52:n.get("product."+g+".productInfo.productName",n.get("product."+g+".attributes.modelName")),eVar53:"model_navigation_hp"==n.get("event.-1.attributes.relatedComponent.componentInfo.componentName")?"new car":n.get("product."+g+".category.primaryCategory"),eVar54:n.get("product."+g+".category.subCategory1"),eVar55:n.get("product."+g+".category.subCategory2"),eVar56:T,eVar57:n.get("product."+g+".attributes.hybridVersion"),eVar58:n.get("product."+g+".attributes.motorization",n.get("product."+g+".attributes.engine")),eVar59:n.get("product."+g+".attributes.configID",n.get("product."+g+".attributes.configLink")),eVar60:n.get("product."+g+".productInfo.manufacturer",((d.cart[h]||"").productInfo||"").manufacturer||""),eVar65:n.get("product."+g+".attributes.modelName"),eVar66:n.get("product."+g+".attributes.trimLevel"),eVar69:n.get("product."+g+".attributes.modelCodeAG"),eVar121:((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode?((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode||"":n.get("transaction.-1.total.voucherCode",n.get("cart.price.voucherCode")),eVar124:((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate?((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate||"":n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},f.category="new vehicle";var I=["event801="+ +n.get("product."+g+".attributes.fin.downPayment","0"),"event802="+ +n.get("product."+g+".attributes.fin.downPayment","0"),"event803="+ +n.get("product."+g+".attributes.fin.monthlyPayment","0"),"event804="+ +n.get("product."+g+".attributes.fin.monthlyPayment","0"),"event805="+ +n.get("product."+g+".attributes.fin.term","0"),"event806="+ +n.get("product."+g+".attributes.fin.mileage","0"),"event807=0","event808=0","event831="+(((d.cart[h]||"").price||"").basePrice||"0"),"event832="+(P<0?+ +j*P/j:P),"event833="+(P<0?+j*P:P),"event834="+ +(((d.cart[h]||"").price||"").taxRate||"0"),"event835="+(((d.cart[h]||"").price||"").taxRate||"0"),"event836="+(((d.cart[h]||"").price||"").priceWithTax||"0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+((d.cart[h]||"").quantity||"0")];f.events=I,f.quantity=(d.cart[h]||"").quantity||"0",f.price=((d.cart[h]||"").price||"").priceWithTax||"0",s.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")}else"Related Service / Finance"==v||"service"==v?(T=t(n.get("product."+o+".attributes.fuelType",n.get("product."+g+".attributes.fuelType"))),f.merchEvars={eVar52:n.get("product."+g+".productInfo.productName"),eVar53:n.get("product."+g+".category.primaryCategory"),eVar54:n.get("product."+g+".category.subCategory1"),eVar55:n.get("product."+g+".category.subCategory2"),eVar84:n.get("product."+g+".attributes.fin.downPayment"),eVar85:n.get("product."+g+".attributes.fin.mileage"),eVar86:n.get("product."+g+".attributes.fin.monthlyPayment"),eVar87:n.get("product."+g+".attributes.fin.term"),eVar10:n.get("product."+o+".attributes.mmdr",n.get("product."+o+".attributes.internalCode",n.get("product."+g+".attributes.mmdr",n.get("product."+g+".attributes.internalCode")))),eVar44:n.get("product."+o+".attributes.productionYear",n.get("product."+g+".attributes.productionYear")),eVar45:n.get("product."+o+".attributes.yearOfRegistration",n.get("product."+g+".attributes.yearOfRegistration")),eVar46:n.get("product."+o+".attributes.vehicleStatus",n.get("product."+o+".attributes.vehicleSelection",n.get("product."+g+".attributes.vehicleStatus",n.get("product."+g+".attributes.vehicleSelection")))),eVar47:n.get("product."+o+".productInfo.color",n.get("product."+g+".productInfo.color")),eVar48:n.get("product."+o+".attributes.modelCode",n.get("product."+g+".attributes.modelCode")),eVar49:n.get("product."+o+".attributes.gearing",n.get("product."+g+".attributes.gearing")),eVar50:n.get("product."+o+".attributes.series",n.get("product."+g+".attributes.series")),eVar51:n.get("product."+o+".attributes.bodyType",n.get("product."+g+".attributes.bodyType")),eVar56:T,eVar57:n.get("product."+o+".attributes.hybridVersion",n.get("product."+g+".attributes.hybridVersion")),eVar58:n.get("product."+o+".attributes.motorization",n.get("product."+o+".attributes.engine",n.get("product."+g+".attributes.motorization",n.get("product."+g+".attributes.engine")))),eVar59:n.get("product."+o+".attributes.configID",n.get("product."+o+".attributes.configLink",n.get("product."+g+".attributes.configID",n.get("product."+g+".attributes.configLink")))),eVar60:n.get("product."+o+".productInfo.manufacturer",((d.cart[h]||"").productInfo||"").manufacturer||""),eVar65:n.get("product."+o+".attributes.modelName",n.get("product."+g+".attributes.modelName")),eVar66:n.get("product."+o+".attributes.trimLevel",n.get("product."+g+".attributes.trimLevel")),eVar69:n.get("product."+o+".attributes.modelCodeAG",n.get("product."+g+".attributes.modelCodeAG")),eVar121:((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode?((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode||"":n.get("transaction.-1.total.voucherCode",n.get("cart.price.voucherCode")),eVar124:((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate?((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate||"":n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},f.category="service",I=["event801="+ +n.get("product."+g+".attributes.fin.downPayment","0"),"event802="+ +n.get("product."+g+".attributes.fin.downPayment","0"),"event803="+ +n.get("product."+g+".attributes.fin.monthlyPayment","0"),"event804="+ +n.get("product."+g+".attributes.fin.monthlyPayment","0"),"event805="+ +n.get("product."+g+".attributes.fin.term","0"),"event806="+ +n.get("product."+g+".attributes.fin.mileage","0"),"event807=0","event808=0","event831="+(((d.cart[h]||"").price||"").basePrice||"0"),"event832="+(P<0?+ +j*P/j:P),"event833="+(P<0?+j*P:P),"event834="+ +(((d.cart[h]||"").price||"").taxRate||"0"),"event835="+(((d.cart[h]||"").price||"").taxRate||"0"),"event836="+(((d.cart[h]||"").price||"").priceWithTax||"0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+((d.cart[h]||"").quantity||"0")],f.events=I,f.quantity=(d.cart[h]||"").quantity||"0",f.price=((d.cart[h]||"").price||"").priceWithTax||"0",s.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")):"Options & Accessory"!=v&&"after sales"!=v||(T=t(n.get("product."+o+".attributes.fuelType",n.get("product."+g+".attributes.fuelType"))),f.merchEvars={eVar52:n.get("product."+g+".productInfo.productName"),eVar53:n.get("product."+g+".category.primaryCategory"),eVar54:n.get("product."+g+".category.subCategory1"),eVar55:n.get("product."+g+".category.subCategory2"),eVar10:n.get("product."+o+".attributes.mmdr",n.get("product."+o+".attributes.internalCode",n.get("product."+g+".attributes.mmdr",n.get("product."+g+".attributes.internalCode")))),eVar44:n.get("product."+o+".attributes.productionYear",n.get("product."+g+".attributes.productionYear")),eVar45:n.get("product."+o+".attributes.yearOfRegistration",n.get("product."+g+".attributes.yearOfRegistration")),eVar46:n.get("product."+o+".attributes.vehicleStatus",n.get("product."+o+".attributes.vehicleSelection",n.get("product."+g+".attributes.vehicleStatus",n.get("product."+g+".attributes.vehicleSelection")))),eVar47:n.get("product."+o+".productInfo.color",n.get("product."+g+".productInfo.color")),eVar48:n.get("product."+o+".attributes.modelCode",n.get("product."+g+".attributes.modelCode")),eVar49:n.get("product."+o+".attributes.gearing",n.get("product."+g+".attributes.gearing")),eVar50:n.get("product."+o+".attributes.series",n.get("product."+g+".attributes.series")),eVar51:n.get("product."+o+".attributes.bodyType",n.get("product."+g+".attributes.bodyType")),eVar56:T,eVar57:n.get("product."+o+".attributes.hybridVersion",n.get("product."+g+".attributes.hybridVersion")),eVar58:n.get("product."+o+".attributes.motorization",n.get("product."+o+".attributes.engine",n.get("product."+g+".attributes.motorization",n.get("product."+g+".attributes.engine")))),eVar59:n.get("product."+o+".attributes.configID",n.get("product."+o+".attributes.configLink",n.get("product."+g+".attributes.configID",n.get("product."+g+".attributes.configLink")))),eVar60:n.get("product."+o+".productInfo.manufacturer",((d.cart[h]||"").productInfo||"").manufacturer||""),eVar65:n.get("product."+o+".attributes.modelName",n.get("product."+g+".attributes.modelName")),eVar66:n.get("product."+o+".attributes.trimLevel",n.get("product."+g+".attributes.trimLevel")),eVar69:n.get("product."+o+".attributes.modelCodeAG",n.get("product."+g+".attributes.modelCodeAG")),eVar121:((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode?((d.transaction[h]||"").price||"").voucherCode||((d.cart[h]||"").price||"").voucherCode||"":n.get("transaction.-1.total.voucherCode",n.get("cart.price.voucherCode")),eVar124:((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate?((d.transaction[h]||"").price||"").taxRate||((d.cart[h]||"").price||"").taxRate||"":n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},f.category="after sales",I=["event801="+ +n.get("product."+g+".attributes.fin.downPayment","0"),"event802="+ +n.get("product."+g+".attributes.fin.downPayment","0"),"event803="+ +n.get("product."+g+".attributes.fin.monthlyPayment","0"),"event804="+ +n.get("product."+g+".attributes.fin.monthlyPayment","0"),"event805="+ +n.get("product."+g+".attributes.fin.term","0"),"event806="+ +n.get("product."+g+".attributes.fin.mileage","0"),"event807=0","event808=0","event831="+(((d.cart[h]||"").price||"").basePrice||"0"),"event832="+(P<0?+ +j*P/j:P),"event833="+(P<0?+j*P:P),"event834="+ +(((d.cart[h]||"").price||"").taxRate||"0"),"event835="+(((d.cart[h]||"").price||"").taxRate||"0"),"event836="+(((d.cart[h]||"").price||"").priceWithTax||"0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+((d.cart[h]||"").quantity||"0")],f.events=I,f.quantity=(d.cart[h]||"").quantity||"0",f.price=((d.cart[h]||"").price||"").priceWithTax||"0",s.linkTrackEvents.indexOf("event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event801,event802,event803,event804,event805,event806,event807,event808,event831,event832,event833,event834,event835,event836,event837,event858"));r+=f.toString()+","}var _=e(b,l);if(_&&_.length>0){var x={};for(var c in _)if(!isNaN(+c))for(var u in n.get("cart.item"))isNaN(+u)||_[c]==n.get("cart.item."+u+".productInfo.productID")&&(x[_[c]]=u);for(var g in _)isNaN(+g)||(f=_satellite.getVar("productBuilder"),v=n.get("cart.item."+x[_[g]]+".category.productType"),h=n.get("cart.item."+x[_[g]]+".productInfo.productID"),f.id=h,a.indexOf(v)>-1?f.category=v:f.category="datalayer field missing",P=+n.get("cart.item."+x[_[g]]+".price.voucherDiscount","0"),j=+n.get("cart.item."+x[_[g]]+".price.priceWithTax","0"),C=+n.get("transaction.-1.total.voucherDiscount","0"),R=+n.get("transaction.-1.total.priceWithTax","0"),"vehicle"==v||"new vehicle"==v||"used vehicle"==v?(T=t(n.get("product."+i[h]+".attributes.fuelType")),f.merchEvars={eVar52:n.get("cart.item."+x[_[g]]+".productInfo.productName"),eVar10:n.get("product."+i[h]+".attributes.mmdr",n.get("product."+i[h]+".attributes.internalCode")),eVar44:n.get("product."+i[h]+".attributes.productionYear"),eVar45:n.get("product."+i[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+i[h]+".attributes.vehicleStatus",n.get("product."+i[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+i[h]+".productInfo.color"),eVar48:n.get("product."+i[h]+".attributes.modelCode"),eVar49:n.get("product."+i[h]+".attributes.gearing"),eVar50:n.get("product."+i[h]+".attributes.series"),eVar51:n.get("product."+i[h]+".attributes.bodyType"),eVar56:T,eVar57:n.get("product."+i[h]+".attributes.hybridVersion"),eVar58:n.get("product."+i[h]+".attributes.motorization",n.get("product."+i[h]+".attributes.engine")),eVar59:n.get("product."+i[h]+".attributes.configID",n.get("product."+i[h]+".attributes.configLink")),eVar60:n.get("product."+i[h]+".productInfo.manufacturer"),eVar65:n.get("product."+i[h]+".attributes.modelName"),eVar66:n.get("product."+i[h]+".attributes.trimLevel"),eVar69:n.get("product."+i[h]+".attributes.modelCodeAG"),eVar121:n.get("cart.item."+x[_[g]]+".price.voucherCode",n.get("cart.price.voucherCode")),eVar124:n.get("cart.item."+x[_[g]]+".price.taxRate",n.get("cart.price.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},f.category="new vehicle",I=["event831="+n.get("cart.item."+x[_[g]]+".price.basePrice","0"),"event832="+(P<0?+ +j*P/j:P),"event833="+(P<0?+j*P:P),"event834="+n.get("cart.item."+x[_[g]]+".price.taxRate","0"),"event835="+n.get("cart.item."+x[_[g]]+".price.taxRate","0"),"event836="+n.get("cart.item."+x[_[g]]+".price.priceWithTax","0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+n.get("cart.item."+x[_[g]]+".quantity","0")],f.events=I,f.quantity=n.get("cart.item."+x[_[g]]+".quantity","0"),f.price=n.get("cart.item."+x[_[g]]+".price.priceWithTax","0"),s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event831,event832,event833,event834,event835,event836,event837,event858")):"Related Service / Finance"==v||"service"==v?(T=t(n.get("product."+i[h]+".attributes.fuelType")),f.merchEvars={eVar52:n.get("cart.item."+x[_[g]]+".productInfo.productName"),eVar10:n.get("product."+i[h]+".attributes.mmdr",n.get("product."+i[h]+".attributes.internalCode")),eVar44:n.get("product."+i[h]+".attributes.productionYear"),eVar45:n.get("product."+i[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+i[h]+".attributes.vehicleStatus",n.get("product."+i[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+i[h]+".productInfo.color"),eVar48:n.get("product."+i[h]+".attributes.modelCode"),eVar49:n.get("product."+i[h]+".attributes.gearing"),eVar50:n.get("product."+i[h]+".attributes.series"),eVar51:n.get("product."+i[h]+".attributes.bodyType"),eVar56:T,eVar57:n.get("product."+i[h]+".attributes.hybridVersion"),eVar58:n.get("product."+i[h]+".attributes.motorization",n.get("product."+i[h]+".attributes.engine")),eVar59:n.get("product."+i[h]+".attributes.configID",n.get("product."+i[h]+".attributes.configLink")),eVar60:n.get("product."+i[h]+".productInfo.manufacturer"),eVar65:n.get("product."+i[h]+".attributes.modelName"),eVar66:n.get("product."+i[h]+".attributes.trimLevel"),eVar69:n.get("product."+i[h]+".attributes.modelCodeAG"),eVar121:n.get("cart.item."+x[_[g]]+".price.voucherCode",n.get("cart.price.voucherCode")),eVar124:n.get("cart.item."+x[_[g]]+".price.taxRate",n.get("cart.price.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},f.category="service",
I=["event831="+n.get("cart.item."+x[_[g]]+".price.basePrice","0"),"event832="+(P<0?+ +j*P/j:P),"event833="+(P<0?+j*P:P),"event834="+n.get("cart.item."+x[_[g]]+".price.taxRate","0"),"event835="+n.get("cart.item."+x[_[g]]+".price.taxRate","0"),"event836="+n.get("cart.item."+x[_[g]]+".price.priceWithTax","0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+n.get("cart.item."+x[_[g]]+".quantity","0")],f.events=I,f.quantity=n.get("cart.item."+x[_[g]]+".quantity","0"),f.price=n.get("cart.item."+x[_[g]]+".price.priceWithTax","0"),s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event831,event832,event833,event834,event835,event836,event837,event858")):"Options & Accessory"!=v&&"after sales"!=v||(T=t(n.get("product."+i[h]+".attributes.fuelType")),f.merchEvars={eVar52:n.get("cart.item."+x[_[g]]+".productInfo.productName"),eVar53:n.get("cart.item."+x[_[g]]+".category.primaryCategory"),eVar54:n.get("cart.item."+x[_[g]]+".category.subCategory1"),eVar10:n.get("product."+i[h]+".attributes.mmdr",n.get("product."+i[h]+".attributes.internalCode")),eVar44:n.get("product."+i[h]+".attributes.productionYear"),eVar45:n.get("product."+i[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+i[h]+".attributes.vehicleStatus",n.get("product."+i[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+i[h]+".productInfo.color"),eVar48:n.get("product."+i[h]+".attributes.modelCode"),eVar49:n.get("product."+i[h]+".attributes.gearing"),eVar50:n.get("product."+i[h]+".attributes.series"),eVar51:n.get("product."+i[h]+".attributes.bodyType"),eVar56:T,eVar57:n.get("product."+i[h]+".attributes.hybridVersion"),eVar58:n.get("product."+i[h]+".attributes.motorization",n.get("product."+i[h]+".attributes.engine")),eVar59:n.get("product."+i[h]+".attributes.configID",n.get("product."+i[h]+".attributes.configLink")),eVar60:n.get("product."+i[h]+".productInfo.manufacturer"),eVar65:n.get("product."+i[h]+".attributes.modelName"),eVar66:n.get("product."+i[h]+".attributes.trimLevel"),eVar69:n.get("product."+i[h]+".attributes.modelCodeAG"),eVar121:n.get("cart.item."+x[_[g]]+".price.voucherCode",n.get("cart.price.voucherCode")),eVar124:n.get("cart.item."+x[_[g]]+".price.taxRate",n.get("cart.price.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},f.category="after sales",I=["event831="+n.get("cart.item."+x[_[g]]+".price.basePrice","0"),"event832="+(P<0?+ +j*P/j:P),"event833="+(P<0?+j*P:P),"event834="+n.get("cart.item."+x[_[g]]+".price.taxRate","0"),"event835="+n.get("cart.item."+x[_[g]]+".price.taxRate","0"),"event836="+n.get("cart.item."+x[_[g]]+".price.priceWithTax","0"),"event837="+(((d.transaction[h]||"").price||"").shipping||"0"),"event858="+n.get("cart.item."+x[_[g]]+".quantity","0")],f.events=I,f.quantity=n.get("cart.item."+x[_[g]]+".quantity","0"),f.price=n.get("cart.item."+x[_[g]]+".price.priceWithTax","0"),s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event831,event832,event833,event834,event835,event836,event837,event858")),r+=f.toString()+",")}var k=e(p,l);if(k&&k.length>0){var A={};for(var c in k)if(!isNaN(+c))for(var u in n.get("transaction.-1.item"))isNaN(+u)||k[c]==n.get("transaction.-1.item."+u+".productInfo.productID")&&(A[k[c]]=u);for(var g in k)isNaN(+g)||(f=_satellite.getVar("productBuilder"),v=n.get("transaction.-1.item."+A[k[g]]+".category.productType"),h=n.get("transaction.-1.item."+A[k[g]]+".productInfo.productID"),f.id=h,a.indexOf(v)>-1?f.category=v:f.category="datalayer field missing",P=+n.get("transaction.-1.item."+A[k[g]]+".price.voucherDiscount","0"),j=+n.get("transaction.-1.item."+A[k[g]]+".price.priceWithTax","0"),C=+n.get("transaction.-1.total.voucherDiscount","0"),R=+n.get("transaction.-1.total.priceWithTax","0"),"vehicle"==v||"new vehicle"==v||"used vehicle"==v?(T=t(n.get("product."+i[h]+".attributes.fuelType")),f.merchEvars={eVar52:n.get("transaction.-1.item."+A[k[g]]+".productInfo.productName"),eVar53:n.get("transaction.-1.item."+A[k[g]]+".category.primaryCategory"),eVar54:n.get("transaction.-1.item."+A[k[g]]+".category.subCategory1"),eVar10:n.get("product."+i[h]+".attributes.mmdr",n.get("product."+i[h]+".attributes.internalCode")),eVar44:n.get("product."+i[h]+".attributes.productionYear"),eVar45:n.get("product."+i[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+i[h]+".attributes.vehicleStatus",n.get("product."+i[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+i[h]+".productInfo.color"),eVar48:n.get("product."+i[h]+".attributes.modelCode"),eVar49:n.get("product."+i[h]+".attributes.gearing"),eVar50:n.get("product."+i[h]+".attributes.series"),eVar51:n.get("product."+i[h]+".attributes.bodyType"),eVar56:T,eVar57:n.get("product."+i[h]+".attributes.hybridVersion"),eVar58:n.get("product."+i[h]+".attributes.motorization",n.get("product."+i[h]+".attributes.engine")),eVar59:n.get("product."+i[h]+".attributes.configID",n.get("product."+i[h]+".attributes.configLink")),eVar60:n.get("product."+i[h]+".productInfo.manufacturer"),eVar65:n.get("product."+i[h]+".attributes.modelName"),eVar66:n.get("product."+i[h]+".attributes.trimLevel"),eVar69:n.get("product."+i[h]+".attributes.modelCodeAG"),eVar121:n.get("transaction.-1.item."+A[k[g]]+".price.voucherCode",n.get("transaction.-1.total.voucherCode")),eVar124:n.get("transaction.-1.item."+A[k[g]]+".price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},f.category="new vehicle",I=["event831="+n.get("transaction.-1.item."+A[k[g]]+".price.basePrice","0"),"event832="+(P<0?+ +j*P/j:P),"event833="+(P<0?+j*P:P),"event834="+n.get("transaction.-1.item."+A[k[g]]+".price.taxRate","0"),"event835="+n.get("transaction.-1.item."+A[k[g]]+".price.taxRate","0"),"event836="+n.get("transaction.-1.item."+A[k[g]]+".price.priceWithTax","0"),"event837="+n.get("transaction.-1.item."+A[k[g]]+".price.shipping","0"),"event858="+n.get("transaction.-1.item."+A[k[g]]+".quantity","0")],f.events=I,f.quantity=n.get("transaction.-1.item."+A[k[g]]+".quantity","0"),f.price=n.get("transaction.-1.item."+A[k[g]]+".price.priceWithTax","0"),s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event831,event832,event833,event834,event835,event836,event837,event858")):"Related Service / Finance"==v||"service"==v?(T=t(n.get("product."+i[h]+".attributes.fuelType")),f.merchEvars={eVar52:n.get("transaction.-1.item."+A[k[g]]+".productInfo.productName"),eVar53:n.get("transaction.-1.item."+A[k[g]]+".category.primaryCategory"),eVar54:n.get("transaction.-1.item."+A[k[g]]+".category.subCategory1"),eVar10:n.get("product."+i[h]+".attributes.mmdr",n.get("product."+i[h]+".attributes.internalCode")),eVar44:n.get("product."+i[h]+".attributes.productionYear"),eVar45:n.get("product."+i[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+i[h]+".attributes.vehicleStatus",n.get("product."+i[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+i[h]+".productInfo.color"),eVar48:n.get("product."+i[h]+".attributes.modelCode"),eVar49:n.get("product."+i[h]+".attributes.gearing"),eVar50:n.get("product."+i[h]+".attributes.series"),eVar51:n.get("product."+i[h]+".attributes.bodyType"),eVar56:T,eVar57:n.get("product."+i[h]+".attributes.hybridVersion"),eVar58:n.get("product."+i[h]+".attributes.motorization",n.get("product."+i[h]+".attributes.engine")),eVar59:n.get("product."+i[h]+".attributes.configID",n.get("product."+i[h]+".attributes.configLink")),eVar60:n.get("product."+i[h]+".productInfo.manufacturer"),eVar65:n.get("product."+i[h]+".attributes.modelName"),eVar66:n.get("product."+i[h]+".attributes.trimLevel"),eVar69:n.get("product."+i[h]+".attributes.modelCodeAG"),eVar121:n.get("transaction.-1.item."+A[k[g]]+".price.voucherCode",n.get("transaction.-1.total.voucherCode")),eVar124:n.get("transaction.-1.item."+A[k[g]]+".price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},f.category="service",I=["event831="+n.get("transaction.-1.item."+A[k[g]]+".price.basePrice","0"),"event832="+(P<0?+ +j*P/j:P),"event833="+(P<0?+j*P:P),"event834="+n.get("transaction.-1.item."+A[k[g]]+".price.taxRate","0"),"event835="+n.get("transaction.-1.item."+A[k[g]]+".price.taxRate","0"),"event836="+n.get("transaction.-1.item."+A[k[g]]+".price.priceWithTax","0"),"event837="+n.get("transaction.-1.item."+A[k[g]]+".price.shipping","0"),"event858="+n.get("transaction.-1.item."+A[k[g]]+".price.priceWithTax","0")],f.events=I,f.quantity=n.get("transaction.-1.item."+A[k[g]]+".quantity","0"),f.price=n.get("transaction.-1.item."+A[k[g]]+".price.priceWithTax","0"),s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event831,event832,event833,event834,event835,event836,event837,event858")):"Options & Accessory"!=v&&"after sales"!=v||(T=t(n.get("product."+i[h]+".attributes.fuelType")),f.merchEvars={eVar52:n.get("transaction.-1.item."+A[k[g]]+".productInfo.productName"),eVar53:n.get("transaction.-1.item."+A[k[g]]+".category.primaryCategory"),eVar54:n.get("transaction.-1.item."+A[k[g]]+".category.subCategory1"),eVar10:n.get("product."+i[h]+".attributes.mmdr",n.get("product."+i[h]+".attributes.internalCode")),eVar44:n.get("product."+i[h]+".attributes.productionYear"),eVar45:n.get("product."+i[h]+".attributes.yearOfRegistration"),eVar46:n.get("product."+i[h]+".attributes.vehicleStatus",n.get("product."+i[h]+".attributes.vehicleSelection")),eVar47:n.get("product."+i[h]+".productInfo.color"),eVar48:n.get("product."+i[h]+".attributes.modelCode"),eVar49:n.get("product."+i[h]+".attributes.gearing"),eVar50:n.get("product."+i[h]+".attributes.series"),eVar51:n.get("product."+i[h]+".attributes.bodyType"),eVar56:T,eVar57:n.get("product."+i[h]+".attributes.hybridVersion"),eVar58:n.get("product."+i[h]+".attributes.motorization",n.get("product."+i[h]+".attributes.engine")),eVar59:n.get("product."+i[h]+".attributes.configID",n.get("product."+i[h]+".attributes.configLink")),eVar60:n.get("product."+i[h]+".productInfo.manufacturer"),eVar65:n.get("product."+i[h]+".attributes.modelName"),eVar66:n.get("product."+i[h]+".attributes.trimLevel"),eVar69:n.get("product."+i[h]+".attributes.modelCodeAG"),eVar121:n.get("transaction.-1.item."+A[k[g]]+".price.voucherCode",n.get("transaction.-1.total.voucherCode")),eVar124:n.get("transaction.-1.item."+A[k[g]]+".price.taxRate",n.get("transaction.-1.total.taxRate")),eVar126:n.get("transaction.-1.total.shippingMethod")},f.category="after sales",I=["event831="+n.get("transaction.-1.item."+A[k[g]]+".price.basePrice","0"),"event832="+(P<0?+ +j*P/j:P),"event833="+(P<0?+j*P:P),"event834="+n.get("transaction.-1.item."+A[k[g]]+".price.taxRate","0"),"event835="+n.get("transaction.-1.item."+A[k[g]]+".price.taxRate","0"),"event836="+n.get("transaction.-1.item."+A[k[g]]+".price.priceWithTax","0"),"event837="+n.get("transaction.-1.item."+A[k[g]]+".price.shipping","0"),"event858="+n.get("transaction.-1.item."+A[k[g]]+".price.priceWithTax","0")],f.events=I,f.quantity=n.get("transaction.-1.item."+A[k[g]]+".quantity","0"),f.price=n.get("transaction.-1.item."+A[k[g]]+".price.priceWithTax","0"),s.linkTrackEvents.indexOf("event831,event832,event833,event834,event835,event836,event837,event858")<0&&(s.linkTrackEvents+=",event831,event832,event833,event834,event835,event836,event837,event858",s.events+=",event831,event832,event833,event834,event835,event836,event837,event858")),r+=f.toString()+",")}null!=s.products?s.products+=r.slice(0,-1):s.products=r.slice(0,-1),"undefined"!=s.products&&(s.linkTrackVars+="products,"),s.events=s.apl(s.events,"event841="+n.get("cart.price.basePrice",n.get("transaction.-1.total.basePrice","0")),",",1),"datalayer field empty"!=n.get("transaction.-1.total.taxRate")&&"datalayer field missing"!=n.get("transaction.-1.total.taxRate")?(s.events=s.apl(s.events,"event842="+((C<0?+ +R*C/R:C)||"0"),",",1),s.events=s.apl(s.events,"event843="+((C<0?+R*C:C)||"0"),",",1)):(s.events=s.apl(s.events,"event842="+((P<0?+ +j*P/j:P)||"0"),",",1),s.events=s.apl(s.events,"event843="+((P<0?+j*P:P)||"0"),",",1)),s.events=s.apl(s.events,"event844="+n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate","0")),",",1),s.events=s.apl(s.events,"event845="+n.get("cart.price.taxRate",n.get("transaction.-1.total.taxRate","0")),",",1),s.events=s.apl(s.events,"event846="+n.get("cart.price.priceWithTax",n.get("transaction.-1.total.priceWithTax","0")),",",1),s.events=s.apl(s.events,"event847="+n.get("cart.price.shipping",n.get("transaction.-1.total.shipping","0")),",",1),s.events=s.apl(s.events,"event848="+n.get("cart.price.cartTotal",n.get("transaction.-1.total.transactionTotal","0")),",",1),s.eVar120=n.get("cart.cartID"),s.eVar122=n.get("page.attributes.currencyCode",n.get("transaction.-1.total.currency",n.get("cart.price.currency"))),s.eVar123=n.get("transaction.-1.attributes.paymentMethod"),s.eVar125=n.get("transaction.-1.transactionID"),s.linkTrackVars+="eVar120,eVar122,eVar123,eVar125,"}catch(e){var O={from:"AA",type:"DE",name:"setProductString"};_satellite.logger.error(e,O)}}}}},"AAM-dummyPartnerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){}}},perfTime_hash:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.epaas.api.getPersistence("bmwdtm_hq_perf");return void 0!==e?(jdata=JSON.parse(e),jdata.hash):"na"}catch(e){return _satellite.logger.error("Error in Data Element perfTime_hash : "+e),"na"}}}},"AAM-hashedid_cookie":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["hashedid"],t=decodeURI(document.cookie).split(";"),s="";return t.forEach((function(t){for(i=0;i<e.length;i++)if(-1!=t.split("=")[0].indexOf(e[i])){s=t.split("=")[1];break}})),hashedid_cookie_clean=decodeURIComponent(s),hashedid_cookie_clean}catch(e){_satellite.logger.error("hashedid cookie Error ",e)}}}},flatMapping:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t=_satellite.getVar("snapshotDL");e.linkTrackVars="events,",e.linkTrackEvents="",e.events="",new Date,t.get(location.href,"page.pageInfo.destinationUrl"),_satellite.getVar("snapshotDL").get("event.-1.attributes.linkedComponent.-1.category.componentType"),_satellite.getVar("snapshotDL").get("component.-1.category.componentType");var s=t.get("event.-1.attributes.relatedComponentID"),a=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"),o="stock > ";if("search"==t.get("event.-1.eventInfo.eventName")||"sl > search filter"==t.get("event.-1.eventInfo.eventName")){_satellite.logger.log("inside search filter khubruy");var n=t.get("event.-1.attributes.search",{});if(e.products="",n.length>0)for(var r in n)void 0!==n[r].label&&(e.products+="search;search;;;;eVar30="+(n[r].unit||"")+"|eVar31="+(n[r].state||"")+"|eVar32="+(n[r].label||"")+"|eVar33="+(n[r].term||"")+",")}_satellite.getVar("setProductString")(e),e.server=location.hostname,e.linkTrackVars+="server,",e.prop45=t.get("component.-1.attributes.componentVersion"),e.linkTrackVars+="prop45,",e.eVar134=t.get("component.-1.attributes.touchpoint","web"),e.linkTrackVars+="eVar134,",e.prop42=_satellite.getVar("AA-componentDefaultValues").primaryCat,e.linkTrackVars+="prop42,",e.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,e.linkTrackVars+="prop43,",e.prop44=t.get("component.-1.componentInfo.componentID"),e.linkTrackVars+="prop44,",e.prop19=-1!=window.location.href.indexOf("similarity")?"similarity-search":_satellite.getVar("AA-componentDefaultValues").componentName,e.linkTrackVars+="prop19,";try{if("datalayer field missing"==s&&"datalayer field missing"==a)e.prop41=t.get("component.-1.category.componentType"),e.linkTrackVars+="prop41,";else for(i=0;i<t.get("component").length;i++){var c=i.toString();t.get("component."+c+".componentInfo.componentID")!=s&&t.get("component."+c+".componentInfo.componentID")!=a||(_satellite.logger.log("related component - Akshay changes - "+t.get("component."+c)),e.prop41=t.get("component."+c+".category.componentType"),e.linkTrackVars+="prop41,")}}catch(e){}"not set"!=t.get("dealer.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&(e.prop44=t.get("dealer.-1.attributes.linkedComponent.-1.componentInfo.componentID")),e.prop27=t.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",t.get("page.pageInfo.pageID",t.get("event.-1.attributes.linkedPage.pageInfo.pageID"))),e.linkTrackVars+="prop27,",e.eVar43=t.get("dealer.-1.attributes.selectionState"),e.linkTrackVars+="eVar43,",e.eVar41=t.get("dealer.-1.dealerInfo.dealerGroupName",t.get("dealer.-1.dealerInfo.dealerGroup")),e.linkTrackVars+="eVar41,",e.eVar42=t.get("dealer.-1.dealerInfo.dealerID",t.get("dealer.-1.dealerInfo.dealerGroupID")),e.linkTrackVars+="eVar42,",e.eVar39=t.get("dealer.-1.dealerInfo.dealerOutletName",t.get("dealer.-1.dealerInfo.dealerName")),e.linkTrackVars+="eVar39,",e.eVar40=t.get("dealer.-1.dealerInfo.outletID",t.get("dealer.-1.dealerInfo.dealerOutletID")),e.linkTrackVars+="eVar40,",e.prop17=t.get("event.-1.attributes.form.rfxID"),e.linkTrackVars+="prop17,","not set"!=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&"datalayer field missing"!=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&"datalayer field empty"!=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")&&(e.prop44=t.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID")),e.eVar71=t.get("event.-1.attributes.requestedURL"),e.linkTrackVars+="eVar71,",e.prop54=t.get("event.-1.category.primaryCategory",t.get("event.-1.category.primaryCatergory")),e.linkTrackVars+="prop54,",e.prop50=t.get("event.-1.attributes.element"),e.linkTrackVars+="prop50,","form"==t.get("event.-1.eventInfo.eventName")&&(e.prop11=t.get("event.-1.category.primaryCategory"),e.linkTrackVars+="prop11,",e.prop7=t.get("event.-1.category.subCategory1"),e.linkTrackVars+="prop7,",e.prop8=t.get("event.-1.eventInfo.effect"),e.linkTrackVars+="prop8,",e.prop6=t.get("event.-1.eventInfo.type"),e.linkTrackVars+="prop6,"),e.prop55=t.get("event.-1.category.subCategory1",t.get("event.-1.attributes.errorCode",t.get("event.-1.solutionSpecific.slfavItemsNum",t.get("event.-1.attributes.searchResults",t.get("event.-1.category.subCategory01"))))),e.linkTrackVars+="prop55,",e.prop51=t.get("event.-1.category.subCategory2"),e.linkTrackVars+="prop51,","search"==t.get("event.-1.eventInfo.eventName")&&(e.prop24=t.get("event.-1.category.subCategory1",t.get("event.-1.category.subCategory01")),e.linkTrackVars+="prop24,",e.prop53=t.get("event.-1.eventInfo.type"),e.linkTrackVars+="prop53,"),e.prop52=t.get("event.-1.eventInfo.cause"),e.linkTrackVars+="prop52,",e.eVar34=t.get("event.-1.eventInfo.effect"),e.eVar34.indexOf(o)<0&&(e.eVar34=o+e.eVar34),e.linkTrackVars+="eVar34,",e.prop57=t.get("event.-1.eventInfo.eventAction"),e.linkTrackVars+="prop57,",e.prop56=t.get("event.-1.eventInfo.eventName"),e.linkTrackVars+="prop56,",t.get("event.-1.eventInfo.eventPoints")&&parseInt(t.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(t.get("event.-1.eventInfo.eventPoints")))?(parseInt(t.get("event.-1.eventInfo.eventPoints"))>6e4?e.events=e.apl(e.events,"event970=60001",",",1):parseInt(t.get("event.-1.eventInfo.eventPoints"))<=0?e.events=e.apl(e.events,"event970=0",",",1):e.events=e.apl(e.events,"event970="+t.get("event.-1.eventInfo.eventPoints"),",",1),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event970")):(e.prop58=t.get("event.-1.eventInfo.eventPoints"),e.linkTrackVars+="prop58,"),e.prop12=t.get("event.-1.eventInfo.timeStamp",t.get("event.-1.eventInfo.timestamp")),e.linkTrackVars+="prop12,",e.prop53=t.get("event.-1.eventInfo.type"),e.linkTrackVars+="prop53,",e.eVar23=t.get("event.-1.attributes.form.preferredComChannel",t.get("event.-1.attributes.form.preferredComChannel")),e.linkTrackVars+="eVar23,",e.eVar24=t.get("event.-1.attributes.searchResults"),e.linkTrackVars+="eVar24,",e.prop13=t.get("page.attributes.brand"),e.linkTrackVars+="prop13,",e.prop2=t.get("page.category.pageType"),e.linkTrackVars+="prop2,","form"==t.get("page.category.pageType")?(e.prop11=t.get("page.category.primaryCategory"),e.linkTrackVars+="prop11,",e.prop9=t.get("page.category.subCategory1"),e.linkTrackVars+="prop9,",e.prop10=t.get("page.category.subCategory2"),e.linkTrackVars+="prop10,"):"search"==t.get("page.category.pageType")&&(e.prop53=t.get("page.category.subCategory1"),e.linkTrackVars+="prop53,"),e.prop4=t.get("page.category.subCategory1"),e.linkTrackVars+="prop4,",e.prop5=t.get("page.category.subCategory2"),e.linkTrackVars+="prop5,",e.prop46=t.get("page.pageInfo.author"),e.linkTrackVars+="prop46,",e.eVar7=t.get("page.pageInfo.language",_satellite.getVar("AA-languageAndMarketWorkaround")),e.eVar7=e.eVar7.indexOf("-")>-1?e.eVar7.split("-")[0]:e.eVar7,e.linkTrackVars+="eVar7,",e.eVar8=_satellite.getVar("AA-languageWorkaround"),e.linkTrackVars+="eVar8,",e.prop1=t.get("page.pageInfo.pageName"),e.prop1.indexOf(o)<0&&(e.prop1=o+e.prop1),e.pageName=e.prop1,e.linkTrackVars+="pageName,prop1,",e.eVar135=t.get("page.pageInfo.sysEnv"),e.linkTrackVars+="eVar135,",e.prop28=t.get("page.pageInfo.variant"),e.linkTrackVars+="prop28,",e.prop29=t.get("page.pageInfo.version"),e.linkTrackVars+="prop29,",e.prop59=t.get("product.-1.attributes.configID"),e.linkTrackVars+="prop59,",e.eVar19=t.get("user.-1.profile.-1.address.stateProvince"),e.linkTrackVars+="eVar19,",e.eVar20=t.get("user.-1.profile.-1.address.country"),e.linkTrackVars+="eVar20,",e.prop40=t.get("user.-1.profile.-1.attributes.loggedInStatus"),e.linkTrackVars+="prop40,",e.eVar21=t.get("user.-1.profile.-1.profileInfo.language"),e.linkTrackVars+="eVar21,",e.eVar17=t.get("user.-1.profile.-1.profileInfo.profileID"),e.linkTrackVars+="eVar17,",e.eVar15=t.get("user.-1.profile.-1.profileInfo.type"),e.linkTrackVars+="eVar15,",e.eVar16=t.get("user.-1.segment"),e.eVar16=e.eVar16&&"object"==typeof e.eVar16?"datalayer field empty":e.eVar16,e.linkTrackVars+="eVar16,",e.eVar136=t.get("version.version",e.version),e.linkTrackVars+="eVar136,",e.eVar122=t.get("page.attributes.currencyCode"),e.linkTrackVars+="eVar122,",e.eVar120=t.get("cart.cartID"),e.linkTrackVars+="eVar120,",e.eVar125=t.get("transaction.-1.transactionID"),e.linkTrackVars+="eVar125,"}catch(e){var d={from:"AA",type:"DE",name:"flatMapping"};_satellite.logger.error(e,d)}}}}},"AA-languageAndMarketWorkaround":{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("topLevelDomain"),t={"bmw.com.al":"en-AL","bmw.dz":"fr-DZ","bmw.co.ao":"pt-AO","bmw.am":"en-AM","bmw.com.au":"en-AU","bmw.at":"de-AT","bmw.az":"ru-AZ","bmw.bs":"en-BS","bmw.bb":"en-BB","bmw.by":"ru-BY","bmw.bm":"en-BM","bmw.com.bo":"es-BO","bmw.ba":"hr-BA","bmw.com.br":"pt-BR","bmw.com.bn":"en-BN","bmw.bg":"bg-BG","bmw.com.ky":"en-KY","bmw.cl":"es-CL","bmw.com.cn":"zh-CN","bmw.com.co":"es-CO","bmw.co.cr":"es-CR","bmw.com.cy":"en-CY","bmw.cz":"cs-CZ","bmw.dk":"da-DK","bmw.com.do":"es-DO","bmw.com.ec":"es-EC","bmw-eg.com":"en-EG","bmw.com.sv":"es-SV","bmw.ee":"et-EE","bmw.fi":"fi-FI","bmw.fr":"fr-FR","bmw.com.ge":"en-GE","bmw.de":"de-DE","bmw-ghana.com":"en-GH","bmw.gr":"el-GR","bmw-antilles.fr":"fr-GP","bmw.com.gt":"es-GT","bmw.ht":"en-HT","bmw.hn":"es-HN","bmwhk.com":"en-HK","bmw.hu":"hu-HU","bmw.is":"en-IS","bmw.in":"en-IN","bmw.co.id":"en-ID","bmw-iraq.com":"en-IQ","bmw.ie":"en-IE","bmw.co.il":"iw-IL","bmw.it":"it-IT","bmwjamaica.com":"en-JM","bmw.co.jp":"ja-JP","bmw.kz":"ru-KZ","bmw.co.ke":"en-KE","bmw.co.kr":"ko-KR","bmw-lao.la":"en-LA","bmw.re":"fr-RE","bmw.lv":"lv-LV","bmw-lebanon.com":"en-LB","bmw.ly":"en-LY","bmw.lt":"lt-LT","bmw.com.mo":"en-MO","bmw.com.mk":"mk-MK","bmw.com.my":"en-MY","bmw.com.mt":"en-MT","bmw.mu":"en-MU","bmw.com.mx":"es-MX","bmw.md":"ro-MD","bmw-voli.me":"sr-ME","bmw.ma":"fr-MA","bmwmyanmar.com":"en-MM","bmw.nl":"nl-NL","bmw.nc":"fr-NC","bmw.co.nz":"en-NZ","bmw.com.ni":"es-NI","bmw-nigeria.com":"en-NG","bmw.no":"no-NO","bmw-pakistan.com":"en-PK","bmw.com.pa":"es-PA","bmw.com.py":"es-PY","bmw.com.pe":"es-PE","bmw.com.ph":"en-PH","bmw.pl":"pl-PL","bmw.pt":"pt-PT","bmw.ro":"ro-RO","bmw.ru":"ru-RU","bmw.lc":"en-LC","bmw.rs":"sr-RS","bmw.com.sg":"en-SG","bmw.sk":"sk-SK","bmw.si":"sl-SI","bmw.co.za":"en-ZA","bmw.es":"es-ES","bmw.lk":"en-LK","bmw.sr":"en-SR","bmw.se":"sv-SE","bmw-tahiti.com":"fr-PF","bmw.com.tw":"zh-TW","bmw.tt":"en-TT","bmw-tunisia.com":"fr-TN","bmw.com.tr":"tr-TR","bmw.ua":"uk-UA","bmw.co.uk":"en-GB","bmw.com.uy":"es-UY","bmw.vn":"vi-VN","bmw-m.com":"en-HQ","bmw.uz":"ru-UZ","bmw.com/en-au":"en-AU"},s=["en","nl","fr","pt","de","ru","es","hr","bg","zh","cs","da","et","fi","el","hu","iw","it","ja","ko","lv","lt","mk","ro","sr","nl","no","pl","ro","sk","sl","sv","th","tr","uk","vi"],a={"bmw.com.al":"AL","bmw.ca":"CA","bmw.be":"BE","bmw.dz":"DZ","bmw.co.ao":"AO","bmw.am":"AM","bmw.com.au":"AU","bmw.at":"AT","bmw.az":"AZ","bmw.bs":"BS","bmw.bb":"BB","bmw.by":"BY","bmw.bm":"BM","bmw.com.bo":"BO","bmw.ba":"BA","bmw.com.br":"BR","bmw.com.bn":"BN","bmw.bg":"BG","bmw.com.ky":"KY","bmw.cl":"CL","bmw.com.cn":"CN","bmw.com.co":"CO","bmw.co.cr":"CR","bmw.com.cy":"CY","bmw.cz":"CZ","bmw.dk":"DK","bmw.com.do":"DO","bmw.com.ec":"EC","bmw-eg.com":"EG","bmw.com.sv":"SV","bmw.ee":"EE","bmw.fi":"FI","bmw.fr":"FR","bmw.com.ge":"GE","bmw.de":"DE","bmw-ghana.com":"GH","bmw.gr":"GR","bmw-antilles.fr":"GP","bmw.com.gt":"GT","bmw.ht":"HT","bmw.hn":"HN","bmwhk.com":"HK","bmw.hu":"HU","bmw.is":"IS","bmw.in":"IN","bmw.co.id":"ID","bmw-iraq.com":"IQ","bmw.ie":"IE","bmw.co.il":"IL","bmw.it":"IT","bmwjamaica.com":"JM","bmw.co.jp":"JP","bmw.kz":"KZ","bmw.co.ke":"KE","bmw.co.kr":"KR","bmw-lao.la":"LA","bmw.re":"RE","bmw.lv":"LV","bmw-lebanon.com":"LB","bmw.ly":"LY","bmw.lt":"LT","bmw.lu":"LU","bmw.com.mo":"MO","bmw.com.mk":"MK","bmw.com.my":"MY","bmw.com.mt":"MT","bmw.mu":"MU","bmw.com.mx":"MX","bmw.md":"MD","bmw-voli.me":"ME","bmw.ma":"MA","bmwmyanmar.com":"MM","bmw.nl":"NL","bmw.nc":"NC","bmw.co.nz":"NZ","bmw.com.ni":"NI","bmw-nigeria.com":"NG","bmw.no":"NO","bmw-pakistan.com":"PK","bmw.com.pa":"PA","bmw.com.py":"PY","bmw.com.pe":"PE","bmw.com.ph":"PH","bmw.pl":"PL","bmw.pt":"PT","bmw.ro":"RO","bmw.ru":"RU","bmw.lc":"LC","bmw.rs":"RS","bmw.com.sg":"SG","bmw.sk":"SK","bmw.si":"SI","bmw.co.za":"ZA","bmw.es":"ES","bmw.lk":"LK","bmw.sr":"SR","bmw.se":"SE","bmw.ch":"CH","bmw-tahiti.com":"PF","bmw.com.tw":"TW","bmw.co.th":"TH","bmw.tt":"TT","bmw-tunisia.com":"TN","bmw.com.tr":"TR","bmw.ua":"UA","bmw.co.uk":"GB","bmw.com.uy":"UY","bmw.vn":"VN","bmw-m.com":"HQ","bmw.uz":"UZ","bmw.com/en-au":"AU"};if(window.location.href.indexOf("bmw-bahrain.com/en/")>-1)return"en-BH";if(window.location.href.indexOf("bmw-bahrain.com/ar/")>-1)return"ar-BH";if(window.location.href.indexOf("bmw-dubai.com/en/")>-1)return"en-AE";if(window.location.href.indexOf("bmw-dubai.com/ar/")>-1)return"ar-AE";if(window.location.href.indexOf("bmw-jordan.com/en/")>-1)return"en-JO";if(window.location.href.indexOf("bmw-jordan.com/ar/")>-1)return"ar-JO";if(window.location.href.indexOf("bmw-kuwait.com/en/")>-1)return"en-KW";if(window.location.href.indexOf("bmw-kuwait.com/ar/")>-1)return"ar-KW";if(window.location.href.indexOf("bmw-me.com/en/")>-1)return"en-MP";if(window.location.href.indexOf("bmw-me.com/ar/")>-1)return"ar-MP";if(window.location.href.indexOf("bmw-oman.com/en/")>-1)return"en-OM";if(window.location.href.indexOf("bmw-oman.com/ar/")>-1)return"ar-OM";if(window.location.href.indexOf("bmw.ps/en/")>-1)return"en-PS";if(window.location.href.indexOf("bmw.ps/ar/")>-1)return"ar-PS";if(window.location.href.indexOf("bmw-qatar.com/en/")>-1)return"en-QA";if(window.location.href.indexOf("bmw-qatar.com/ar/")>-1)return"ar-QA";if(window.location.href.indexOf("bmw-saudiarabia.com/en/")>-1)return"en-SA";if(window.location.href.indexOf("bmw-saudiarabia.com/ar/")>-1)return"ar-SA";if(window.location.href.indexOf("bmw-yemen.com/en/")>-1)return"en-YE";if(window.location.href.indexOf("bmw-yemen.com/ar/")>-1)return"ar-YE";if("bmw.ca"!=e&&"bmw.be"!=e&&"bmw.ch"!=e&&"bmw.lu"!=e&&"bmw.co.th"!=e)return t[e]||t[e+"/"+location.pathname.split("/")[1].toLowerCase()];for(var o=0;o<s.length;o++)if(window.location.href.indexOf("/"+s[o]+"/")>-1||window.location.href.indexOf("."+s[o]+".")>-1||window.location.href.indexOf("/"+s[o]+"_")>-1||window.location.href.indexOf("/"+s[o]+"-")>-1)return s[o]+"-"+a[e]}catch(e){_satellite.logger.log("Error:languageAndMarketWorkaround")}}}},lastTwoDigitsOfMID:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(){return Visitor.getInstance("B52D1CFE5330949C0A490D45@AdobeOrg").getMarketingCloudVisitorID().slice(-2).toString()}}catch(t){var e={from:"AA",type:"DE",name:"lastTwoDigitsOfMID"};_satellite.logger.error(t,e)}}}},isRegulationAccepted_Tags:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").Others;return"false"===e.isTrackingAllowed(t).toString()?"false":s();function s(){var e=_satellite.getVar("TPT-PII_keywords"),t=window.location.href.toLowerCase(),s=t.split("?")[1];if(/[\w-]+@([\w-]+\.)+[\w-]+/.test(t))return"false";if(null!=s)for(var a=0;a<e.length;a++)if(s.indexOf(e[a]+"=")>-1)return"false";return"true"}}catch(e){var a={from:"AA",type:"DE",name:"isRegulationAccepted_Tags"};_satellite.logger.error(e,a)}}}},"AAM-containerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("AAM-initConfig");return e&&e.containerNSID||""}catch(e){var t={from:"AA",type:"DE",name:"AAM-containerID"};_satellite.logger.error(e,t)}}}},"AT-TargetParamsManager":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").cache,t=function(){var s="targetParamsCache",a=function(e){for(var t in e)null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t];return e};t.prototype.mergeParams=function(t,a){var o=e.get(s)||{};for(var n in t)o.hasOwnProperty(n)&&o[n]===t[n]||(o[n]={value:t[n],once:!!a,fired:!1});e.set(s,o)},t.prototype.getParams=function(){var t=e.get(s)||{},o={};for(var n in t)t[n].fired&&t[n].once||(t[n].fired=!0,o[n]=t[n].value);return o=a(o),_satellite.logger.log("DE:TargetParamsManager : Sending following mbox params-",o),o},t.prototype.hasFired=function(t,a){var o=e.get(s)||{};return!(!o[t]||!o[t].fired||o[t].value!==a)}};return new t}catch(e){var s={from:"AA",type:"DE",name:"AT-TargetParamsManager"};_satellite.logger.error(e,s)}}}},removePII:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["firstname","lastname","vin","name","loginid","password","registrationpassword","confirmationpassword","confirmregistrationpassword","registrationid","passwordconfirmation","username","enname","token","telephone"],t=["eVar","prop","referrer","pageURL","pageName","channel","hier1"];function s(t){var s=[];if("string"==typeof t){var a=t.toLowerCase();e.forEach((function(e){-1!=a.indexOf(e)&&s.push(e)}))}return s}function a(e){var a=[],o=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi");return t.forEach((function(t){Object.keys(e).forEach((function(n){0===n.indexOf(t)&&e[n]&&(s(e[n]).length||"string"==typeof e[n]&&e[n].match(o))&&a.push(n)}))})),a}function o(e){var t=e,a=s(e);if(a.length)a.forEach((function(e){t=n(e,t)}));else{var o=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi");if(e.match(o))return n("withoutVin",e)}return t}function n(e,t){var s,a,o=t.split("?")[0],n=-1!==t.indexOf("?")?t.split("?")[1]:"",r="?";if(n||(o=t.split("#")[0],r="#",n=-1!==t.indexOf("#")?t.split("#")[1]:""),""!==n){for(var i=(a=n.split("&")).length-1;i>=0;i--)a[i].split("=")[0].toLowerCase()===e&&a.splice(i,1);o=o+r+a.join("&")}if(-1!=o.toLowerCase().indexOf(e)&&(s=new RegExp("[a-z]"+e+"[a-z]","gi"),result=o.match(s),result||"email"===e&&document.location.pathname.split(e).length>1&&(1==document.location.href.split(r).length||document.location.href.split(r)[1]&&-1==document.location.href.split(r)[1].indexOf(e))||(o=o.toLowerCase().split(e)[0])),
s=new RegExp("[^\\w](wba|wmw|wbs|4us|wb1|wby|x4x|sca|lbv)[\\w]{14}","gi"),result=o.match(s),result)for(var c=0;c<result.length;c++)o=o.replace(result[c].slice(1),"potential_pii_removed");return o}function r(e){return a(e).forEach((function(t){var s=e[t];e[t]=o(s)})),e}function i(e){switch(typeof e){case"object":return r(e);case"string":return o(e);default:return Error("Not a valid parameter")}}return i}catch(e){var c={from:"AA",type:"DE",name:"removePII"};_satellite.logger.error(e,c)}}}},"Trigger-AnalyticsConsentChangeEvent":{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(){try{var e,t="re-trigger";"function"==typeof Event?e=new Event(t):(e=document.createEvent("Event")).initEvent(t,!0,!0),document.body.dispatchEvent(e)}catch(e){var s={from:"AA",type:"DE",name:"Trigger-AnalyticsConsentChangeEvent"};_satellite.logger.error(e,s)}}}}},"AAM-initConfig":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={"bmw.co.za":{containerNSID:4},"bmw.it":{containerNSID:6},"bmw.de":{containerNSID:1},"bmw.co.uk":{containerNSID:19},"bmw.fr":{containerNSID:21},"bmw.co.jp":{containerNSID:23},"bmw.es":{containerNSID:26},"bmw.be":{containerNSID:28},"bmw.lu":{containerNSID:30},"bmw.se":{containerNSID:32},"bmw.dk":{containerNSID:33},"bmw.no":{containerNSID:34},"bmw.fi":{containerNSID:35},"mini.de":{containerNSID:3},"mini.it":{containerNSID:8},"mini.fr":{containerNSID:22}};return s=_satellite.getVar("topLevelDomain"),a={partner:"bmwag",containerNSID:0,uuidCookie:{name:"aam_uuid",days:30,domain:_satellite.getVar("topLevelDomain")},visitorService:{namespace:"B52D1CFE5330949C0A490D45@AdobeOrg"}},(o=e[s])&&(o.partner=o.partner||a.partner,o.containerNSID=o.containerNSID||a.containerNSID,o.uuidCookie=o.uuidCookie||a.uuidCookie,o.visitorService=o.visitorService||a.visitorService),o}catch(e){var t={from:"AA",type:"DE",name:"AAM-initConfig"};_satellite.logger.error(e,t)}var s,a,o}}},snapshotDL:{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js",settings:{dataLayerSnapshot:null}},Usabilla_vs_IgnitionOne:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.cookie.get("bmwdtm_hq_vs").slice(-2)<"20"?"Usabilla":"IgnitionOne"}catch(e){_satellite.logger.error("Error In: Usabilla_vs_IgnitionOne"+e)}}}},setDefaultVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return function(t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.pageInfo.destinationUrl",location.href),o=new Date,n=_satellite.getVar("smartPreviousValueManager"),r=_satellite.getVar("snapshotDL").get("page.pageInfo.variant");t.prop44=s.get("component.-1.componentInfo.componentID",s.get("event.-1.attributes.relatedComponentID")),t.eVar134="web",t.prop27=s.get("page.pageInstanceId",s.get("pageInstanceId")).split("/").slice(6).join("/"),t.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp",Math.round(o.getTime()))),t.prop13="bmw",t.prop15=o.getHours()+":"+o.getMinutes()+":"+o.getSeconds(),t.prop14=o.getUTCHours()+":"+o.getUTCMinutes()+":"+o.getUTCSeconds(),t.prop71=_satellite.buildInfo.buildDate,t.prop72=t.visitor.version,t.prop73=t.version,t.prop60=_satellite.getVar("AA-consentMetaData")("drawer"),t.prop61=_satellite.getVar("AA-consentMetaData")("identities"),t.prop62=_satellite.getVar("AA-consentMetaData")("settings"),t.prop63=_satellite.getVar("AA-consentMetaData")("defaults"),t.prop64=_satellite.getVar("AA-consentMetaData")("consents"),t.prop66=window.screen.width*window.devicePixelRatio,t.prop67=window.screen.height*window.devicePixelRatio,t.prop68=window.screen.width>=window.screen.height?"landscape":"portrait",t.eVar7=s.get("page.pageInfo.language",_satellite.getVar("AA-languageAndMarketWorkaround")),t.eVar7=t.eVar7.indexOf("-")>-1?t.eVar7.split("-")[0]:t.eVar7,t.eVar8=_satellite.getVar("AA-languageWorkaround"),t.prop42=_satellite.getVar("AA-componentDefaultValues").primaryCat,t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.eVar18=s.get("page.pageInfo.pageTitle",document.title),t.prop50="page title",t.prop19="virtual page"===r?"new car stock locator":_satellite.getVar("AA-componentDefaultValues").componentName,t.campaign=t.eVar61=t.eVar62=_satellite.getVar("campaign"),t.eVar63=_satellite.getVar("AA-InternalcampaignParameter"),"bmw.com.cn"==_satellite.getVar("topLevelDomain")?t.eVar64=_satellite.getVar("AA-localCampaignVariable"):t.eVar64=_satellite.getVar("AA-SearchAds360Parameter"),t.eVar171=t.Util.getQueryParam("cid"),t.eVar172=t.Util.getQueryParam("bid"),t.server=location.host,t.prop74=_satellite.property.name+"|"+e.$rule.name,t.pageType="error"==s.get("page.category.pageType")?"errorPage":s.get("page.category.pageType"),s.get("pageInstanceId").indexOf("error-pool/")>-1&&(t.pageName=t.pageURL,t.pageType="errorPage",t.prop1=t.pageName),t.eVar4=a,a.length>255&&(t.eVar5=a.substring(255,a.length)),n.update("url",t.eVar4),t.eVar14=n.get("url"),t.eVar29=n.get("pathName"),t.prop31=n.get("pagePrimaryCategory"),_satellite.logger.log("khubruy prop31",t.prop31),t.prop32=n.get("pageSubCategory01"),t.prop33=n.get("pageName"),t.prop3=s.get("page.category.primaryCategory"),n.update("pagePrimaryCategory",t.prop19),t.prop4=s.get("page.category.subCategory01"),n.update("pageSubCategory01",t.prop4),n.update("jcrPath",s.get("pageInstanceId",window.location.pathname)),t.eVar28=n.get("componentSubcategory1"),t.prop47=t._ppvHighestPercentViewed,t.prop48=t._ppvFoldsAvailable,t.prop49=t._ppvFoldsSeen,t.eVar11=location.hash,t.eVar12=location.protocol+"//"+location.host+location.pathname,t.eVar13=location.search.split("?")[1],t.eVar132=window.navigator.userAgent,t.eVar135=s.get("page.pageInfo.envWork",s.get("page.pageInfo.devEnv")),t.eVar6=document.referrer,n.update("pathName",t.eVar12),t.eVar120=s.get("cart.cartID"),t.eVar122=s.get("cart.item-1.price.currency",s.get("cart.price.currency",s.get("transaction.item-1.price.currency",s.get("transaction.total.currency.currency",s.get("product.-1.attributes.currency"))))),t.eVar123=s.get("transaction.attributes.paymentMethod"),t.eVar125=s.get("transaction.transactionID"),""!=t.linkTrackVars&&null!=t.linkTrackVars?t.linkTrackVars+=",prop44,eVar134,eVar64,eVar18,prop27,prop13,prop14,prop15,prop71,prop72,prop73,prop66,prop67,prop68,referrer,eVar6,eVar7,eVar8,eVar4,eVar5,eVar11,eVar12,eVar13,eVar132,eVar135,eVar61,eVar62,prop13,campaign,server,prop74,eVar14,eVar29,prop31,prop32,prop33,prop3,prop4,prop47,prop48,prop49,prop60,prop61,prop62,prop63,prop64,eVar63,eVar171,eVar172,prop12,prop19,prop42,prop43,eVar28,prop50,eVar120,eVar122,eVar123,eVar125,":t.linkTrackVars="prop44,eVar134,eVar64,prop27,eVar18,prop13,prop14,prop15,prop71,prop72,prop73,prop66,prop67,prop68,referrer,eVar6,eVar7,eVar8,eVar4,eVar5,eVar11,eVar12,eVar13,eVar132,eVar135,eVar61,eVar62,prop13,campaign,server,prop74,eVar14,eVar29,prop31,prop32,prop33,prop3,prop4,prop47,prop48,prop49,prop60,prop61,prop62,prop63,prop64,eVar63,eVar171,eVar172,prop12,prop19,prop42,prop43,eVar28,prop50,eVar120,eVar122,eVar123,eVar125,"}catch(e){var i={from:"AA",type:"DE",name:"setDefaultVariables"};_satellite.logger.error(e,i)}}}}},pageInstanceId:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer").pageInstanceId,t=e;return"-prod"==e.substr(e.length-5)&&(t=e.substr(0,e.length-5)),"-dev"==e.substr(e.length-4)&&(t=e.substr(0,e.length-4)),"-int"==e.substr(e.length-4)&&(t=e.substr(0,e.length-4)),6===t.split("/").length&&(t+="/index"),t}catch(e){}}}},URLNoParam:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return location.host+location.pathname}catch(e){}}}},getIsPaidSearch:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=JSON.parse(_satellite.cookie.get("visitor_aa_hits"));if(null!=e){if("paid_search"==e.user_type)return!0;if(""!=s.Util.getQueryParam("wt.mc_id")||""!=s.Util.getQueryParam("s_kwcid")||""!=s.Util.getQueryParam("ef_id")||""!=s.Util.getQueryParam("source")||""!=s.Util.getQueryParam("bmw")||""!=s.Util.getQueryParam("WT.mc_id")||""!=s.Util.getQueryParam("gclid")||""!=s.Util.getQueryParam("utm_campaign")||void 0!==s.campaign&&("sea"==s.campaign.substring(0,3)||"SEA"==s.campaign.substring(0,3))){var t={user_type:"paid_search",aa_value:e.aa_value};return _satellite.cookie.set("visitor_aa_hits",JSON.stringify(t)),!0}return!1}return""!=s.Util.getQueryParam("wt.mc_id")||""!=s.Util.getQueryParam("s_kwcid")||""!=s.Util.getQueryParam("ef_id")||""!=s.Util.getQueryParam("source")||""!=s.Util.getQueryParam("bmw")||""!=s.Util.getQueryParam("WT.mc_id")||""!=s.Util.getQueryParam("gclid")||""!=s.Util.getQueryParam("utm_campaign")||void 0!==s.campaign&&("sea"==s.campaign.substring(0,3)||"SEA"==s.campaign.substring(0,3))?(t={user_type:"paid_search",aa_value:1},_satellite.cookie.set("visitor_aa_hits",JSON.stringify(t)),!0):(t={user_type:"other",aa_value:1},_satellite.cookie.set("visitor_aa_hits",JSON.stringify(t)),!1)}catch(e){var a={from:"AA",type:"DE",name:"getIsPaidSearch"};_satellite.logger.error(e,a)}}}},"AA-doNotTrack":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return["sales > dcs: entry","stocklocator"]}}},catchblock:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(e){return function(t,s){try{t.sa("bmwgroup.group.global.test"),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.events="event933",t.eVar34=String(s)||"unknown",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}catch(e){}}}}},"ECID-previousPermissions":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.adobe.OptInCategories,t={};return t[e.ECID]="true"==_satellite.getVar("isAdobeAnalyticsAllowed"),t[e.ANALYTICS]="true"==_satellite.getVar("isAdobeAnalyticsAllowed"),t[e.TARGET]="true"==_satellite.getVar("isTargetAllowed"),t[e.AAM]="true"==_satellite.getVar("isAAMAllowed"),t}catch(e){var s={from:"AA",type:"DE",name:"ECID-previousPermissions"};_satellite.logger.error(e,s)}}}},ev_cat_subCategory01:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].category.subCategory01}catch(e){}}}},"AT-property":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").cache;if(e.get("AT-property"))return e.get("AT-property");var t={"bmw.co.za":"08d747c0-6d3b-df18-bfb9-b24468cafd0d","bmw.de":"08ab7353-eddd-5a23-5029-8db5a0795efa","bmw.it":"14a7eacb-d9ed-139b-3740-1715a4324a87","bmw.nl":"a32b2cb6-0d0b-bd0d-b61b-117ae1c93e2a","bmw.fr":"c63e9226-164f-68ce-6a77-04714d861534","bmw.es":"5f6624f7-b481-68c5-89ec-2f7c6df01e47","bmw.co.kr":"265709a7-eeba-c737-64b2-0bf051f21cb7","bmw.co.jp":"3ff9d062-6800-4a61-0e57-9d03be4a750d","bmw.ru":"932155db-25c4-5f53-1e6a-420ea418566a","bmw.se":"5fec81b0-d53d-f0c2-76ab-2563557abf59","bmw.at":"0cf18719-6a28-12fe-562a-a61a9a1d2c3c","bmw.pl":"ca83460d-3364-fbeb-443a-808a2d6d290f","bmw.ca":"240a98d1-97d2-4caf-069b-db1ed515c04e","bmw.co.uk":"0c9cfadf-3753-7304-c045-49d4d0616e83","bmw.com/en-au":"2f19833f-d79a-16ee-0e8c-c3ed9240bada","bmw.com.au":"2f19833f-d79a-16ee-0e8c-c3ed9240bada","m156.bmw-int4.com":"f10cff72-85f7-9945-d5bc-81c27ba97ef9","bmw.ch/de":"4ace6d95-d674-704a-41af-aac0be1db8f7","bmw.no":"69f4cd76-ff19-b1cc-c49e-e78fb468fba7","bmw.fi":"43dcb5ea-dcbb-889f-f645-534c9bccdb98","bmw-test6.com":"f10cff72-85f7-9945-d5bc-81c27ba97ef9"},s=t[_satellite.getVar("topLevelDomain")]||t[_satellite.getVar("topLevelDomain")+"/"+location.pathname.split("/")[1].toLowerCase()]||"";return e.set("AT-property",s),s}catch(e){var a={from:"AA",type:"DE",name:"AT-property"};_satellite.logger.error(e,a)}}}},isTargetAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").Target;return e.isTrackingAllowed(t).toString()}catch(e){var s={from:"AA",type:"DE",name:"isTargetAllowed"};_satellite.logger.error(e,s)}}}},Usabilla_success_events:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["Form Success","Online TDA Booking Finish"],t=_satellite.getVar("snapshotDL").get("event.-1.eventInfo.eventName");return e.indexOf(t)>-1}catch(e){var s={from:"Usabilla",type:"DE",name:"Usabilla_success_events"};_satellite.logger.error(e,s)}}}},isAAAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").AdobeAnalytics;return e.isTrackingAllowed(t).toString()}catch(e){var s={from:"AA",type:"DE",name:"isAAAllowed"};_satellite.logger.error(e,s)}}}},setTronDefaultVariableGeneric:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(e){try{var t=_satellite.getVar("snapshotDL"),s=_satellite.getVar("errObj"),a=_satellite.getVar("tronVisualizer"),o="nsc > ";e.prop1=t.get("page.pageInfo.pageName"),e.prop2=t.get("page.category.pageType"),e.prop5=t.get("page.category.subCategory02");try{if(""!=a&&null!=a){var n=a.event.cause,r=a.event.type,i=a.event.effect,c=a.event.action,d=a.event.timeStamp,l=a.component.name,u=a.component.type,b=a.version,m=a.custom.scenery;switch(void 0===l?l="datalayer field missing":""==l?l="datalayer field empty":e.prop19=l,e.prop52=n,e.prop53=r,e.prop57=c,e.prop41=u,e.prop44=b,e.prop45=b,e.eVar136=b,e.eVar34=o+i,e.prop12=d,e.prop54=l,l){case"visualizer":e.prop43="showroom",e.prop42="configuration",e.prop50="datalayer field missing",e.prop55=m,e.prop56="interaction";break;case"video player":e.prop43="video",e.prop50="media",e.prop55="video",e.prop56="interaction"}}}catch(e){var p={from:"AA",type:"DE",name:"Custom Code for TRON Specific Variables Mapping"};_satellite.logger.error(e,p)}try{if(""!=s&&null!=s){var g=s.event.name;if(null!=g&&"error"===g){var f=s.event.effect;e.eVar34=void 0===f?"datalayer field missing":""==f?"datalayer field empty":o+f;var v=s.custom.errorURL;e.eVar71=void 0===v?"datalayer field missing":""==v?"datalayer field empty":v;var h=s.custom.errorOrigin;e.prop51=void 0===h?"datalayer field missing":""==h?"datalayer field empty":h;var P=s.event.cause;e.prop52=void 0===P?"datalayer field missing":""==P?"datalayer field empty":P;var j=s.event.type;e.prop53=void 0===j?"datalayer field missing":""==j?"datalayer field empty":j;var C=s.custom.errorCode;e.prop55=void 0===C?"datalayer field missing":""==C?"datalayer field empty":C;var R=s.version;e.prop44=void 0===R?"datalayer field missing":""==R?"datalayer field empty":R,e.prop45=e.prop44,e.prop56=void 0===g?"datalayer field missing":""==g?"datalayer field empty":g;var w=s.event.action;e.prop57=void 0===w?"datalayer field missing":""==w?"datalayer field empty":w;var E=s.component.name;switch(e.prop19=void 0===E?"datalayer field missing":""==E?"datalayer field empty":E,E){case"electric range calculator":e.prop50="calculator",e.prop43="showroom";break;case"all-models-list":e.prop50="model list",e.prop43="content";break;case"dynamic disclaimer":e.prop50="disclaimer",e.prop43="legal information";break;default:e.prop50="datalayer field missing"}}}}catch(e){var y={from:"AA",type:"DE",name:"Custom Code for Error Events tracking"};_satellite.logger.error(e,y)}""!=e.linkTrackVars&&e.linkTrackVars,e.linkTrackVars=e.apl(e.linkTrackVars,"prop1,prop2,prop5,prop45,prop56,prop57,prop55,prop53,prop52,prop51,eVar71,eVar34,prop44,eVar7,prop12,prop19,prop42,prop43,prop50")}catch(e){var T={from:"AA",type:"DE",name:"setTronDefaultVariables"};_satellite.logger.error(e,T)}}}}},pa_pag_pageTitle:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return _satellite.getVar("finalDataLayer").page.pageInfo.pageTitle}catch(e){}}}},clearCookies:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{for(var e,t=["s_vnum","s_cc","s_getNewRepeat","s_invisit","s_lv","s_lv_s","s_fid","s_sq","s_ptc","s_ppv","at_check","bmwdtm_hq_previouspage_meta","bmwdtm_hq_sid","bmwdtm_hq_cc","bmwdtm_hq_pp","bmwdtm_hq_pcg","bmwdtm_hq_vs","bmwdtm_hq_nav","bmwdtm_hq_epv","bmwdtm_hq_perf","bmwdtm_hq_csevent","bmwdtm_ru_campaign","bmwdtm_MO","AMCV_B52D1CFE5330949C0A490D45%40AdobeOrg","AMCVS_B52D1CFE5330949C0A490D45%40AdobeOrg","c5b3573c15461c7fb62c3c6af53d7ce46d446a36","bmwdtm_za_channel","bmwdtm_za_model","bmwdtm_za_date","bmwdtm_cs_utm","bmwdtm_cs_utm_req","bmwdtm_tr_mayfestProgrammatic","bmwdtm_tr_configuratorLandingTime","bmwdtm_ru_landingTime","bmwdtm_cn_campaigndata","bmwdtm_hq_userdata","bmwdtm_hq_SedanExperience","aam_uuid","mbox","mboxPC","mboxSession","tempNavigation","psyma_participation","daktela_chat_email","daktela_chat_session","daktela_chat_title","_em_t","_em_v","_em_vt","nmfirstparty","_mtruid","__lc.visitor_id","lc_window_state","__telemetric.v","__telemetric.s","bmnet","s3optout","s3timer","s3_AE","s3_AESess","s3_AR","s3_ARSess","s3noae","s3sess","evo5_popin_instance","tdid","cikneeto","cikneeto_uuid","tdid","campaign_complete","impressionsNo","LaSID","LaVisitorId","LaVisitorNew","LaRunningChat","LaUserDetails","LaEventId","gdt_flag","_ym_isad","_ym_uid","bmwdtm_hq_feedbackcomplete","mpt_vid","mpt_opted_out","visitorid","pageViewCount","time_spent","s_ppvl","aam_test","check","_gcl_au","_fbp","campaign_cookie","bmwdtm_HK","ces_status","_ga","IDE","mp_scr_","mp_scr_06","mp_scr_08","mp_scr_11","mp_scr_12","mp_scr_14","mp_scrActions","mp_scrPoints","ActivityInfo2","TargetInfo2","u2","cikneeto","cikneeto_uuid","_kuid_","anj","audience","AWSELB","bkdc","bkpa","bku","C","cid","CMID","CMPRO","CMPS","CMRUM3","CMST","data-rk","dsp_id","mako_uid","ONPLFTRH","pb","pxrc","r1","rlas3","sd-session-id","sec","sid","smd","tuuid","tuuid_lu","uid","um2","uuid2","visitor-id","zync-uuid","__qca","mc","n/a","dsp_id_1","evo5","evo5_BMW","evo5_BMW_popin","ione_MTA4MDYx","ionengagementscore","nmfp_evo5_BMW","nmfp_evo5_BMW_popin","_id","_ss","bs","cas","cdb0","cdb1","cdb2","cdb3","cdbp","d","dct_oba","evo5_CLIENT","evo5_CLIENT_popin","evo5_display","EVO5_MINI","evo5_MINI_popin","EVO5_OPT","evo5_popin_instance","f","iOne_","kanapr","nmfirstparty","nmfp_","nmfp_dsp_id","nmfp_evo5_MINI","nmfp_u","notrack","ss","t","ts","u","mt_misc","mt_mop","uuid","uuidc","TDCPM","TDID","beaconRetry","dtBW","dtcookie","dtLatC","dtPC","dtSa","dtsrE","dtsrTID","dtsrVID","ruxitagent","rxVisitId","rxVisitor","rxvt","MUID","MUIDB","__gads","_dc_gtm_UA-127190505-1","_gaexp","_gat","_gat_gtag_UA_","_gat_UA-","_gid","1P_JAR","eud","euds","glc","NID","rud","ruds","_ga1","_dc_gtm_UA-","1143061:session-data","cmd","eng_mt","rc::a","rc::b","rc::c","Cookie_B","lu","xs","c_user","m_user","pl","dblc","aks","aksb","sfau","ick","s","datr","sb","fr","oo","ddid","_fbc","dpr","gu","lh","L\xe4ndereinstellung","shopping_cart","wd","js_ver","rc","campaign_click_url","Checkpoint","lp","hckd","noscript","m_pixel_ratio","act","sfiu","m_ts","p","reg_ext_ref","ar","next","sW","reg_fb_gate","av","next_path","reg_fb_ref","dnonce","presence","a11y","reg_uniqid","rdir","i_user","x-referer","x-src","i_key","i_id","AA003","ATN","lang","bcookie","bscookie","UserMatchHistory","lidc","personalitation_id","personalization_id","psyma_participation","pageViewCount","usabilla_","time_spent","usbl.","_cs_c","_cs_s","_cs_id","GAD","Gdyn","bmw_chatbot_nlhyperchat_session","UserID1","_pk_uid","TCSess","_s3_cvar.","TCID","_s3_id.","_s3_id.19.","s3optout","_s3_ses.19.","_s3_ref.","_s3_ses.","xdt_143","_s3_ses.97.72cd","_s3_id.97.72cd","bmwdtm_perf","time_spent_adhoc","FACEBOOKWITHOUTANAME","_cs_vars","_cs_ex","_cs_optout","YouTubePlayer","dotaki.id","dotaki.idt","dotaki.time","dotaki.segment","_s3_cvar","_s3_id","_s3_ref","_s3_ses","criteo_cookie_perm","criteo_localstorage_check","criteo_write_test","cto_bundle","cto_clc","cto_idcpy","cto_idfs","cto_lwid","cto_optout","cto_sid","cto_sid_ack","cto_tld_test","eid","opt","optout","r.ack","zdi","unvisited","_em_lt","_em_dmp","_em_ft","_em_c3","_em_pc","_em_scf","_em_gc","_em_vi","_em_mb","baqend-speedkit-ab-test-info"],s=document.cookie.split(";"),a=0;a<s.length;a++)(e=s[a].split("=")[0].substr(1)).indexOf("_s3")>-1&&(t[t.length]=e),e.indexOf("nmfp")>-1&&(t[t.length]=e),e.indexOf("_ym_viso")>-1&&(t[t.length]=e),e.indexOf("_sdsat")>-1&&(t[t.length]=e);function o(){var e=window.location.hostname,t=e.split(".").reverse(),s=t[1]+"."+t[0];return e.indexOf("www.bmw-int4.com")>-1?s=".bmw-int4.com":(e.indexOf(".co.")>-1||e.indexOf(".com.")>-1&&t.length>2)&&(s=t[2]+"."+s),s}var n=o();function r(){for(_satellite.logger.log("Clearing cookies from inside clearCookies data element.."),a=0;a<t.length;a++)_satellite.cookie.remove(t[a]),_satellite.cookie.remove(t[a],{domain:n})}r()}catch(e){var i={from:"AA",type:"DE",name:"clearCookies"};_satellite.logger.error(i,e)}}}},ev_eve_eventName:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.eventName}catch(e){}}}},"AAM-hasheducid":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.toString(),t=new URL(e).searchParams.get("hucid");if(null!=t)return t}catch(e){_satellite.logger.error("EmailID error ",e)}}}},ev_cat_subCategory02:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1,s=e.event[t].category.subCategory02,a=_satellite.getVar("ev_cat_subCategory04"),o=_satellite.getVar("topLevelDomain");return null!=s&&""!=s||(s="Generic"),"bmw.com.tr"!=o&&"bmw.co.jp"!=o&&"bmw-antilles.fr"!=o||null!=a&&""!=a&&"not set"!=a&&(s="Campaign"),s}catch(e){}}}},pr_att_mmdr:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer");if(0==e.product.length)return"";var t=e.product.length-1;return e.product[t].attributes.mmdr}catch(e){}}}},smartPreviousValueManager:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e="bmwdtm_hq_previouspage_meta";function t(){var t=_satellite.getVar("KIT-helpers").cache;this.init=function(s){var a=t.get(e);if(!a){for(var o in a={},s)s.hasOwnProperty(o)&&(a[o]={value:s[o],valueAfterVirtualPageLoad:void 0});t.set(e,a)}},this.update=function(s,a){var o=t.get(e);o[s]=o[s]||{value:void 0},o[s].valueAfterVirtualPageLoad&&(o[s].value=o[s].valueAfterVirtualPageLoad),o[s].valueAfterVirtualPageLoad=a,t.set(e,o)},this.get=function(s){var a=t.get(e);return"object"==typeof a[s]?a[s].value:void 0},this.saveDeferredObject=function(s){t.set(e+"_deferred",s)},this.getDeferredObject=function(){return t.get(e+"_deferred")||{}}}function s(){var t=_satellite.cookie;this.get=function(t){var s={};try{s=JSON.parse(window.decodeURIComponent(_satellite.cookie.get(e)||"{}"))}catch(e){}return t?s[t]:s},this.update=function(s,a){var o=this.get();if(o[s]=a,!1===t.set(e,window.encodeURIComponent(JSON.stringify(o)),{domain:_satellite.getVar("topLevelDomain"),expires:18e5/864e5})||"false"===_satellite.getVar("isAdobeAnalyticsAllowed"))return!1},this.saveDeferredObject=function(e){for(var t in e)e.hasOwnProperty(t)&&this.update(t,e[t])}}function a(e,t){t.init(e.get()),this.update=function(s,a,o){if(o&&t.update(s,a),!1===e.update(s,a)){var n=t.getDeferredObject();n[s]=a,t.saveDeferredObject(n)}},this.get=function(e){return t.get(e)},this.saveDeferredObject=function(){e.saveDeferredObject(t.getDeferredObject())}}return new a(new s,new t)}catch(e){var o={from:"AA",type:"DE",name:"smartPreviousValueManager"};_satellite.logger.error(e,o)}}}},"Trigger-pageLoadTPT":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{return function(e){var t,s="re-trigger-third-party";_satellite.logger.log('An attempt to trigger the page load TPTs is made from - "'+e+'"'),_satellite.getVar("haveTPTsTriggered")?_satellite.logger.log("Page load TPTs have already been triggered, hence will not be re-trigerred"):("function"==typeof Event?t=new Event(s):(t=document.createEvent("Event")).initEvent(s,!0,!0),t.detail={processing:_satellite.getVar("consentMap").Others},_satellite.logger.log("Triggering the page load TPTs successfully"),document.body.dispatchEvent(t),_satellite.setVar("haveTPTsTriggered",!0))}}catch(t){var e={from:"AA",type:"DE",name:"Trigger-pageLoadTPT"};_satellite.logger.error(t,e)}}}},"AAM-partnerID":{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("AAM-initConfig");return e&&e.partner||""}catch(e){var t={from:"AA",type:"DE",name:"AAM-partnerID"};_satellite.logger.error(e,t)}}}},"AA-subCategory01":{modulePath:"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js",settings:{snapshotAttribute:{path:"event.-1.category.subCategory01"}}},URL:{defaultValue:"URL",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.href.substring(0,255);return e=e.toLowerCase()}catch(e){}}}},productBuilder:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=function(){this.id=void 0,this.category=void 0,this.merchEvars={},this.events=[],this.quantity=void 0,this.price=void 0,this.load=[]};return e.prototype.toString=function(){try{var e="";for(var t in this.merchEvars)Object.prototype.hasOwnProperty.call(this.merchEvars,t)&&(-1!=_satellite.getVar("AA-Exclusionlist").indexOf(t)?e+=t+"="+(this.merchEvars[t]||"").replaceAll(/[,]/g," ")+"|":e+=t+"="+(this.merchEvars[t].toString()||"").toLowerCase().replaceAll(/[,]/g," ")+"|");e.length&&(e=e.substring(0,e.length-1));var s=this.category||"";s+=";"+(this.id||""),s+=";"+(this.quantity||""),s+=";"+(this.price||""),s+=";"+(this.events?Array.isArray(this.events)?this.events.join("|"):this.events:""),s+=";"+(e||"");for(var a="",o=0;o<this.load.length;o++)a+=","+this.load[o].toString();return s+=a}catch(e){var n={from:"AA",type:"DE",name:"productBuilder->toString"};_satellite.logger.error(e,n)}},e.prototype.append=function(e){if(Array.isArray(e))this.load=this.load.concat(e);else{if("object"!=typeof e)throw new Error("Product Builder append function expects an instance of ProductBuilder as parameter, OR and array of ProductBuilder instances");this.load.push(e)}},new e}catch(e){var t={from:"AA",type:"DE",name:"productBuilder"};_satellite.logger.error(e,t)}}}},hierarchy:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("jcrPathLevel1"),t=_satellite.getVar("jcrPathLevel2"),s=_satellite.getVar("jcrPathLevel3"),a=_satellite.getVar("pageName"),o=[e,t,s],n=3;s.indexOf("None")>-1&&(n=2),t.indexOf("None")>-1&&(n=1),e.indexOf("None")>-1&&(n=0);for(var r="",i=0;i<n;i++)r+=o[i]+"|";return r+=a}catch(e){}}}},targetModelsExclusion:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=digitals2.tracking.api.getPageObject(digitals2.tracking.api.getCurrentPageIndex()).product[0].attributes.mmdr,t=window.location.host;if(t.indexOf("www.bmw.at")>-1)var s=["G80","G82","G83","F90","F91","F92","F93","F97","F98","F95","F96","G07","G11","G12","G14","G15","G16"].indexOf(e)>-1;else t.indexOf("www.bmw.de")>-1&&(s=["F87","G80","G82","F90","G07","G08","G11","G14","G15","G16","G42","F92","F91","F93","F97","F98","F95","F96","i20","I20","G26","G23","G83","G26E","G26e","U06","I01"].indexOf(e)>-1);return s}catch(e){_satellite.logger.error("VisitorReco: Error in DE targetModelsExclusion"+e)}}}},setDefaultProductVariables:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL"),t=_satellite.getVar("productBuilder"),a=(window.location.href,e.get("product.-1.productInfo.productID")),o=e.get("product.-1.attributes.bodyType"),n=e.get("product.-1.attributes.fuelType"),r=e.get("product.-1.attributes.hybridVersion"),i=e.get("product.0.category.primaryCategory"),c=(e.get("product.-1.productInfo.manufacturer"),e.get("product.-1.attributes.mmdr")),d=(e.get("product.-1.attributes.modelName"),e.get("product.-1.attributes.modelCode")),l=(e.get("product.-1.attributes.modelCodeAG"),e.get("product.-1.productInfo.productName")),u=e.get("product.-1.attributes.series"),b=["new vehicle","used vehicle","service","search","after sales","accessory"];function m(e){return e.indexOf("gasoline")>-1?e.indexOf("hybrid")>-1?"x":"o":e.indexOf("diesel")>-1?e.indexOf("hybrid")>-1?"y":"d":e.indexOf("electric")>-1?"e":e.indexOf("petrol")>-1?"b":e}if(e.get("product").length>0)for(var p in e.get("product"))if(!isNaN(+p)){var g=e.get("product."+p+".attributes.mmdr",e.get("product."+p+".attributes.internalCode")),f=e.get("product."+p+".attributes.mmdrVG",e.get("product."+p+".attributes.internalCode")),v=e.get("product."+p+".attributes.modelCode");c="G26E"==g||"G26E"==f||"71AW"==v||"31AW"==v?"G26E":"G70E"==g||"G70E"==f?"G70E":e.get("product."+p+".attributes.mmdr",e.get("product."+p+".attributes.internalCode"))}var h=e.get("product.-1.attributes.motorization",e.get("product.-1.attributes.engine"));if(h){var P=/[0-9]{3}[a-z]{1}/i,j=/xdrive[0-9]{2}[a-z]{1}/i,C=/sdrive[0-9]{2}[a-z]{1}/i,R=h.match(P)||h.match(j)||h.match(C);h.indexOf("i3 (120 ah)")>-1||h.indexOf("i3 (120ah)")>-1||h.indexOf("i3 120ah")>-1?h="i3 (120 ah)":h.indexOf("i3s (120 ah)")>-1||h.indexOf("i3s (120ah)")>-1||h.indexOf("i3s 120ah")>-1?h="i3s (120 ah)":R&&R.length&&(h=R[0].toUpperCase())}var w=e.get("product.-1.attributes.gearing");"automatic"==(w=w.toLowerCase())||"manual"==w||(w.indexOf("autom")>-1||w.indexOf("steptronic")>-1?w="automatic":(w.indexOf("manu")>-1||w.indexOf("schaltgetriebe")>-1)&&(w="manual")),"CA"==(o=e.get("product.-1.attributes.bodyType"))?o="CAB":"HB"==o?o="CLU":"KO"==o?o="COM":"CO"==o||"CP"==o?o="COU":"GF"==o?o="GFZ":"HB"==o||"SH"==o?o="SHA":"LI"==o?o="LIM":"MP"==o?o="MPV":"RO"==o?o="ROA":"SC"==o?o="SAC":"ST"==o?o="SAT":"GF"==o?o="SAV":"HC"==o?o="SHA":"TO"==o&&(o="TOU"),t.id=a,e.get("product.-1.attributes.sellingPriceTotal","0"),"new car"==i||"New Car"==i||"New car"==i?(t.category="new vehicle",basePriceVehicle=e.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceVehicle","0")):"used car"==i?(t.category="used vehicle",basePriceVehicle=e.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceVehicle","0")):"accessories"==i?(t.category="after sales",basePriceVehicle=e.get("product.-1.attributes.basePriceOptions","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceOptions","0")):"forms"==i?(t.category="new vehicle",t.id=d,basePriceVehicle=e.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceVehicle","0")):b.indexOf(i)>-1?(t.category=i,basePriceVehicle=e.get("product.-1.attributes.basePriceVehicle","0"),sellingPriceVehicle=e.get("product.-1.attributes.sellingPriceVehicle","0")):t.category="datalayer field missing";var E={eVar10:c,eVar44:e.get("product.-1.attributes.productionYear"),eVar45:e.get("product.-1.attributes.yearOfRegistration"),eVar46:e.get("product.-1.attributes.vehicleSelection",e.get("product.-1.attributes.vehicleStatus")),eVar47:e.get("product.-1.productInfo.color"),eVar48:d,eVar49:e.get("product.-1.attributes.gearing"),eVar50:u,eVar51:o,eVar52:l,eVar53:e.get("product.-1.category.primaryCategory"),eVar54:e.get("product.-1.category.subCategory01",e.get("product.-1.category.subCategory1")),eVar55:e.get("product.-1.category.subCategory02",e.get("product.-1.category.subCategory2")),eVar56:m(n),eVar57:r,eVar58:h,eVar65:e.get("product.-1.attributes.modelName"),eVar66:e.get("product.-1.attributes.trimLevel"),eVar69:e.get("product.-1.attributes.modelCodeAG"),eVar121:e.get("cart.price.voucherCode",e.get("transaction.total.voucherCode")),
eVar124:e.get("cart.price.taxRate",e.get("transaction.total.taxRate")),eVar126:e.get("cart.price.shippingMethod",e.get("transaction.total.shippingMethod"))};t.merchEvars=E;var y=[];return y.push("event831=0"),y.push("event832=0"),y.push("event833=0"),y.push("event834=0"),y.push("event835=0"),y.push("event836=0"),y.push("event837=0"),y.push("event858=0"),t.events=y,s.events=s.apl(s.events,"event831,event832,event833,event834,event835,event836,event837,event858"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event831,event832,event833,event834,event835,event836,event837,event858"),s.prop59=e.get("product.-1.attributes.configID"),s.linkTrackVars=s.apl(s.linkTrackVars,"eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69,eVar67,eVar121,eVar124,eVar126"),t}catch(e){var T={from:"AA",type:"Data Element",name:"setDefaultProductVariables"};_satellite.logger.error(e,T)}}}},server:{storageDuration:"pageview",modulePath:"core/src/lib/dataElements/pageInfo.js",settings:{attribute:"hostname"}},jcrPathLevel3:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pageInstanceId"),t=_satellite.getVar("pa_pag_pageName"),s=_satellite.getVar("pa_cat_primaryCategory"),a=e.split("/"),o=6,n=3;n=n+o-1;var r=a.length;if(n<r)var i=a[n];else i="None";return"newvehicles"!==a[o]&&"all-models"!==a[o]||(i=n<r?a[n]+" "+a[n+1]:"None"),e.indexOf("/configurator")>-1&&(i="None"),"VCO"===s&&(i=t),i}catch(e){}}}},geoRegion:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL");if(void 0!==e.page)return e.page.pageInfo.geoRegion;var t=location.hostname;if(t.indexOf("bmwusa.com")>-1)return"US";var s=t.split("."),a=s[s.length-1];return a=a.toUpperCase()}catch(e){}}}},campaignParameter:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e={"bmw.ca":["tl"],"bmw-int2i.com":["tl"],"bmw.pt":["tl"],"bmw.co.id":["tl"],"bmw.com.mx":["tl"],"pml-bmw.com.sg":["tl"],"munichauto.com.sg":["tl"],"bmw.co.kr":["tl"],"bmw.ie":["tl"],"bmw.com.br":["tl"],"bmw.com.pa":["tl"],"bmw.com.py":["tl"],"bmw.com.co":["tl"],"bmw.com.pe":["tl"],"bmw.com.uy":["tl"],"bmw.com.gt":["tl"],"bmw.cl":["tl"],"bmw.co.cr":["tl"],"bmw.com.bo":["tl"],"bmw.com.ec":["tl"],"bmw.com.sv":["tl"],"bmw.com.ni":["tl"],"bmw.com.do":["tl"],"bmw.hn":["tl"],"bmw.com.ve":["tl"],"bmw.cw":["tl"],"bmw.bs":["tl"],"bmw.bb":["tl"],"bmw.com.ky":["tl"],"bmwjamaica.com":["tl"],"bmw.lc":["tl"],"bmw.tt":["tl"],"bmw.ht":["tl"],"bmw.com.ar":["tl"],"bmwlat.com":["tl"],"bmw.co.za":["tl"],"bmw.in":["tl"],"bmw.bg":["tl"],"bmw.gr":["tl"],"bmw.pl":["tl"],"bmw.hu":["tl"],"bmw.sk":["tl"],"bmw.si":["tl"],"bmw.ro":["tl"],"bmw.cz":["tl"],"bmw.co.jp":["tl"],"bmw.com.tr":["tl"],"bmw.com.au":["tl"],"bmw.fi":["tl"],"bmw.no":["tl"],"bmwhk.com":["tl"],"bmw.dk":["tl"],"bmw.se":["tl"],"bmw.ru":["tl"],"bmw.com.tw":["tl"],"bmw.lv":["tl"],"bmw.ee":["tl"],"next100.bmw":["tl"],"trgovec.bmw":["tl"],"testnavoznja.bmw":["tl"],"bmw.co.nz":["tl"],"bmw-asia.com":["tl"],"bmw.com.my":["tl"],"bmw.co.th":["tl"],"bmw.lk":["tl"],"bmw.com.ph":["tl"],"bmw-eg.com":["tl"],"bmw.am":["tl"],"bmw.vn":["tl"],"bmw.mu":["tl"],"bmw.com.al":["tl"],"bmw.ly":["tl"],"bmw.ua":["tl"],"bmw.com.bd":["tl"],"bmw.com.bn":["tl"],"bmw.com.ge":["tl"],"bmw.is":["tl"],"bmwmyanmar.com":["tl"],"bmw.co.il":["tl"],"bmw.cc":["tl"],"bmw-me.com":["tl"],"bmw.it":["tl"],"bmw-kuwait.com":["tl"],"bmw.com.cy":["tl"],"bmw.bm":["tl"],"bmw.com.mt":["tl"],"bmw-abudhabi.com":["tl"],"bmw-dubai.com":["tl"],"bmw.az":["tl"],"bmw.ba":["tl"],"bmw.be":["tl"],"bmw.dz":["tl"],"bmw.fr":["tl"],"bmw.hr":["tl"],"bmw-iraq.com":["tl"],"bmw.com.kz":["tl"],"bmw-lebanon.com":["tl"],"bmw.lu":["tl"],"bmw.md":["tl"],"bmw.nl":["tl"],"bmw-oman.com":["tl"],"bmw-pakistan.com":["tl"],"bmw-qatar.com":["tl"],"bmw.re":["tl"],"bmw-saudiarabia.com":["tl"],"bmw-tunisia.com":["tl"],"bmw.de":["tl"],"bmw.at":["tl"],"bmw.ch":["tl"],"bmw.es":["tl"],"bmw-lao.la":["tl"],"bmw-jordan.com":["tl"],"bmw-bahrain.com":["tl"],"bmw.ps":["tl"],"bmw-yemen.com":["tl"],"bmw-tahiti.com":["tl"],"bmw-antilles.fr":["tl"],"bmw.mq":["tl"],"bmw.com.cn":["tl"],"bmw.nc":["tl"],"bmw.rs":["tl"],"bmw-voli.me":["tl"],"bmw.com.mk":["tl"],"bmw-yachtsport.com":["tl"],"bmw-golfsport.com":["tl"],"bmw-motorsport.com":["tl"],"bmw-m.com":["tl"],"bmw.com":["tl"],"bmw.co.ke":["tl"],"bmw-ghana.com":["tl"],"bmw-nigeria.com":["tl"],"bmw.co.ao":["tl"],"bmw.sr":["tl"],"bmw.com.mo":["tl"],"bmw-special-sales.com":["tl"],"bmw-pma.com.sg":["tl"],"bmw.co.uk":["tl"],"bmwbkk.de":["tl"],"bmw.com.sg":["tl"]};function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}var s=_satellite.getVar("topLevelDomain");if(void 0!==e[s])var a=e[s];else a=["tl"];for(var o="",n=0;n<a.length&&!(o=t(a[n]));n++);return o}catch(e){"true"==localStorage.getItem("sdsat_debug")&&_satellite.logger.error("SATELLITE: Campaign not tracked")}}}},PRC_adform:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=function(){var t=_satellite.getVar("snapshotDL"),s=(t.get("page.pageInfo.pageName"),t.get("event.-1.attributes.mmdr",t.get("product.-1.attributes.mmdr"))),a=t.get("product.-1.attributes.modelCode");("datalayer field empty"==s||"datalayer field missing"==s)&&window.location.href.indexOf("modelRange")>-1&&(s=window.location.href.substring(window.location.href.indexOf("modelRange")+11,window.location.href.indexOf("modelRange")+14));var o={8:_satellite.getVar("AA-componentDefaultValues").subCat,9:window.location.pathname,10:window.location.href,11:s,12:a,13:_satellite.getVar("AA-languageWorkaround"),14:t.get("page.attributes.outletName"),15:t.get("cart.cartID"),16:t.get("page.attributes.currencyCode",t.get("transaction.-1.total.currency",t.get("cart.price.currency")))},n=function(e){let t={};for(var s of e)t["sv"+s]=o[s];return t};e.prototype.exec=function(e){if(null==e.sv)(window.p15r=window.p15r||[]).push({action:"execute",processingId:"AdformRetargeting",params:{accountId:e.pmId,divider:encodeURIComponent("|"),pagename:encodeURIComponent(e.page)}});else{var t=n(e.sv);(window.p15r=window.p15r||[]).push({action:"execute",processingId:"AdformRetargeting",params:{accountId:e.pmId,divider:encodeURIComponent("|"),pagename:encodeURIComponent(e.page),order:t}})}}};return new e}catch(e){var t={from:"AA",type:"DE",name:"PRC_adform"};_satellite.logger.error(e,t)}}}},topLevelDomain:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.location.hostname,t=e.split(".").reverse(),s=t[1]+"."+t[0];return(e.indexOf(".co.")>-1||e.indexOf(".com.")>-1&&t.length>2)&&(s=t[2]+"."+s),s}catch(e){var a={from:"AA",type:"DE",name:"topLevelDomain"};_satellite.logger.error(e,a)}}}},ev_eve_cause:{defaultValue:"",storageDuration:"pageview",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("finalDataLayer"),t=e.event.length-1;return e.event[t].eventInfo.cause}catch(e){}}}},perfTime_url:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=window.epaas.api.getPersistence("bmwdtm_hq_perf");return void 0!==e?(jdata=JSON.parse(e),jdata.path):""}catch(e){return _satellite.logger.error("Error in Data Element perfTime_url: "+e),"na"}}}},isAAMAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").AAM;return e.isTrackingAllowed(t).toString()}catch(e){var s={from:"AA",type:"DE",name:"isAAMAllowed"};_satellite.logger.error(e,s)}}}},splitConsentEnabled:{modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=["bmw.de","bmw.co.za","bmw.co.jp","bmw-int5.com","bmw-int4.com","bmw.it","bmw.bg","bmw.hr","bmw.com.cy","bmw.cz","bmw.com.mt","bmw.gr","bmw.hu","bmw.ro","bmw.sk","bmw.si","bmw.be","bmw.lu","bmw.at","bmw.es","bmw.pl","bmw-int6.com","bmw.nl","bmw.fr","bmw.ch","bmw.ie","bmw.lv","bmw.ee","bmw.gp","bmw.mu","bmw.mq","bmw.co.uk","bmw.pt","bmw.re","bmw.is","bmw.lt","bmw.dk","bmw.fi","bmw.se","bmw.no","bmw.com.br","bmwbkk.de","bmw.in","bmw.com.mx","adobemc.com","mini.de","mini.it","mini.fr","mini.at","mini.ch","mini.be","mini.lu","mini-int7.com"],t=_satellite.getVar("topLevelDomain");return e.indexOf(t)>-1?"true":"false"}catch(e){var s={from:"AA",type:"DE",name:"splitConsentEnabled"};_satellite.logger.error(e,s)}}}},isOfferApplicable:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){return function(){try{var t=+_satellite.getVar("final_newscore")||0,s=window.location.href,a=s.indexOf("bmw.at")>-1||s.indexOf("bmw.de/de/neufahrzeuge")>-1||s.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de/neufahrzeuge")>-1||s.indexOf("bmw.de/de/all-models/")>-1||s.indexOf("bmw.de/de/index")>-1||s.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de_DE/index")>-1||s.indexOf("bmw.de/de/home")>-1||s.indexOf("bmw.de/content/bmw/marketDE/bmw_de/de/home")>-1,o=s.indexOf("https://www.bmw.at/de/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html")>-1||s.indexOf("https://www.bmw.at/forms/rfc/kontaktanfrage.html")>-1||s.indexOf("www.bmw.at/de/footer/metanavigation/legal-disclaimer-pool/legal-disclaimer.html")>-1||s.indexOf("www.bmw.at/de/footer/metanavigation/legal-notice-pool/imprint.html")>-1||s.indexOf("www.bmw.at/de/footer/footer-section/cookie-policy.html")>-1||s.indexOf("www.bmw.at/de/footer/metanavigation/data-privacy.html")>-1||s.indexOf("www.bmw.at/de/footer/metanavigation/data-privacy-fs.html")>-1||s.indexOf("https://www.bmw.at/forms/probefahrt/tda.html")>-1||s.indexOf("https://www.bmw.at/forms/rfo/angebot-anfordern.html")>-1||s.indexOf("https://www.bmw.at/de/neuwagensuche.html#/")>-1||s.indexOf("https://configure.bmw.at/de_AT/")>-1,n="";s&&s.indexOf("bmw.de")>-1?n=75:s&&s.indexOf("bmw.at")>-1&&(n=65);var r,i=JSON.parse(sessionStorage.getItem("Personalization_VisitorReco"))||{},c=i.isOfferShown,d=i.isFormSubmitted;r="boolean"==typeof i.isOfferShown?Object.keys(i).length-1:Object.keys(i),_satellite.logger.log("VisitorReco: final Score is:",t),_satellite.logger.log("VisitorReco: Count of models present:",r),_satellite.logger.log("VisitorReco: offer shown flag value:",c),t>=n&&a&&!o&&0==c&&r>0&&"true"!=_satellite.getVar("isSetTimeOut")&&!d&&(_satellite.setVar("isSetTimeOut","true"),_satellite.logger.log("VisitorReco: SetTimeOut function is set"),setTimeout((function(){0==JSON.parse(sessionStorage.getItem("Personalization_VisitorReco")).isOfferShown&&(_satellite.logger.log("VisitorReco: get and apply offer method called"),document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED,(function(e){if(void 0!==e&&void 0!==e.detail&&void 0!==e.detail.responseTokens&&e.detail.responseTokens.length>0)for(var t=0;t<e.detail.responseTokens.length;t++)void 0!==e.detail.responseTokens[t]&&void 0!==e.detail.responseTokens[t]["profile.catHist_CarModel_HIST"]&&_satellite.setVar("AT-catHist_CarModel_HIST",JSON.parse(e.detail.responseTokens[t]["profile.catHist_CarModel_HIST"]))})),adobe.target.getOffer({mbox:"visitor-reco-mbox",params:{vs_score:t},success:function(e){adobe.target.applyOffer({mbox:"visitor-reco-mbox",offer:e})},error:function(e,t){_satellite.logger.error("VisitorReco: Error in applying offer: ",e,t)}}))}),5e3))}catch(t){var l={from:"AA",type:"DE",name:"isOfferApplicable"};_satellite.logger.error(e,l)}}}}},isTargetPersonalizationAllowed:{defaultValue:"",modulePath:"core/src/lib/dataElements/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("KIT-helpers").privacyManager,t=_satellite.getVar("consentMap").TargetPersonalization;return e.isTrackingAllowed(t).toString()}catch(e){var s={from:"AA",type:"DE",name:"isTargetPersonalizationAllowed"};_satellite.logger.error(e,s)}}}}},extensions:{"adobe-analytics":{displayName:"Adobe Analytics",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP171e731c9ba34f1c950c36d26e3efd61/",settings:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg",customSetup:{source:function(e){try{var t=function(){try{var t=_satellite.getVar("AAM-initConfig"),s=function(t){e.contextData["cm.ssf"]=t,e.linkTrackVars=e.apl(e.linkTrackVars,"contextData.cm.ssf",",")};t?(e.AudienceManagement.setup(t),s("true"===_satellite.getVar("isAAMAllowed")?"0":"1")):s("1")}catch(e){var a={from:"AA",type:"DE",name:"Customize Page Code - doAAMConfig"};_satellite.logger.error(e,a)}},s=function(){var e,t,s=this,a=/eVar|prop|pageName|channel|hier/,o=_satellite.getVar("AA-Exclusionlist");for(e in s)t=s[e],Object.prototype.hasOwnProperty.call(s,e)&&"string"==typeof t&&a.test(e)&&-1===o.indexOf(e)&&(s[e]=t.toLowerCase());return s},a=_satellite.getVar("removePII");e.usePlugins=!0,e.doPlugins=function(e){try{t(),e=s.call(e),(e=a(e)).pageURL=e.pageURL?a(e.pageURL):a(window.location.href),e.referrer=e.referrer?a(e.referrer):a(document.referrer),e.getPercentPageViewed();var o=_satellite.getVar("snapshotDL");try{var n=o.get("page.pageInstanceId",o.get("pageInstanceId")),r=o.get("page.category.primaryCategory"),c=new RegExp("([a-z]{2}_[a-zA-Z]{2})");c.test(e.prop3)&&(c.test(r)?n.indexOf("index-prod")>-1?e.prop3="homepage":n.indexOf("all-models")>-1?e.prop3="showroom":e.prop3=n.split("/")[6]:e.prop3=n)}catch(e){var d={from:"AA",type:"DE",name:"prop3 workaround"};_satellite.logger.error(e,d)}e.eVar131=_satellite.getVar("lastTwoDigitsOfMID")(),e.linkTrackVars+=",eVar131","bmw.de"===_satellite.getVar("topLevelDomain")&&(e.prop35=_satellite.getVar("final_newscore"),e.events=e.apl(e.events,"event140="+_satellite.getVar("final_newscore"),","),e.linkTrackVars=e.apl(e.linkTrackVars,"prop35",","),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event140",",")),"bmw.at"===_satellite.getVar("topLevelDomain")&&(e.prop35=_satellite.getVar("final_newscore"),e.events=e.apl(e.events,"event140="+_satellite.getVar("final_newscore"),","),e.linkTrackVars=e.apl(e.linkTrackVars,"prop35",","),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event140",",")),"bmw.de"!==_satellite.getVar("topLevelDomain")&&"bmw.fr"!==_satellite.getVar("topLevelDomain")&&"bmw.it"!==_satellite.getVar("topLevelDomain")&&"bmw.co.uk"!==_satellite.getVar("topLevelDomain")&&"bmw.ru"!==_satellite.getVar("topLevelDomain")||(e.prop34=_satellite.getVar("AA-contextData")(e),e.linkTrackVars=e.apl(e.linkTrackVars,"prop34",",")),e.eVar34&&e.eVar34.indexOf("impression")>-1&&(e.events=e.apl(e.events,"event925,event926"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event925,event926")),e.eVar34&&e.eVar34.indexOf("download")>-1&&(e.events=e.apl(e.events,"event903,event904"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event903,event904")),e.prop56&&"error"==e.prop56&&e.prop54&&"js error"!=e.prop54&&(e.events=e.apl(e.events,"event931,event932"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event931,event932")),e.prop56&&e.prop53&&"interaction"==e.prop56&&("success"==e.prop53||"ux"==e.prop53)&&(e.events=e.apl(e.events,"event917,event918"),e.linkTrackEvents=e.apl(e.linkTrackEvents,"event917,event918")),o.get("pageInstanceId").indexOf("error-pool/")>-1&&(e.pageName=e.pageURL,e.pageType="errorPage",e.prop1=e.pageName);try{e.eVar34.indexOf("sl > click dealer email")>0?e.eVar34="stock > click dealer email":e.eVar34=e.eVar34.replace("sl > click dealer phone","stock > click dealer phone")}catch(e){}var l=document.referrer,u=_satellite.getVar("smartPreviousValueManager");if(l.indexOf(_satellite.getVar("topLevelDomain"))>-1){e.eVar22=u.get("pathName"),e.events=e.apl(e.events,"event125="+e._ppvInitialPercentViewed,",",1),e.events=e.apl(e.events,"event126="+e._ppvHighestPercentViewed,",",1),e.events=e.apl(e.events,"event127="+e._ppvHighestPixelsSeen,",",1),e.events=e.apl(e.events,"event129="+e._ppvFoldsAvailable,",",1),e.events=e.apl(e.events,"event130="+e._ppvFoldsSeen,",",1);var b=100/e._ppvHighestPercentViewed*e._ppvHighestPixelsSeen;b=b?b.toFixed(0):"na",e.events=e.apl(e.events,"event128="+b,",",1)}e.prop12=Date.now();var m={development:"dev",staging:"staging",production:"prod"};e.eVar135=m[_satellite.buildInfo.environment||"development"],e.linkTrackVars=e.apl(e.linkTrackVars,"prop12,eVar135",",");var p=_satellite.getVar("pa_pag_pageTitle"),g=document.title;if(p=p.indexOf("datalayer")>-1?g.toLowerCase():p.toLowerCase(),(e.eVar18==p&&"bmw .next - nsc|dcr - all - nsc - aa - cookie consent tracking"!=e.prop74||"datalayer field missing"==e.prop50||"datalayer field empty"==e.prop50)&&(e.prop50="page title"),e.eVar8||(e.eVar8=o.get("page.pageInfo.geoRegion"),_satellite.getVar("AA-marketCodes").indexOf(e.eVar8)<0&&(e.account="bmwgroup.group.global.test",e.eVar138="wrong market code",e.linkTrackVars=e.apl(e.linkTrackVars,"eVar138",","))),!e.products){var f=_satellite.getVar("setDefaultProductVariables");e.products=f.toString()}if(e.eVar130=_satellite.getVar("AA-hashedID"),e.eVar133=_satellite.getVar("hashingMID"),e.linkTrackVars+=",eVar130,eVar133",_satellite.getVar("AA-setFallbackValues"),"bmw.pt"==_satellite.getVar("topLevelDomain")&&e&&e.products){var v=o.get("product.-1.attributes.mmdr"),h=v;if(h!=v){var P=(e.products.match(/[/]/g)||[]).length;for(i=0;i<P/2;i++)e.products=e.products.replace(v,h)}}if(("o"==e.linkType||"d"==e.linkType||"e"==e.linkType||void 0===e.linkType||"bmw .next - nsc|plr - all - nsc - aa - page bottom adobe analytics beacon"==e.prop74)&&"bmw.de"==_satellite.getVar("topLevelDomain")){null!=_satellite.cookie.get("visitor_aa_hits")&&-1==_satellite.cookie.get("visitor_aa_hits").indexOf("user_type")&&epaas.api.deletePersistence("visitor_aa_hits");var j=_satellite.getVar("getIsPaidCampaign"),C=_satellite.getVar("getIsPaidSearch");if(null==_satellite.cookie.get("visitor_aa_hits"))var R=1;else{R=JSON.parse(_satellite.cookie.get("visitor_aa_hits")).aa_value,R=parseInt(R),R+=1;var w={user_type:JSON.parse(_satellite.cookie.get("visitor_aa_hits")).user_type,aa_value:R};_satellite.cookie.set("visitor_aa_hits",JSON.stringify(w))}j||C?C?R<=48?e.eVar195="Researcher":R>48&&(e.eVar195="Loyalist"):e.eVar195="Fast Movers":e.eVar195=R<=27?"Explorers":"Loyalist",e.linkTrackVars=e.apl(e.linkTrackVars,"eVar195",",")}-1!=_satellite.getVar("topLevelDomain").indexOf("bmw")?e.prop13="bmw":-1!=_satellite.getVar("topLevelDomain").indexOf("mini")?e.prop13="mini":(e.account="bmwgroup.group.global.test",void 0===e.eVar138?e.eVar138="wrong brand":e.eVar138=e.eVar138+"~wrong brand",e.linkTrackVars=e.apl(e.linkTrackVars,"eVar138",","));var E=(o=_satellite.getVar("snapshotDL")).get("page.category.subCategory03");e.prop30=E,e.linkTrackVars=e.apl(e.linkTrackVars,"prop30",",");try{var y=e.Util.cookieRead("gcdmToken");y&&(e.prop40="logged-in"),""==y&&(e.prop40="not logged-in")}catch(e){}"Cookie drawer impression"==e.linkName&&"bmw .next - nsc|dcr - all - nsc - aa - cookie consent tracking"==e.prop74&&(e.abort=!0),"bmw.it"!==_satellite.getVar("topLevelDomain")&&"bmw.co.uk"!==_satellite.getVar("topLevelDomain")&&"bmw.co.jp"!==_satellite.getVar("topLevelDomain")&&"bmw.es"!==_satellite.getVar("topLevelDomain")&&"bmw.be"!==_satellite.getVar("topLevelDomain")&&"bmw.lu"!==_satellite.getVar("topLevelDomain")&&"bmw.fr"!==_satellite.getVar("topLevelDomain")||(null!=window.localStorage.getItem("hashedid")&&_satellite.getVisitorId().setCustomerIDs({bmwagcrm:{id:window.localStorage.getItem("hashedid"),authState:1}}),""!=_satellite.getVar("AAM-hashedemail")&&null!=_satellite.getVar("AAM-hashedemail")&&null!=_satellite.getVar("AAM-hashedemail")&&_satellite.getVisitorId().setCustomerIDs({bmwagcrm:{id:_satellite.getVar("AAM-hashedemail"),authState:1}}),""!=_satellite.getVar("AAM-hasheducid")&&null!=_satellite.getVar("AAM-hasheducid")&&null!=_satellite.getVar("AAM-hasheducid")&&_satellite.getVisitorId().setCustomerIDs({bmwcrmdata:{id:_satellite.getVar("AAM-hasheducid"),authState:1}}),""!=_satellite.getVar("AAM-hashedid_cookie")&&null!=typeof _satellite.getVar("AAM-hashedid_cookie")&&null!=_satellite.getVar("AAM-hashedid_cookie")&&"undefined"!=_satellite.getVar("AAM-hashedid_cookie")&&_satellite.getVisitorId().setCustomerIDs({bmwagcrm:{id:_satellite.getVar("AAM-hashedid_cookie"),authState:1}}));try{var T="";null!=processingWrapper&&(T=processingWrapper._getProcessingInfo("BaseTracking",{type:processingWrapper.ENUM.TRACKINGINFO.TYPE.FULL,format:processingWrapper.ENUM.TRACKINGINFO.FORMAT.AASD2}).adobe);var I="~"===T.charAt(0)?T.substring(1):T;e.linkTrackVars+=",list1",e.list1=I}catch(e){d={from:"AA",type:"Config",name:"consentstatus"},_satellite.logger.error(e,d)}try{null!=_satellite.getVar("tronEventDataLayer")&&null!=_satellite.getVar("tronEventDataLayer")&&0!=Object.keys(_satellite.getVar("tronEventDataLayer")).length&&(e.prop3=o.get("page.category.primaryCategory"),e.prop30=o.get("page.category.subCategory3"),e.eVar135=o.get("page.pageInfo.sysEnv"))}catch(e){_satellite.logger.error("Code error in tronEventDataLayer in AA extension "+e)}-1==e.events.indexOf("event933")&&e.sa(_satellite.getVar("AA-reportSuite")),e.eVar139=_satellite.getVar("AA-eventFilter-priceControl")(""),e.linkTrackVars=e.apl(e.linkTrackVars,"eVar139")}catch(e){d={from:"AA",type:"Config",name:"Customize Page Code - Do Plugin"},_satellite.logger.error(e,d)}},e.registerPostTrackCallback((function(){try{var e=_satellite.getVar("snapshotDL"),t=e.get("event.-1.eventInfo.eventName"),s=e.get("event.-1.attributes.consentItemName"),a=_satellite.getVar("KIT-helpers").cache,o=a.get("analyticsConsentRejected")||"false";("reject consent"==t&&"analytics"==s||"true"==o)&&(a.set("analyticsConsentRejected","false"),adobe.optIn.deny(adobe.OptInCategories.ECID),adobe.optIn.deny(adobe.OptInCategories.ANALYTICS))}catch(e){var n={from:"AA",type:"AA-Extension",name:"Customize Page Code - registerPostTrackCallback"};_satellite.logger.error(e,n)}}))}catch(e){var o={from:"AA",type:"Config",name:"Customize Page Code"};_satellite.logger.error(e,o)}}},libraryCode:{type:"managed",accounts:{staging:["%AA-reportSuite%"],production:["%AA-reportSuite%"],development:["%AA-reportSuite%"]},useActivityMap:!0,scopeTrackerGlobally:!0},moduleProperties:{audienceManager:{config:{partner:"%AAM-dummyPartnerID%"}}},trackerProperties:{charSet:"UTF-8",currencyCode:"%AA-currencyCode%",cookieLifetime:"63072000",trackingServer:"bmwag.d3.sc.omtrdc.net",trackInlineStats:!1,trackDownloadLinks:!1,trackExternalLinks:!1,cookieDomainPeriods:"%cookieDomainPeriods%",trackingServerSecure:"bmwag.d3.sc.omtrdc.net",dynamicVariablePrefix:"d=",fpCookieDomainPeriods:"%cookieDomainPeriods%"}},modules:{"adobe-analytics/src/lib/actions/clearVariables.js":{name:"clear-variables",displayName:"Clear Variables",script:function(e,t,s,a){"use strict";var o=s("../sharedModules/getTracker");e.exports=function(){return o().then((function(e){e.clearVars&&(a.logger.info("Clear variables."),e.clearVars())}),(function(e){a.logger.error("Cannot clear variables: "+e)}))}}},"adobe-analytics/src/lib/actions/sendBeacon.js":{name:"send-beacon",displayName:"Send Beacon",script:function(e,t,s,a){"use strict";var o=s("../sharedModules/getTracker"),n=s("../helpers/getNodeLinkText"),r=function(e){return e&&e.nodeName&&"a"===e.nodeName.toLowerCase()},i=function(e){return r(e)?n(e):"link clicked"},c=function(e,t,s){if("page"===t.type)a.logger.info("Firing page view beacon."),e.t();else{var o={linkType:t.linkType||"o",linkName:t.linkName||i(s)};a.logger.info("Firing link track beacon using the values: "+JSON.stringify(o)+"."),e.tl(r(s)?s:"true",o.linkType,o.linkName)}};e.exports=function(e,t){return o().then((function(s){c(s,e,t.element)}),(function(e){a.logger.error("Cannot send beacon: "+e)}))}}},"adobe-analytics/src/lib/actions/setVariables.js":{name:"set-variables",displayName:"Set Variables",script:function(e,t,s,a){"use strict";var o=s("../sharedModules/getTracker"),n=s("../helpers/applyTrackerVariables");e.exports=function(e,t){return o().then((function(s){a.logger.info("Set variables on the tracker."),n(s,e.trackerProperties),e.customSetup&&e.customSetup.source&&e.customSetup.source.call(t.element,t,s)}),(function(e){a.logger.error("Cannot set variables: "+e)}))}}},"adobe-analytics/src/lib/sharedModules/getTracker.js":{script:function(e,t,s,a){"use strict";var o,n=s("@adobe/reactor-cookie"),r=s("@adobe/reactor-promise"),i=s("@adobe/reactor-window"),c=s("../helpers/settingsHelper"),d=s("../helpers/augmenters"),l=s("../helpers/applyTrackerVariables"),u=s("../helpers/loadLibrary"),b=s("../helpers/generateVersion")(a.buildInfo.turbineBuildDate),m="beforeSettings",p=a.getSharedModule("adobe-mcid","mcid-instance"),g=function(e){return!e||"true"===n.get(e)},f=function(e){return r.all(d.map((function(t){var s;try{s=t(e)}catch(e){setTimeout((function(){throw e}))}return r.resolve(s)}))).then((function(){return e}))},v=function(e){return p&&(a.logger.info("Setting MCID instance on the tracker."),e.visitor=p),e},h=function(e){return a.logger.info('Setting version on tracker: "'+b+'".'),void 0!==e.tagContainerMarker?e.tagContainerMarker=b:"string"==typeof e.version&&e.version.substring(e.version.length-5)!=="-"+b&&(e.version+="-"+b),e},P=function(e,t,s){return t.loadPhase===m&&t.source&&(a.logger.info("Calling custom script before settings."),t.source.call(i,s)),l(s,e||{}),t.loadPhase!==m&&t.source&&(a.logger.info("Calling custom script after settings."),t.source.call(i,s)),s},j=function(e,t){return c.isAudienceManagementEnabled(e)&&(t.loadModule("AudienceManagement"),a.logger.info("Initializing AudienceManagement module"),t.AudienceManagement.setup(e.moduleProperties.audienceManager.config)),t},C=(o=a.getExtensionSettings(),g(o.trackingCookieName)?u(o).then(f).then(v).then(h).then(P.bind(null,o.trackerProperties,o.customSetup||{})).then(j.bind(null,o)):r.reject("EU compliance was not acknowledged by the user."));e.exports=function(){return C}},name:"get-tracker",shared:!0},"adobe-analytics/src/lib/sharedModules/augmentTracker.js":{name:"augment-tracker",shared:!0,script:function(e,t,s){"use strict";var a=s("../helpers/augmenters");e.exports=function(e){a.push(e)}}},"adobe-analytics/src/lib/helpers/settingsHelper.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-window"),n={LIB_TYPES:{MANAGED:"managed",PREINSTALLED:"preinstalled",REMOTE:"remote",CUSTOM:"custom"},MANAGED_LIB_PATHS:{APP_MEASUREMENT:"AppMeasurement.js",ACTIVITY_MAP:"AppMeasurement_Module_ActivityMap.js",AUDIENCE_MANAGEMENT:"AppMeasurement_Module_AudienceManagement.js"},getReportSuites:function(e){var t=e.production;return e[a.environment.stage]&&(t=e[a.environment.stage]),t.join(",")},isActivityMapEnabled:function(e){return!(e.libraryCode&&!e.libraryCode.useActivityMap&&!1===e.libraryCode.useActivityMap)},isAudienceManagementEnabled:function(e){var t=!1;return e&&e.moduleProperties&&e.moduleProperties.audienceManager&&e.moduleProperties.audienceManager.config&&o&&o._satellite&&o._satellite.company&&o._satellite.company.orgId&&(t=!0),t}};e.exports=n}},"adobe-analytics/src/lib/helpers/augmenters.js":{script:function(e){"use strict";e.exports=[]}},"adobe-analytics/src/lib/helpers/applyTrackerVariables.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-query-string"),n=s("@adobe/reactor-window"),r=/eVar([0-9]+)/,i=/prop([0-9]+)/,c=new RegExp("^(eVar[0-9]+)|(prop[0-9]+)|(hier[0-9]+)|campaign|purchaseID|channel|server|state|zip|pageType$"),d=function(e,t,s){return s.indexOf(e)===t},l=function(e,t,s){var a=Object.keys(t).filter(c.test.bind(c));return s&&a.push("events"),(a=a.concat((e.linkTrackVars||"").split(","))).filter((function(e,t){return"None"!==e&&e&&d(e,t,a)})).join(",")},u=function(e,t){var s=t.map((function(e){return e.name}));return(s=s.concat((e.linkTrackEvents||"").split(","))).filter((function(e,t){return"None"!==e&&d(e,t,s)})).join(",")},b=function(e,t,s){e[t]=s[t].join(",")},m=function(e,t,s){var a=s.dynamicVariablePrefix||"D=";s[t].forEach((function(t){var s;if("value"===t.type)s=t.value;else{var o=r.exec(t.value);if(o)s=a+"v"+o[1];else{var n=i.exec(t.value);n&&(s=a+"c"+n[1])}}e[t.name]=s}))},p={linkDownloadFileTypes:b,linkExternalFilters:b,linkInternalFilters:b,hierarchies:function(e,t,s){s[t].forEach((function(t){e[t.name]=t.sections.join(t.delimiter)}))},props:m,eVars:m,campaign:function(e,t,s){if("queryParam"===s[t].type){var a=o.parse(n.location.search);e[t]=a[s[t].value]}else e[t]=s[t].value},events:function(e,t,s){var a=s[t].map((function(e){var t=e.name;return e.id&&(t=[t,e.id].join(":")),e.value&&(t=[t,e.value].join("=")),t}));e[t]=a.join(",")}};e.exports=function(e,t){var s={};t=t||{},Object.keys(t).forEach((function(e){var a=p[e],o=t[e];a?a(s,e,t):s[e]=o})),s.events&&e.events&&e.events.length>0&&(s.events=e.events+","+s.events);var o=t&&t.events&&t.events.length>0,n=l(e,s,o);n&&(s.linkTrackVars=n);var r=u(e,t.events||[]);r&&(s.linkTrackEvents=r),a.logger.info('Applying the following properties on tracker: "'+JSON.stringify(s)+'".'),Object.keys(s).forEach((function(t){e[t]=s[t]}))}}},"adobe-analytics/src/lib/helpers/loadLibrary.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-load-script"),n=s("@adobe/reactor-window"),r=s("@adobe/reactor-promise"),i=s("./settingsHelper"),c=s("./pollHelper"),d=function(e,t){if(!n.s_gi)throw new Error("Unable to create AppMeasurement tracker, `s_gi` function not found."+n.AppMeasurement);a.logger.info('Creating AppMeasurement tracker with these report suites: "'+t+'"');var s=n.s_gi(t);return e.libraryCode.scopeTrackerGlobally&&(a.logger.info("Setting the tracker as window.s"),n.s=s),s},l=function(e){var t=[];switch(e.libraryCode.type){case i.LIB_TYPES.MANAGED:t.push(a.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.APP_MEASUREMENT)),i.isActivityMapEnabled(e)&&t.push(a.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.ACTIVITY_MAP));break;case i.LIB_TYPES.CUSTOM:t.push(e.libraryCode.source);break;case i.LIB_TYPES.REMOTE:t.push("https:"===n.location.protocol?e.libraryCode.httpsUrl:e.libraryCode.httpUrl)}if(i.isAudienceManagementEnabled(e)){var s={namespace:n._satellite.company.orgId};e.moduleProperties.audienceManager.config.visitorService=s,t.push(a.getHostedLibFileUrl(i.MANAGED_LIB_PATHS.AUDIENCE_MANAGEMENT))}return t},u=function(e){return r.all(l(e).map((function(e){return a.logger.info("Loading script: "+e),o(e)})))},b=function(e,t){if(e.libraryCode.accounts)if(t.sa){var s=i.getReportSuites(e.libraryCode.accounts);a.logger.info('Setting the following report suites on the tracker: "'+s+'"'),t.sa(s)}else a.logger.warn("Cannot set report suites on tracker. `sa` method not available.");return t},m=function(e){if(n[e])return a.logger.info('Found tracker located at: "'+e+'".'),n[e];throw new Error('Cannot find the global variable name: "'+e+'".')};e.exports=function(e){var t=u(e);switch(e.libraryCode.type){case i.LIB_TYPES.MANAGED:var s=i.getReportSuites(e.libraryCode.accounts);return t.then(d.bind(null,e,s));case i.LIB_TYPES.PREINSTALLED:return t.then(c.poll.bind(null,n,e.libraryCode.trackerVariableName)).then(b.bind(null,e));case i.LIB_TYPES.CUSTOM:case i.LIB_TYPES.REMOTE:return t.then(m.bind(null,e.libraryCode.trackerVariableName)).then(b.bind(null,e));default:throw new Error("Cannot load library. Type not supported.")}}}},"adobe-analytics/src/lib/helpers/generateVersion.js":{script:function(e){"use strict";var t=8,s=function(e){return e.getUTCDate().toString(36)},a=function(e){return e.substr(e.length-1)},o=function(e){return Math.floor(e.getUTCHours()/t)},n=function(e){var t=(e.getUTCMonth()+1+12*o(e)).toString(36);return a(t)},r=function(e){return(e.getUTCFullYear()-2010).toString(36)};e.exports=function(e){var t=new Date(e);if(isNaN(t))throw new Error("Invalid date provided");return("L"+r(t)+n(t)+s(t)).toUpperCase()}}},"adobe-analytics/src/lib/helpers/pollHelper.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-promise"),n=40,r=250,i=function(e,t,s){a.logger.info('Found property located at: "'+t+'"].'),e(s)},c=function(e,t){return new o((function(s,a){if(e[t])return i(s,t,e[t]);var o=1,c=setInterval((function(){e[t]&&(i(s,t,e[t]),clearInterval(c)),o>=n&&(clearInterval(c),a(new Error('Bailing out. Cannot find the variable name: "'+t+'"].'))),o++}),r)}))};e.exports={poll:function(e,t){return a.logger.info('Waiting for the property to become accessible at: "'+t+'"].'),c(e,t)}}}},"adobe-analytics/src/lib/helpers/getNodeLinkText.js":{script:function(e){"use strict";var t=function(e){return e&&e.replace(/\s+/g," ").trim()},s=/^(SCRIPT|STYLE|LINK|CANVAS|NOSCRIPT|#COMMENT)$/i,a=function(e){return!(e&&e.nodeName&&e.nodeName.match(s))},o=function(e){var t=[],s=!1
;return a(e)?(t.push(e),e.childNodes&&Array.prototype.slice.call(e.childNodes).forEach((function(e){var a=o(e);t=t.concat(a.supportedNodes),s=s||a.includesUnsupportedNodes}))):s=!0,{supportedNodes:t,includesUnsupportedNodes:s}},n=function(e,t,s){var a;return s&&s!==e.nodeName.toUpperCase()||(a=e.getAttribute(t)),a};e.exports=function(e){var s=t(e.innerText||e.textContent),a=o(e);if(!s||a.includesUnsupportedNodes){var r,i,c,d,l=[];a.supportedNodes.forEach((function(e){e.getAttribute&&(r=r||t(e.getAttribute("alt")),i=i||t(e.getAttribute("title")),c=c||t(n(e,"value","INPUT")),d=d||t(n(e,"src","IMG"))),e.nodeValue&&l.push(e.nodeValue)})),(s=t(l.join("")))||(s=t(r||i||c||d||""))}return s}}}}},core:{displayName:"Core",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPd22815afd48447aa955be6a3a012e3b5/",modules:{"core/src/lib/dataElements/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source(t)}}},"core/src/lib/dataElements/queryStringParameter.js":{name:"query-string-parameter",displayName:"Query String Parameter",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window"),o=s("@adobe/reactor-query-string");e.exports=function(e){var t=o.parse(a.location.search);if(!e.caseInsensitive)return t[e.name];for(var s=e.name.toLowerCase(),n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];if(i.toLowerCase()===s)return t[i]}}}},"core/src/lib/dataElements/cookie.js":{name:"cookie",displayName:"Cookie",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-cookie");e.exports=function(e){return a.get(e.name)}}},"core/src/lib/dataElements/pageInfo.js":{name:"page-info",displayName:"Page Info",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document");e.exports=function(e){switch(e.attribute){case"url":return a.location.href;case"hostname":return a.location.hostname;case"pathname":return a.location.pathname;case"protocol":return a.location.protocol;case"referrer":return a.referrer;case"title":return a.title}}}},"core/src/lib/events/windowLoaded.js":{name:"window-loaded",displayName:"Window Loaded",script:function(e,t,s){"use strict";var a=s("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerWindowLoadedTrigger(t)}}},"core/src/lib/actions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e,t,s,a){"use strict";var o,n,r,i,c=s("@adobe/reactor-document"),d=s("@adobe/reactor-promise"),l=s("./helpers/decorateCode"),u=s("./helpers/loadCodeSequentially"),b=s("../../../node_modules/postscribe/dist/postscribe"),m=s("./helpers/unescapeHtmlCode"),p=s("../helpers/findPageScript").getTurbine,g=(n=function(e){b(c.body,e,{beforeWriteToken:function(e){var t=e.tagName&&e.tagName.toLowerCase();return o&&"script"===t&&(e.attrs.nonce=o),"script"!==t&&"style"!==t||(Object.keys(e.attrs||{}).forEach((function(t){e.attrs[t]=m(e.attrs[t])})),e.src&&(e.src=m(e.src))),e},error:function(e){a.logger.error(e.msg)}})},r=[],i=function(){if(c.body)for(;r.length;)n(r.shift());else setTimeout(i,20)},function(e){r.push(e),i()}),f=function(){if(c.currentScript)return c.currentScript.async;var e=p();return!e||e.async}();e.exports=function(e,t){var s;o=a.getExtensionSettings().cspNonce;var n={settings:e,event:t},r=n.settings.source;if(r)return n.settings.isExternal?u(r).then((function(e){return e?(s=l(n,e),g(s.code),s.promise):d.resolve()})):(s=l(n,r),f||"loading"!==c.readyState?g(s.code):c.write&&!1===a.propertySettings.ruleComponentSequencingEnabled?c.write(s.code):g(s.code),s.promise)}}},"core/src/lib/conditions/subdomain.js":{name:"subdomain",displayName:"Subdomain",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document"),o=s("../helpers/textMatch");e.exports=function(e){var t=a.location.hostname;return e.subdomains.some((function(e){var s=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return o(t,s)}))}}},"core/src/lib/events/directCall.js":{name:"direct-call",displayName:"Direct Call",script:function(e,t,s,a){"use strict";var o={};window._satellite=window._satellite||{},window._satellite.track=function(e,t){e=e.trim();var s=o[e];if(s){var n={identifier:e,detail:t};s.forEach((function(e){e(n)}));var r=['Rules using the direct call event type with identifier "'+e+'" have been triggered'+(t?" with additional detail:":".")];t&&r.push(t),a.logger.log.apply(a.logger,r)}else a.logger.log('"'+e+'" does not match any direct call identifiers.')},e.exports=function(e,t){var s=o[e.identifier];s||(s=o[e.identifier]=[]),s.push(t)}}},"core/src/lib/conditions/valueComparison.js":{name:"value-comparison",displayName:"Value Comparison",script:function(e,t,s){"use strict";var a=s("../helpers/stringAndNumberUtils").isString,o=s("../helpers/stringAndNumberUtils").isNumber,n=s("../helpers/stringAndNumberUtils").castToStringIfNumber,r=s("../helpers/stringAndNumberUtils").castToNumberIfString,i=function(e,t){return t&&a(e)?e.toLowerCase():e},c=function(e){return function(t,s,o){return t=n(t),s=n(s),a(t)&&a(s)&&e(t,s,o)}},d=function(e){return function(t,s){return t=r(t),s=r(s),o(t)&&o(s)&&e(t,s)}},l=function(e){return function(t,s,a){return e(i(t,a),i(s,a))}},u={equals:l((function(e,t){return e==t})),doesNotEqual:function(){return!u.equals.apply(null,arguments)},contains:c(l((function(e,t){return-1!==e.indexOf(t)}))),doesNotContain:function(){return!u.contains.apply(null,arguments)},startsWith:c(l((function(e,t){return 0===e.indexOf(t)}))),doesNotStartWith:function(){return!u.startsWith.apply(null,arguments)},endsWith:c(l((function(e,t){return e.substring(e.length-t.length,e.length)===t}))),doesNotEndWith:function(){return!u.endsWith.apply(null,arguments)},matchesRegex:c((function(e,t,s){return new RegExp(t,s?"i":"").test(e)})),doesNotMatchRegex:function(){return!u.matchesRegex.apply(null,arguments)},lessThan:d((function(e,t){return e<t})),lessThanOrEqual:d((function(e,t){return e<=t})),greaterThan:d((function(e,t){return e>t})),greaterThanOrEqual:d((function(e,t){return e>=t})),isTrue:function(e){return!0===e},isTruthy:function(e){return Boolean(e)},isFalse:function(e){return!1===e},isFalsy:function(e){return!e}};e.exports=function(e){return u[e.comparison.operator](e.leftOperand,e.rightOperand,Boolean(e.comparison.caseInsensitive))}}},"core/src/lib/events/customEvent.js":{name:"custom-event",displayName:"Custom Event",script:function(e,t,s){"use strict";var a=s("./helpers/createBubbly")(),o=[];e.exports=function(e,t){var s=e.type;-1===o.indexOf(s)&&(o.push(s),window.addEventListener(s,a.evaluateEvent,!0)),a.addListener(e,(function(e){e.nativeEvent.type===s&&(e.detail=e.nativeEvent.detail,t(e))}))}}},"core/src/lib/conditions/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){return e.source.call(t.element,t,t.target)}}},"core/src/lib/conditions/path.js":{name:"path",displayName:"Path Without Query String",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document"),o=s("../helpers/textMatch");e.exports=function(e){var t=a.location.pathname;return e.paths.some((function(e){var s=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return o(t,s)}))}}},"core/src/lib/events/domReady.js":{name:"dom-ready",displayName:"DOM Ready",script:function(e,t,s){"use strict";var a=s("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerDomReadyTrigger(t)}}},"core/src/lib/events/click.js":{name:"click",displayName:"Click",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window"),o=s("./helpers/createBubbly")(),n=new(s("./helpers/weakMap")),r=2,i=s("../helpers/stringAndNumberUtils").castToNumberIfString,c=function(e){if(!e.ctrlKey&&!e.metaKey&&e.button!==r)for(var t=e.target;t;){var s=t.tagName;if(s&&"a"===s.toLowerCase()){var o=t.getAttribute("href"),n=t.getAttribute("target");return o&&(!n||"_self"===n||"_top"===n&&a.top===a||n===a.name)?t:void 0}t=t.parentNode}};document.addEventListener("click",o.evaluateEvent,!0),e.exports=function(e,t){o.addListener(e,(function(s){var o=s.nativeEvent;if(!o.s_fe){var r=i(e.anchorDelay);if(r&&!n.has(o)){var d=c(o);d&&(o.preventDefault(),setTimeout((function(){a.location=d.href}),r)),n.set(o,!0)}t(s)}}))},e.exports.__reset=o.__reset}},"core/src/lib/events/customCode.js":{name:"custom-code",displayName:"Custom Code",script:function(e){"use strict";e.exports=function(e,t){e.source(t)}}},"core/src/lib/conditions/pathAndQuerystring.js":{name:"path-and-querystring",displayName:"Path And Query String",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document"),o=s("../helpers/textMatch");e.exports=function(e){var t=a.location.pathname+a.location.search;return e.paths.some((function(e){var s=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return o(t,s)}))}}},"core/src/lib/events/pageBottom.js":{name:"page-bottom",displayName:"Page Bottom",script:function(e,t,s){"use strict";var a=s("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerPageBottomTrigger(t)}}},"core/src/lib/conditions/maxFrequency.js":{name:"max-frequency",displayName:"Max Frequency",script:function(e,t,s){"use strict";var a=s("../helpers/visitorTracking"),o=s("../helpers/getNamespacedStorage")("localStorage","maxFrequency"),n={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5};e.exports=function(e,t){var s=t.$rule.id+"."+e.unit;switch(e.unit){case"pageView":var r=a.getLifetimePageViewCount();if(r-Number(o.getItem(s)||0)>=e.count)return o.setItem(s,r),!0;break;case"session":var i=a.getSessionCount();if(i-Number(o.getItem(s)||0)>=e.count)return o.setItem(s,i),!0;break;case"visitor":if(!o.getItem(s))return o.setItem(s,"true"),!0;break;case"second":case"minute":case"hour":case"day":case"week":case"month":var c=(new Date).getTime();if(Number(o.getItem(s)||0)<=c-e.count*n[e.unit])return o.setItem(s,c),!0}return!1}}},"core/src/lib/events/libraryLoaded.js":{name:"library-loaded",displayName:"Library Loaded (Page Top)",script:function(e,t,s){"use strict";var a=s("./helpers/pageLifecycleEvents");e.exports=function(e,t){a.registerLibraryLoadedTrigger(t)}}},"core/src/lib/conditions/variable.js":{name:"variable",displayName:"Variable",script:function(e,t,s){"use strict";var a=s("../helpers/getObjectProperty"),o=s("../helpers/textMatch");e.exports=function(e){var t=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return o(a(window,e.name),t)}}},"core/src/lib/events/historyChange.js":{name:"history-change",displayName:"History Change",script:function(e,t,s){"use strict";var a=s("./helpers/debounce"),o=s("./helpers/once"),n=window.history,r=window.location.href,i=[],c=function(e,t,s){var a=e[t];e[t]=function(){var t=a.apply(e,arguments);return s.apply(null,arguments),t}},d=a((function(){var e=window.location.href;r!==e&&(i.forEach((function(e){e()})),r=e)}),0),l=o((function(){n&&(n.pushState&&c(n,"pushState",d),n.replaceState&&c(n,"replaceState",d)),window.addEventListener("popstate",d),window.addEventListener("hashchange",d)}));e.exports=function(e,t){l(),i.push(t)}}},"core/src/lib/events/change.js":{name:"change",displayName:"Change",script:function(e,t,s){"use strict";var a=s("./helpers/createBubbly")(),o=s("../helpers/textMatch");document.addEventListener("change",a.evaluateEvent,!0),e.exports=function(e,t){var s;void 0!==e.value&&(s=e.valueIsRegex?new RegExp(e.value,"i"):e.value),a.addListener(e,(function(e){if(void 0!==s&&!o(e.target.value,s))return!1;t(e)}))}}},"core/src/lib/events/submit.js":{name:"submit",displayName:"Submit",script:function(e,t,s){"use strict";var a=s("./helpers/createBubbly")();document.addEventListener("submit",a.evaluateEvent,!0),e.exports=function(e,t){a.addListener(e,t)}}},"core/src/lib/conditions/hash.js":{name:"hash",displayName:"Hash",script:function(e,t,s){"use strict";var a=s("../helpers/textMatch");e.exports=function(e){var t=document.location.hash;return e.hashes.some((function(e){var s=e.valueIsRegex?new RegExp(e.value,"i"):e.value;return a(t,s)}))}}},"core/src/lib/events/dataElementChange.js":{name:"data-element-change",displayName:"Data Element Change",script:function(e,t,s,a){"use strict";var o={},n={};setInterval((function(){Object.keys(o).forEach((function(e){var t=JSON.stringify(a.getDataElementValue(e));if(t!==n[e]){var s={dataElementName:e};o[e].forEach((function(e){e(s)})),n[e]=t}}))}),1e3),e.exports=function(e,t){var s=e.name,r=o[s];r||(r=o[s]=[],n[s]=JSON.stringify(a.getDataElementValue(s))),r.push(t)}}},"core/src/lib/events/helpers/pageLifecycleEvents.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window"),o=s("@adobe/reactor-document"),n=-1!==a.navigator.appVersion.indexOf("MSIE 10"),r="WINDOW_LOADED",i="DOM_READY",c="PAGE_BOTTOM",d=[c,i,r],l=function(e,t){return{element:e,target:e,nativeEvent:t}},u={};d.forEach((function(e){u[e]=[]}));var b=function(e,t){d.slice(0,p(e)+1).forEach((function(e){g(t,e)}))},m=function(){return"complete"===o.readyState?r:"interactive"===o.readyState?n?null:i:void 0},p=function(e){return d.indexOf(e)},g=function(e,t){u[t].forEach((function(t){f(e,t)})),u[t]=[]},f=function(e,t){var s=t.trigger,a=t.syntheticEventFn;s(a?a(e):null)};a._satellite=a._satellite||{},a._satellite.pageBottom=b.bind(null,c),o.addEventListener("DOMContentLoaded",b.bind(null,i),!0),a.addEventListener("load",b.bind(null,r),!0),a.setTimeout((function(){var e=m();e&&b(e)}),0),e.exports={registerLibraryLoadedTrigger:function(e){e()},registerPageBottomTrigger:function(e){u[c].push({trigger:e})},registerDomReadyTrigger:function(e){u[i].push({trigger:e,syntheticEventFn:l.bind(null,o)})},registerWindowLoadedTrigger:function(e){u[r].push({trigger:e,syntheticEventFn:l.bind(null,a)})}}}},"core/src/lib/actions/helpers/decorateCode.js":{script:function(e,t,s){"use strict";var a=s("./decorators/decorateGlobalJavaScriptCode"),o=s("./decorators/decorateNonGlobalJavaScriptCode"),n={javascript:function(e,t){return e.settings.global?a(e,t):o(e,t)},html:s("./decorators/decorateHtmlCode")};e.exports=function(e,t){return n[e.settings.language](e,t)}}},"core/src/lib/actions/helpers/loadCodeSequentially.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-promise"),o=s("./getSourceByUrl"),n=a.resolve();e.exports=function(e){var t=new a((function(t){var s=o(e);a.all([s,n]).then((function(e){var s=e[0];t(s)}))}));return n=t,t}}},"core/node_modules/postscribe/dist/postscribe.js":{script:function(e,t){var s,a;s=this,a=function(){return function(e){function t(a){if(s[a])return s[a].exports;var o=s[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=a(s(1));e.exports=o.default},function(e,t,s){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function n(){}function r(){var e=p.shift();if(e){var t=u.last(e);t.afterDequeue(),e.stream=i.apply(void 0,e),t.afterStreamStart()}}function i(e,t,s){function a(e){e=s.beforeWrite(e),g.write(e),s.afterWrite(e)}(g=new l.default(e,s)).id=m++,g.name=s.name||g.id,c.streams[g.name]=g;var o=e.ownerDocument,i={close:o.close,open:o.open,write:o.write,writeln:o.writeln};d(o,{close:n,open:n,write:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return a(t.join(""))},writeln:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return a(t.join("")+"\n")}});var u=g.win.onerror||n;return g.win.onerror=function(e,t,a){s.error({msg:e+" - "+t+": "+a}),u.apply(g.win,[e,t,a])},g.write(t,(function(){d(o,i),g.win.onerror=u,s.done(),g=null,r()})),g}function c(e,t,s){if(u.isFunction(s))s={done:s};else if("clear"===s)return p=[],g=null,void(m=0);s=u.defaults(s,b);var a=[e=/^#/.test(e)?window.document.getElementById(e.substr(1)):e.jquery?e[0]:e,t,s];return e.postscribe={cancel:function(){a.stream?a.stream.abort():a[1]=n}},s.beforeEnqueue(a),p.push(a),g||r(),e.postscribe}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e};t.default=c;var l=o(s(2)),u=a(s(4)),b={afterAsync:n,afterDequeue:n,afterStreamStart:n,afterWrite:n,autoFix:!0,beforeEnqueue:n,beforeWriteToken:function(e){return e},beforeWrite:function(e){return e},done:n,error:function(e){throw new Error(e.msg)},releaseAsync:!1},m=0,p=[],g=null;d(c,{streams:{},queue:p,WriteStream:l.default})},function(e,t,s){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){var s=b+t,a=e.getAttribute(s);return l.existy(a)?String(a):a}function i(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=b+t;l.existy(s)&&""!==s?e.setAttribute(a,s):e.removeAttribute(a)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},d=o(s(3)),l=a(s(4)),u=!1,b="data-ps-",m="ps-style",p="ps-script",g=function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.root=t,this.options=s,this.doc=t.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new d.default("",{autoFix:s.autoFix}),this.actuals=[t],this.proxyHistory="",this.proxyRoot=this.doc.createElement(t.nodeName),this.scriptStack=[],this.writeQueue=[],i(this.proxyRoot,"proxyof",0)}return e.prototype.write=function(){var e;for((e=this.writeQueue).push.apply(e,arguments);!this.deferredRemote&&this.writeQueue.length;){var t=this.writeQueue.shift();l.isFunction(t)?this._callFunction(t):this._writeImpl(t)}},e.prototype._callFunction=function(e){var t={type:"function",value:e.name||e.toString()};this._onScriptStart(t),e.call(this.win,this.doc),this._onScriptDone(t)},e.prototype._writeImpl=function(e){this.parser.append(e);for(var t=void 0,s=void 0,a=void 0,o=[];(t=this.parser.readToken())&&!(s=l.isScript(t))&&!(a=l.isStyle(t));)(t=this.options.beforeWriteToken(t))&&o.push(t);o.length>0&&this._writeStaticTokens(o),s&&this._handleScriptToken(t),a&&this._handleStyleToken(t)},e.prototype._writeStaticTokens=function(e){var t=this._buildChunk(e);return t.actual?(t.html=this.proxyHistory+t.actual,this.proxyHistory+=t.proxy,this.proxyRoot.innerHTML=t.html,u&&(t.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),u&&(t.actualInnerHTML=this.root.innerHTML),t):null},e.prototype._buildChunk=function(e){for(var t=this.actuals.length,s=[],a=[],o=[],n=e.length,r=0;r<n;r++){var i=e[r],c=i.toString();if(s.push(c),i.attrs){if(!/^noscript$/i.test(i.tagName)){var d=t++;a.push(c.replace(/(\/?>)/," "+b+"id="+d+" $1")),i.attrs.id!==p&&i.attrs.id!==m&&o.push("atomicTag"===i.type?"":"<"+i.tagName+" "+b+"proxyof="+d+(i.unary?" />":">"))}}else a.push(c),o.push("endTag"===i.type?c:"")}return{tokens:e,raw:s.join(""),actual:a.join(""),proxy:o.join("")}},e.prototype._walkChunk=function(){for(var e=void 0,t=[this.proxyRoot];l.existy(e=t.shift());){var s=1===e.nodeType;if(!s||!r(e,"proxyof")){s&&(this.actuals[r(e,"id")]=e,i(e,"id"));var a=e.parentNode&&r(e.parentNode,"proxyof");a&&this.actuals[a].appendChild(e)}t.unshift.apply(t,l.toArray(e.childNodes))}},e.prototype._handleScriptToken=function(e){var t=this,s=this.parser.clear();s&&this.writeQueue.unshift(s),e.src=e.attrs.src||e.attrs.SRC,(e=this.options.beforeWriteToken(e))&&(e.src&&this.scriptStack.length?this.deferredRemote=e:this._onScriptStart(e),this._writeScriptToken(e,(function(){t._onScriptDone(e)})))},e.prototype._handleStyleToken=function(e){var t=this.parser.clear();t&&this.writeQueue.unshift(t),e.type=e.attrs.type||e.attrs.TYPE||"text/css",(e=this.options.beforeWriteToken(e))&&this._writeStyleToken(e),t&&this.write()},e.prototype._writeStyleToken=function(e){var t=this._buildStyle(e);this._insertCursor(t,m),e.content&&(t.styleSheet&&!t.sheet?t.styleSheet.cssText=e.content:t.appendChild(this.doc.createTextNode(e.content)))},e.prototype._buildStyle=function(e){var t=this.doc.createElement(e.tagName);return t.setAttribute("type",e.type),l.eachKey(e.attrs,(function(e,s){t.setAttribute(e,s)})),t},e.prototype._insertCursor=function(e,t){this._writeImpl('<span id="'+t+'"/>');var s=this.doc.getElementById(t);s&&s.parentNode.replaceChild(e,s)},e.prototype._onScriptStart=function(e){e.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(e)},e.prototype._onScriptDone=function(e){e===this.scriptStack[0]?(this.scriptStack.shift(),this.write.apply(this,e.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)):this.options.error({msg:"Bad script nesting or script finished twice"})},e.prototype._writeScriptToken=function(e,t){var s=this._buildScript(e),a=this._shouldRelease(s),o=this.options.afterAsync;e.src&&(s.src=e.src,this._scriptLoadHandler(s,a?o:function(){t(),o()}));try{this._insertCursor(s,p),s.src&&!a||t()}catch(e){this.options.error(e),t()}},e.prototype._buildScript=function(e){var t=this.doc.createElement(e.tagName);return l.eachKey(e.attrs,(function(e,s){t.setAttribute(e,s)})),e.content&&(t.text=e.content),t},e.prototype._scriptLoadHandler=function(e,t){function s(){e=e.onload=e.onreadystatechange=e.onerror=null}function a(){s(),null!=t&&t(),t=null}function o(e){s(),r(e),null!=t&&t(),t=null}function n(e,t){var s=e["on"+t];null!=s&&(e["_on"+t]=s)}var r=this.options.error;n(e,"load"),n(e,"error"),c(e,{onload:function(){if(e._onload)try{e._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){o({msg:"onload handler failed "+t+" @ "+e.src})}a()},onerror:function(){if(e._onerror)try{e._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(t){return void o({msg:"onerror handler failed "+t+" @ "+e.src})}o({msg:"remote script failed "+e.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(e.readyState)&&a()}})},e.prototype._shouldRelease=function(e){return!/^script$/i.test(e.nodeName)||!!(this.options.releaseAsync&&e.src&&e.hasAttribute("async"))},e}();t.default=g},function(e){var t;t=function(){return function(e){function t(a){if(s[a])return s[a].exports;var o=s[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=a(s(1));e.exports=o.default},function(e,t,s){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=o(s(2)),i=o(s(3)),c=a(s(6)),d=s(5),l={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},u=function(){function e(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.stream=s;var o=!1,i={};for(var d in r)r.hasOwnProperty(d)&&(a.autoFix&&(i[d+"Fix"]=!0),o=o||i[d+"Fix"]);o?(this._readToken=(0,c.default)(this,i,(function(){return t._readTokenImpl()})),this._peekToken=(0,c.default)(this,i,(function(){return t._peekTokenImpl()}))):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return e.prototype.append=function(e){this.stream+=e},e.prototype.prepend=function(e){this.stream=e+this.stream},e.prototype._readTokenImpl=function(){var e=this._peekTokenImpl();if(e)return this.stream=this.stream.slice(e.length),e},e.prototype._peekTokenImpl=function(){for(var e in l)if(l.hasOwnProperty(e)&&l[e].test(this.stream)){var t=i[e](this.stream);if(t)return"startTag"===t.type&&/script|style/i.test(t.tagName)?null:(t.text=this.stream.substr(0,t.length),t)}},e.prototype.peekToken=function(){return this._peekToken()},e.prototype.readToken=function(){return this._readToken()},e.prototype.readTokens=function(e){for(var t=void 0;t=this.readToken();)if(e[t.type]&&!1===e[t.type](t))return},e.prototype.clear=function(){var e=this.stream;return this.stream="",e},e.prototype.rest=function(){return this.stream},e}();for(var b in t.default=u,u.tokenToString=function(e){return e.toString()},u.escapeAttributes=function(e){var t={};for(var s in e)e.hasOwnProperty(s)&&(t[s]=(0,d.escapeQuotes)(e[s],null));return t},u.supports=r,r)r.hasOwnProperty(b)&&(u.browserHasFlaw=u.browserHasFlaw||!r[b]&&b)},function(e,t){"use strict";t.__esModule=!0;var s=!1,a=!1,o=window.document.createElement("div");try{var n="<P><I></P></I>";o.innerHTML=n,t.tagSoup=s=o.innerHTML!==n}catch(e){t.tagSoup=s=!1}try{o.innerHTML="<P><i><P></P></i></P>",t.selfClose=a=2===o.childNodes.length}catch(e){t.selfClose=a=!1}o=null,t.tagSoup=s,t.selfClose=a},function(e,t,s){"use strict";function a(e){var t=e.indexOf("-->");if(t>=0)return new d.CommentToken(e.substr(4,t-1),t+3)}function o(e){var t=e.indexOf("<");return new d.CharsToken(t>=0?t:e.length)}function n(e){var t,s,a;if(-1!==e.indexOf(">")){var o=e.match(l.startTag);if(o){var n=(t={},s={},a=o[2],o[2].replace(l.attr,(function(e,o){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",s[arguments[5]]=!0):t[o]=arguments[2]||arguments[3]||arguments[4]||l.fillAttr.test(o)&&o||"":t[o]="",a=a.replace(e,"")})),{v:new d.StartTagToken(o[1],o[0].length,t,s,!!o[3],a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))});if("object"===(void 0===n?"undefined":c(n)))return n.v}}}function r(e){var t=n(e);if(t){var s=e.slice(t.length);if(s.match(new RegExp("</\\s*"+t.tagName+"\\s*>","i"))){var a=s.match(new RegExp("([\\s\\S]*?)</\\s*"+t.tagName+"\\s*>","i"));if(a)return new d.AtomicTagToken(t.tagName,a[0].length+t.length,t.attrs,t.booleanAttrs,a[1])}}}function i(e){var t=e.match(l.endTag);if(t)return new d.EndTagToken(t[1],t[0].length)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.comment=a,t.chars=o,t.startTag=n,t.atomicTag=r,t.endTag=i;var d=s(4),l={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(e,t,s){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0,t.EndTagToken=t.AtomicTagToken=t.StartTagToken=t.TagToken=t.CharsToken=t.CommentToken=t.Token=void 0;var o=s(5),n=(t.Token=function e(t,s){a(this,e),this.type=t,this.length=s,this.text=""},t.CommentToken=function(){function e(t,s){a(this,e),this.type="comment",this.length=s||(t?t.length:0),this.text="",this.content=t}return e.prototype.toString=function(){return"<!--"+this.content},e}(),t.CharsToken=function(){function e(t){a(this,e),this.type="chars",this.length=t,this.text=""}return e.prototype.toString=function(){return this.text},e}(),t.TagToken=function(){function e(t,s,o,n,r){a(this,e),this.type=t,this.length=o,this.text="",this.tagName=s,this.attrs=n,this.booleanAttrs=r,this.unary=!1,this.html5Unary=!1}return e.formatTag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s="<"+e.tagName;for(var a in e.attrs)if(e.attrs.hasOwnProperty(a)){s+=" "+a;var n=e.attrs[a];void 0!==e.booleanAttrs&&void 0!==e.booleanAttrs[a]||(s+='="'+(0,o.escapeQuotes)(n)+'"')}return e.rest&&(s+=" "+e.rest),e.unary&&!e.html5Unary?s+="/>":s+=">",null!=t&&(s+=t+"</"+e.tagName+">"),s},e}());t.StartTagToken=function(){function e(t,s,o,n,r,i){a(this,e),this.type="startTag",this.length=s,this.text="",this.tagName=t,this.attrs=o,this.booleanAttrs=n,this.html5Unary=!1,this.unary=r,this.rest=i}return e.prototype.toString=function(){return n.formatTag(this)},e}(),t.AtomicTagToken=function(){function e(t,s,o,n,r){a(this,e),this.type="atomicTag",this.length=s,this.text="",this.tagName=t,this.attrs=o,this.booleanAttrs=n,this.unary=!1,this.html5Unary=!1,this.content=r}return e.prototype.toString=function(){return n.formatTag(this,this.content)},e}(),t.EndTagToken=function(){function e(t,s){a(this,e),this.type="endTag",this.length=s,this.text="",this.tagName=t}return e.prototype.toString=function(){return"</"+this.tagName+">"},e}()},function(e,t){"use strict";function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.replace(/([^"]*)"/g,(function(e,t){return/\\/.test(t)?t+'"':t+'\\"'})):t}t.__esModule=!0,t.escapeQuotes=s},function(e,t){"use strict";function s(e){return e&&"startTag"===e.type&&(e.unary=i.test(e.tagName)||e.unary,e.html5Unary=!/\/>$/.test(e.text)),e}function a(e,t){var a=e.stream,o=s(t());return e.stream=a,o}function o(e,t){var s=t.pop();e.prepend("</"+s.tagName+">")}function n(){var e=[];return e.last=function(){return this[this.length-1]},e.lastTagNameEq=function(e){var t=this.last();return t&&t.tagName&&t.tagName.toUpperCase()===e.toUpperCase()},e.containsTagName=function(e){for(var t,s=0;t=this[s];s++)if(t.tagName===e)return!0;return!1},e}function r(e,t,r){function i(){var t=a(e,r);t&&l[t.type]&&l[t.type](t)}var d=n(),l={startTag:function(s){var a=s.tagName;"TR"===a.toUpperCase()&&d.lastTagNameEq("TABLE")?(e.prepend("<TBODY>"),i()):t.selfCloseFix&&c.test(a)&&d.containsTagName(a)?d.lastTagNameEq(a)?o(e,d):(e.prepend("</"+s.tagName+">"),i()):s.unary||d.push(s)},endTag:function(s){d.last()?t.tagSoupFix&&!d.lastTagNameEq(s.tagName)?o(e,d):d.pop():t.tagSoupFix&&(r(),i())}};return function(){return i(),s(r())}}t.__esModule=!0,t.default=r;var i=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,c=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])},e.exports=t()},function(e,t){"use strict";function s(e){return null!=e}function a(e){return"function"==typeof e}function o(e,t,s){var a=void 0,o=e&&e.length||0;for(a=0;a<o;a++)t.call(s,e[a],a)}function n(e,t,s){for(var a in e)e.hasOwnProperty(a)&&t.call(s,a,e[a])}function r(e,t){return e=e||{},n(t,(function(t,a){s(e[t])||(e[t]=a)})),e}function i(e){try{return Array.prototype.slice.call(e)}catch(a){var t=(s=[],o(e,(function(e){s.push(e)})),{v:s});if("object"===(void 0===t?"undefined":b(t)))return t.v}var s}function c(e){return e[e.length-1]}function d(e,t){return!(!e||"startTag"!==e.type&&"atomicTag"!==e.type||!("tagName"in e)||!~e.tagName.toLowerCase().indexOf(t))}function l(e){return d(e,"script")}function u(e){return d(e,"style")}t.__esModule=!0;var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.existy=s,t.isFunction=a,t.each=o,t.eachKey=n,t.defaults=r,t.toArray=i,t.last=c,t.isTag=d,t.isScript=l,t.isStyle=u}])},"object"==typeof t&&"object"==typeof e?e.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof t?t.postscribe=a():s.postscribe=a()}},"core/src/lib/actions/helpers/unescapeHtmlCode.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document").createElement("div");e.exports=function(e){return a.innerHTML=e,a.textContent||a.innerText||e}}},"core/src/lib/helpers/findPageScript.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-document"),o=function(e){for(var t=a.querySelectorAll("script"),s=0;s<t.length;s++){var o=t[s];if(e.test(o.src))return o}},n=function(){return o(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))};e.exports={getTurbine:n,byRegexPattern:o}}},"core/src/lib/actions/helpers/decorators/decorateGlobalJavaScriptCode.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-promise");e.exports=function(e,t){return{code:"<script>\n"+t+"\n</script>",promise:a.resolve()}}}},"core/src/lib/actions/helpers/decorators/decorateNonGlobalJavaScriptCode.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-promise"),o=0;e.exports=function(e,t){var s="_runScript"+ ++o,n=new a((function(t,o){_satellite[s]=function(n){delete _satellite[s],new a((function(t){t(n.call(e.event.element,e.event,e.event.target,a))})).then(t,o)}}));return{
code:'<script>_satellite["'+s+'"](function(event, target, Promise) {\n'+t+"\n});</script>",promise:n}}}},"core/src/lib/actions/helpers/decorators/decorateHtmlCode.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-promise"),n=0,r={};window._satellite=window._satellite||{},window._satellite._onCustomCodeSuccess=function(e){var t=r[e];t&&(delete r[e],t.resolve())},window._satellite._onCustomCodeFailure=function(e){var t=r[e];t&&(delete r[e],t.reject())};var i=function(e){return-1!==e.indexOf("${reactorCallbackId}")},c=function(e,t){return e.replace(/\${reactorCallbackId}/g,t)},d=function(e){return e.settings.isExternal};e.exports=function(e,t){var s;return d(e)&&(t=a.replaceTokens(t,e.event)),i(t)?(s=new o((function(e,t){r[String(n)]={resolve:e,reject:t}})),t=c(t,n),n+=1):s=o.resolve(),{code:t,promise:s}}}},"core/src/lib/actions/helpers/getSourceByUrl.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-load-script"),o=s("@adobe/reactor-promise"),n=s("../../helpers/findPageScript").byRegexPattern,r={},i={},c=function(e){return i[e]||(i[e]=a(e)),i[e]};_satellite.__registerScript=function(e,t){var s;if(document.currentScript)s=document.currentScript.getAttribute("src");else{var a=new RegExp(".*"+e+".*");s=n(a).getAttribute("src")}r[s]=t},e.exports=function(e){return r[e]?o.resolve(r[e]):new o((function(t){c(e).then((function(){t(r[e])}),(function(){t()}))}))}}},"core/src/lib/helpers/textMatch.js":{script:function(e){"use strict";e.exports=function(e,t){if(null==t)throw new Error("Illegal Argument: Pattern is not present");return null!=e&&("string"==typeof t?e===t:t instanceof RegExp&&t.test(e))}}},"core/src/lib/helpers/stringAndNumberUtils.js":{script:function(e){"use strict";var t=function(e){return"number"==typeof e&&isFinite(e)},s=function(e){return"string"==typeof e||e instanceof String},a=function(e){return t(e)?String(e):e},o=function(e){return s(e)?Number(e):e};e.exports={isNumber:t,isString:s,castToStringIfNumber:a,castToNumberIfString:o}}},"core/src/lib/events/helpers/createBubbly.js":{script:function(e,t,s){"use strict";var a=s("./weakMap"),o=s("./matchesProperties"),n=s("./matchesSelector");e.exports=function(){var e=[],t=new a,s={addListener:function(t,s){e.push({settings:t,callback:s})},evaluateEvent:function(s,a){if(e.length&&!t.has(s)){for(var r=s.target,i=!1;r;){for(var c=!1,d=!1,l=0;l<e.length;l++){var u=e[l],b=u.settings.elementSelector,m=u.settings.elementProperties;if((!1!==u.settings.bubbleFireIfChildFired||!i)&&(r===s.target||!1!==u.settings.bubbleFireIfParent)&&(r===s.target||b||m&&Object.keys(m).length)&&(!b||n(r,b))&&(!m||o(r,m))){var p={};a?Object.keys(s).forEach((function(e){p[e]=s[e]})):p.nativeEvent=s,p.element=r,p.target=s.target,!1!==u.callback(p)&&(d=!0,u.settings.bubbleStop&&(c=!0))}}if(c)break;d&&(i=!0),r=r.parentNode}t.set(s,!0)}},__reset:function(){e=[]}};return s}}},"core/src/lib/events/helpers/weakMap.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window").WeakMap;if(void 0===a){var o=Object.defineProperty,n=Date.now()%1e9;(a=function(){this.name="__st"+(1e9*Math.random()>>>0)+n+++"__"}).prototype={set:function(e,t){var s=e[this.name];return s&&s[0]===e?s[1]=t:o(e,this.name,{value:[e,t],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}}}e.exports=a}},"core/src/lib/events/helpers/matchesProperties.js":{script:function(e,t,s){"use strict";var a=s("./../../helpers/textMatch"),o=function(e,t){return"@text"===t||"innerText"===t?e.textContent||e.innerText:t in e?e[t]:e.getAttribute?e.getAttribute(t):void 0};e.exports=function(e,t){return!t||t.every((function(t){var s=o(e,t.name),n=t.valueIsRegex?new RegExp(t.value,"i"):t.value;return a(s,n)}))}}},"core/src/lib/events/helpers/matchesSelector.js":{script:function(e,t,s,a){"use strict";e.exports=function(e,t){var s=e.matches||e.msMatchesSelector;if(s)try{return s.call(e,t)}catch(e){return a.logger.warn("Matching element failed. "+t+" is not a valid selector."),!1}return!1}}},"core/src/lib/helpers/visitorTracking.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-cookie"),o=s("@adobe/reactor-document"),n=s("@adobe/reactor-window"),r=s("./getNamespacedStorage"),i="_sdsat_",c="visitorTracking",d="cookiesMigrated",l=r("localStorage",c),u=r("sessionStorage",c),b=function(){var e=u.getItem("landingPage");return e||(u.setItem("landingPage",n.location.href),u.setItem("landingTime",(new Date).getTime())),!e},m=function(){return u.getItem("landingPage")},p=function(){return Number(u.getItem("landingTime"))},g=function(){return Number(l.getItem("sessionCount"))},f=function(){return Number(l.getItem("pagesViewed"))},v=function(){var e=(new Date).getTime();return Math.floor((e-p())/1e3/60)},h=function(){return u.getItem("trafficSource")},P=function(){return Number(u.getItem("pagesViewed"))},j=function(){return 1===g()},C=function(e){e&&l.setItem("sessionCount",g()+1)},R=function(){u.setItem("pagesViewed",P()+1)},w=function(){l.setItem("pagesViewed",f()+1)},E=function(){u.getItem("trafficSource")||u.setItem("trafficSource",o.referrer)},y=function(){var e=b();C(e),w(),R(),E()};(function(){if(!l.getItem(d)){var e=a.get(i+"session_count");e&&l.setItem("sessionCount",e);var t=a.get(i+"lt_pages_viewed");t&&l.setItem("pagesViewed",t),l.setItem(d,!0)}})(),y(),e.exports={getLandingPage:m,getLandingTime:p,getMinutesOnSite:v,getSessionCount:g,getLifetimePageViewCount:f,getSessionPageViewCount:P,getTrafficSource:h,getIsNewVisitor:j}}},"core/src/lib/helpers/getNamespacedStorage.js":{script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window"),o="com.adobe.reactor.core";e.exports=function(e,t){var s=o+"."+t;return{getItem:function(t){try{return a[e].getItem(s+"."+t)}catch(e){return null}},setItem:function(t,o){try{return a[e].setItem(s+"."+t,o),!0}catch(e){return!1}}}}}},"core/src/lib/helpers/getObjectProperty.js":{script:function(e){"use strict";e.exports=function(e,t){for(var s=t.split("."),a=e,o=0,n=s.length;o<n;o++){if(null==a)return;a=a[s[o]]}return a}}},"core/src/lib/events/helpers/debounce.js":{script:function(e){"use strict";e.exports=function(e,t,s){var a=null;return function(){var o=s||this,n=arguments;clearTimeout(a),a=setTimeout((function(){e.apply(o,n)}),t)}}}},"core/src/lib/events/helpers/once.js":{script:function(e){"use strict";e.exports=function(e,t){var s;return function(){return e&&(s=e.apply(t||this,arguments),e=null),s}}}}}},"adobe-target-v2":{displayName:"Adobe Target v2",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP1b546118eb2742ad8d50d37a8325daca/",settings:{targetSettings:{enabled:!0,timeout:3e3,version:"2.8.1",endpoint:"/rest/v1/delivery",imsOrgId:"B52D1CFE5330949C0A490D45@AdobeOrg",clientCode:"bmwag",secureOnly:!1,serverState:{},optinEnabled:!0,serverDomain:"bmwag.tt.omtrdc.net",urlSizeLimit:2048,viewsEnabled:!0,optoutEnabled:!1,bodyHiddenStyle:"body {opacity: 0}",pageLoadEnabled:!0,analyticsLogging:"server_side",deviceIdLifetime:632448e5,bodyHidingEnabled:!0,decisioningMethod:"server-side",sessionIdLifetime:186e4,visitorApiTimeout:2e3,authoringScriptUrl:"//cdn.tt.omtrdc.net/cdn/target-vec.js",overrideMboxEdgeServer:!1,selectorsPollingTimeout:5e3,defaultContentHiddenStyle:"visibility: hidden;",defaultContentVisibleStyle:"visibility: visible;",overrideMboxEdgeServerTimeout:186e4,supplementalDataIdParamTimeout:30}},modules:{"adobe-target-v2/lib/loadTarget.js":{name:"load-target",displayName:"Load Target",script:function(e,t,s){"use strict";var a=s("@adobe/reactor-window"),o=s("@adobe/reactor-document"),n=s("./modules/load-target"),r=n.initLibrarySettings,i=n.overridePublicApi,c=s("./modules/optin"),d=c.shouldUseOptIn,l=c.isTargetApproved,u=s("./analyticsIntegration");e.exports=function(){var e=r();e&&e.enabled?((0,s("./modules/libs/at-launch").init)(a,o,e),d()&&!l()||u()):i(a)}}},"adobe-target-v2/lib/firePageLoad.js":{name:"fire-page-load",displayName:"Fire Page Load Request",script:function(e,t,s,a){"use strict";function o(){return n.adobe&&n.adobe.target&&n.adobe.target.VERSION}var n=s("@adobe/reactor-window"),r=s("./modules/libs/at-launch"),i=r.initConfig,c=r.initDelivery,d=s("./modules/page-load"),l=s("./messages");e.exports=function(e){var t=d(e);o()?(i(t),c()):n.console&&a.logger.warn(l.NO_REQUEST)}}},"adobe-target-v2/lib/modules/load-target.js":{script:function(e,t,s,a){"use strict";function o(e){var t=e.compatMode,s=e.documentMode;return t&&"CSS1Compat"===t&&(!s||s>=9)}function n(e){var t=function(){},s=function(){return l.resolve()};e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:t,getOffers:s,applyOffer:t,applyOffers:s,sendNotifications:t,trackEvent:t,triggerView:t,registerExtension:t,init:t},e.mboxCreate=t,e.mboxDefine=t,e.mboxUpdate=t}function r(){return c.adobe&&c.adobe.target&&void 0!==c.adobe.target.getOffer}function i(){return r()?(a.logger.warn(u.ALREADY_INITIALIZED),null):(g.mboxParams=m(),g.globalMboxParams=p(),f(g,c.targetGlobalSettings||{},h),f(g,v||{},["version"]),o(d)||(g.enabled=!1,a.logger.warn(u.DELIVERY_DISABLED)),g)}var c=s("@adobe/reactor-window"),d=s("@adobe/reactor-document"),l=s("@adobe/reactor-promise"),u=s("../messages"),b=s("./params-store"),m=b.getParams,p=b.getPageLoadParams,g=s("../targetSettings").targetSettings,f=s("./object-override"),v=s("../librarySettings").TARGET_DEFAULT_SETTINGS,h=["enabled","clientCode","imsOrgId","serverDomain","cookieDomain","timeout","defaultContentHiddenStyle","defaultContentVisibleStyle","bodyHiddenStyle","bodyHidingEnabled","selectorsPollingTimeout","visitorApiTimeout","overrideMboxEdgeServer","overrideMboxEdgeServerTimeout","optoutEnabled","optinEnabled","secureOnly","supplementalDataIdParamTimeout","authoringScriptUrl","urlSizeLimit","endpoint","pageLoadEnabled","viewsEnabled","analyticsLogging","serverState","globalMboxName","decisioningMethod"];e.exports={initLibrarySettings:i,overridePublicApi:n}}},"adobe-target-v2/lib/modules/optin.js":{script:function(e,t,s){"use strict";function a(e){return"undefined"===(void 0===e?"undefined":l(e))||null===e}function o(e){var t=void 0===e?"undefined":l(e);return null!==e&&("object"===t||"function"===t)}function n(e){return o(e[g])&&o(e[b])}function r(e,t){return!!t&&!a(e)&&!a(e[p])&&n(e[p])}function i(e,t){return e[b](t)}function c(){var e=u[p];return i(e,e[f][v])}function d(){var e=h[m];return r(u,e)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=s("@adobe/reactor-window").adobe,b="isApproved",m="optinEnabled",p="optIn",g="fetchPermissions",f="Categories",v="TARGET",h=s("../targetSettings").targetSettings;e.exports={shouldUseOptIn:d,isTargetApproved:c}}},"adobe-target-v2/lib/analyticsIntegration.js":{script:function(e,t,s,a){"use strict";function o(e,t){return new i((function(s){e?t.then((function(t){t&&(e.abort=!0),s()})):s()}))}function n(e){if(e){var t=new i((function(e){var t=setTimeout((function(){e(!1)}),u.targetSettings.timeout),s=function s(a){e(!1),clearTimeout(t),l(r,a,s)};d(r,m,(function s(a){a.detail&&!0===a.detail.redirect?e(!0):e(!1),clearTimeout(t),l(r,a,s)})),d(r,p,s)}));e((function(e){return o(e,t)}))}}var r=s("@adobe/reactor-document"),i=s("@adobe/reactor-promise"),c=s("./modules/event-util"),d=c.addEventListener,l=c.removeEventListener,u=s("./targetSettings").extensionSettings,b=a.getSharedModule("adobe-analytics","augment-tracker"),m="at-request-succeeded",p="at-request-failed";e.exports=function(){n(b)}}},"adobe-target-v2/lib/modules/libs/at-launch.js":{script:function(e,t,s){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function r(e){return null==e}function i(e){return Jl.call(e)}function c(e){return i(e)}function d(e){var t=o(e);return null!=e&&("object"===t||"function"===t)}function l(e){return!!d(e)&&c(e)===Zl}function u(e){return e}function b(e){return l(e)?e:u}function m(e){return r(e)?[]:Object.keys(e)}function p(e,t){return r(t)?[]:(Wl(t)?Xl:eu)(b(e),t)}function g(e){return e&&e.length?e[0]:void 0}function f(e){return r(e)?[]:[].concat.apply([],e)}function v(e){for(var t=this,s=e?e.length:0,a=s;a-=1;)if(!l(e[a]))throw new TypeError("Expected a function");return function(){for(var a=0,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];for(var i=s?e[a].apply(t,n):n[0];(a+=1)<s;)i=e[a].call(t,i);return i}}function h(e,t){r(t)||(Wl(t)?$l:Ql)(b(e),t)}function P(e){return null!=e&&"object"===o(e)}function j(e){return"string"==typeof e||!Wl(e)&&P(e)&&c(e)===tu}function C(e){if(!j(e))return-1;for(var t=0,s=e.length,a=0;a<s;a+=1)t=(t<<5)-t+e.charCodeAt(a)&4294967295;return t}function R(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=su}function w(e){return null!=e&&R(e.length)&&!l(e)}function E(e,t){return au((function(e){return t[e]}),e)}function y(e){for(var t=0,s=e.length,a=Array(s);t<s;)a[t]=e[t],t+=1;return a}function T(e){return e.split("")}function I(e){return r(e)?[]:w(e)?j(e)?T(e):y(e):E(m(e),e)}function _(e){if(null==e)return!0;if(w(e)&&(Wl(e)||j(e)||l(e.splice)))return!e.length;for(var t in e)if(nu.call(e,t))return!1;return!0}function x(e){return r(e)?"":iu.call(e)}function k(e){return j(e)?!x(e):_(e)}function A(e){return"number"==typeof e||P(e)&&c(e)===du}function O(e){return Object.getPrototypeOf(Object(e))}function L(e){if(!P(e)||c(e)!==lu)return!1;var t=O(e);if(null===t)return!0;var s=pu.call(t,"constructor")&&t.constructor;return"function"==typeof s&&s instanceof s&&mu.call(s)===gu}function S(e,t){return Wl(t)?t.join(e||""):""}function D(e,t){return r(t)?[]:(Wl(t)?au:fu)(b(e),t)}function V(){return(new Date).getTime()}function M(e,t,s){return r(s)?t:(Wl(s)?vu:hu)(b(e),t,s)}function F(e){return null==e?e:ju.call(e)}function N(e,t){return k(t)?[]:t.split(e||"")}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,Number(t)||0)}function U(e){clearTimeout(e)}function G(e){return void 0===e}function q(e){return!G(e)}function H(e){return!!e.execute&&!!e.execute.pageLoad}function K(e){return!!e.execute&&!!e.execute.mboxes&&e.execute.mboxes.length||0}function z(e){return!!e.prefetch&&!!e.prefetch.pageLoad}function W(e){return!!e.prefetch&&!!e.prefetch.mboxes&&e.prefetch.mboxes.length||0}function Y(e){return!!e.prefetch&&!!e.prefetch.views&&e.prefetch.views.length||0}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(e&&A(e))return+e.toFixed(t)}function Z(){function e(e){a.push(e)}function t(){var e=a;return a=[],e}function s(){return a.length>0}var a=[];return{addEntry:e,getAndClearEntries:t,hasEntries:s}}function $(){function e(e,t){return e!==yu||t!==Cu.ON_DEVICE&&t!==Cu.HYBRID?Ru.EDGE:Ru.LOCAL}function t(e){var t={},s=H(e),a=K(e),o=z(e),n=W(e),r=Y(e);return s&&(t.executePageLoad=s),a&&(t.executeMboxCount=a),o&&(t.prefetchPageLoad=o),n&&(t.prefetchMboxCount=n),r&&(t.prefetchViewCount=r),t}function s(e){var t={};return e.dns&&(t.dns=J(e.dns)),e.tls&&(t.tls=J(e.tls)),e.timeToFirstByte&&(t.timeToFirstByte=J(e.timeToFirstByte)),e.download&&(t.download=J(e.download)),e.responseSize&&(t.responseSize=J(e.responseSize)),t}function a(e){var t={};return e.execution&&(t.execution=J(e.execution)),e.parsing&&(t.parsing=J(e.parsing)),e.request&&(t.request=s(e.request)),Gl.default(e,t)}function o(e){g.addEntry(a(e))}function n(e){m&&o({requestId:e.requestId,timestamp:V()})}function r(e,t){m&&o({requestId:e,timestamp:V(),execution:t})}function i(e,t){o(Gl.default(t,{requestId:e,timestamp:V()}))}function c(e,t){m&&t&&i(e,t)}function d(s,a,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p;if(m&&a){var r=s.requestId,c=Gl.default(t(s),{decisioningMethod:n}),d={mode:e(o,n),features:c};i(r,Gl.default(a,d))}}function l(){return g.getAndClearEntries()}function u(){return g.hasEntries()}function b(e){return u()?Gl.default(e,{telemetry:{entries:l()}}):e}var m=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cu.SERVER_SIDE,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z();return{addDeliveryRequestEntry:d,addArtifactRequestEntry:c,addRenderEntry:r,addServerStateEntry:n,getAndClearEntries:l,hasEntries:u,addTelemetryToDeliveryRequest:b}}function Q(e,t){return e(t={exports:{}},t.exports),t.exports}function X(){function e(e){var t=(q(n[e])?n[e]:0)+1;return n[e]=t,""+e+t}function t(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e(t):t;return G(r[s])&&(r[s]=Iu()),s}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(G(r[e]))return-1;var s=Iu()-r[e]-t;return i[e]=s,s}function a(e){delete n[e],delete r[e],delete i[e]}function o(){n={},r={},i={}}var n={},r={},i={};return{timeStart:t,timeEnd:s,getTimings:function(){return i},getTiming:function(e){return i[e]},clearTiming:a,reset:o}}function ee(e,t){if(e){t=t||{};for(var s={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},a=s.parser[t.strictMode?"strict":"loose"].exec(e),o={},n=14;n--;)o[s.key[n]]=a[n]||"";return o[s.q.name]={},o[s.key[12]].replace(s.q.parser,(function(e,t,a){t&&(o[s.q.name][t]=a)})),o}}function te(){var e=window.crypto||window.msCrypto;return!r(e)&&e.getRandomValues&&l(e.getRandomValues)&&e.getRandomValues.bind(e)}function se(){return Au(ku)}function ae(){for(var e=[],t=0;t<256;t+=1)e.push((t+256).toString(16).substr(1));return e}function oe(e){for(var t=[],s=0;s<16;s+=1)t.push(Ou[e[s]]);return S("",t).toLowerCase()}function ne(e){var t=e();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,oe(t)}function re(){return ne(se)}function ie(e,t){e[Vm]&&(r(t[Gm])||(e[Cp]=t[Gm]),h((function(s){r(t[s])||(e[s]=t[s])}),pg))}function ce(e){var t=e.documentMode;return!t||t>=10}function de(e){var t=e.compatMode;return t&&"CSS1Compat"===t}function le(e){return ug.test(e)}function ue(e){if(le(e))return e;var t=F(N(".",e)),s=t.length;return s>=3&&bg.test(t[1])?t[2]+"."+t[1]+"."+t[0]:1===s?t[0]:t[1]+"."+t[0]}function be(e,t,s){var a="";e.location.protocol===lg||(a=ue(e.location.hostname)),s[op]=a,s[Vm]=de(t)&&ce(t),ie(s,e[fp]||{})}function me(e){be(dg,cg,e);var t=dg.location.protocol===lg;(mg=Gl.default({},e))[Wm]=e[Wm]/1e3,mg[Ym]=e[Ym]/1e3,mg[ap]=mg[ep]||t?"https:":""}function pe(){return mg}function ge(e){try{return gg(e)}catch(e){return{}}}function fe(e){try{return fg(e)}catch(e){return""}}function ve(e){try{return decodeURIComponent(e)}catch(t){return e}}function he(e){try{return encodeURIComponent(e)}catch(t){return e}}function Pe(e){if(hg[e])return hg[e];vg.href=e;var t=xu(vg.href);return t.queryKey=ge(t.query),hg[e]=t,hg[e]}function je(e,t,s){return{name:e,value:t,expires:s}}function Ce(e){var t=N("#",e);return _(t)||t.length<3||isNaN(parseInt(t[2],10))?null:je(ve(t[0]),ve(t[1]),Number(t[2]))}function Re(e){return k(e)?[]:N("|",e)}function we(){var e=D(Ce,Re(Pg(Rg))),t=Math.ceil(V()/1e3);return M((function(e,t){return e[t.name]=t,e}),{},p((function(e){return d(e)&&t<=e.expires}),e))}function Ee(e){var t=we()[e];return d(t)?t.value:""}function ye(e){return S("#",[he(e.name),he(e.value),e.expires])}function Te(e){return e.expires}function Ie(e){var t=D(Te,e);return Math.max.apply(null,t)}function _e(e,t,s){var a=I(e),o=Math.abs(1e3*Ie(a)-V()),n=S("|",D(ye,a)),r=new Date(V()+o),i=Gl.default({domain:t,expires:r,secure:s},s?{sameSite:og}:{});jg(Rg,n,i)}function xe(e){var t=e.name,s=e.value,a=e.expires,o=e.domain,n=e.secure,r=we();r[t]=je(t,s,Math.ceil(a+V()/1e3)),_e(r,o,n)}function ke(e){return cu(Pg(e))}function Ae(e,t){var s=ge(e.location.search);return cu(s[t])}function Oe(e,t){var s=Pe(e.referrer).queryKey;return!r(s)&&cu(s[t])}function Le(e,t,s){return ke(s)||Ae(e,s)||Oe(t,s)}function Se(){var e=pe(),t=e[op],s=e[ep],a=Gl.default({domain:t,secure:s},s?{sameSite:og}:{});jg(fb,vb,a);var o=Pg(fb)===vb;return Cg(fb),o}function De(){return Le(dg,cg,pb)}function Ve(){return pe()[Vm]&&Se()&&!De()}function Me(){return Le(dg,cg,mb)}function Fe(){return Le(dg,cg,gb)}function Ne(e,t){var s=e.console;return!r(s)&&l(s[t])}function Be(e,t){var s=e.console;Ne(e,"warn")&&s.warn.apply(s,[wg].concat(t))}function Ue(e,t){var s=e.console;Ne(e,"debug")&&Me()&&s.debug.apply(s,[wg].concat(t))}function Ge(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Be(dg,t)}function qe(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];Ue(dg,t)}function He(e){return M((function(t,s){return t[s]=e[s],t}),{},pg)}function Ke(e,t,s){var a=e[gp]||[];if(e[gp]=a,s){var o=a.push;a[qm]=Eg,a[bp]=He(t),a[mp]=[],a[pp]=[],a.push=function(e){a[pp].push(Gl.default({timestamp:V()},e)),o.call(this,e)}}}function ze(e,t,s,a){t===pp&&e[gp].push(s),a&&t!==pp&&e[gp][t].push(Gl.default({timestamp:V()},s))}function We(){Ke(dg,pe(),Me())}function Ye(e){ze(dg,pp,e,Me())}function Je(e){ze(dg,mp,e,Me())}function Ze(){return l(Tg)}function $e(e){return new Tg(e)}function Qe(){var e=cg.createTextNode(""),t=function(){e.textContent=e.textContent.length>0?"":"a"},s=[];return $e((function(){for(var e=s.length,t=0;t<e;t+=1)s[t]();s.splice(0,e)})).observe(e,{characterData:!0}),function(e){s.push(e),t()}}function Xe(){return function(e){var t=yg("<script>");t.on("readystatechange",(function(){t.on("readystatechange",null),t.remove(),t=null,e()})),yg(cg.documentElement).append(t)}}function et(){Ze()?Kl.default._setImmediateFn(Qe()):-1!==dg.navigator.userAgent.indexOf("MSIE 10")&&Kl.default._setImmediateFn(Xe())}function tt(e){return new Kl.default(e)}function st(e){return Kl.default.resolve(e)}function at(e){return Kl.default.reject(e)}function ot(e){return Wl(e)?Kl.default.race(e):at(new TypeError(Ig))}function nt(e){return Wl(e)?Kl.default.all(e):at(new TypeError(Ig))}function rt(e,t,s){var a=-1;return ot([e,tt((function(e,o){a=B((function(){return o(new Error(s))}),t)}))]).then((function(e){return U(a),e}),(function(e){throw U(a),e}))}function it(e){if(r(e[Gp]))return!1;var t=e[Gp];if(r(t[qp]))return!1;var s=t[qp];return l(s[Kp])&&l(s[Hp])}function ct(e,t){return!!t&&it(e)}function dt(e,t){if(!it(e))return!0;var s=e[Gp][qp],a=(e[Gp][qp][zp]||{})[t];return s[Hp](a)}function lt(e,t){if(!it(e))return st(!0);var s=e[Gp][qp],a=(e[Gp][qp][zp]||{})[t];return tt((function(e,t){s[Kp]((function(){s[Hp](a)?e(!0):t(Zp)}),!0)}))}function ut(){var e=pe()[Jp];return ct(dg,e)}function bt(){return dt(dg,Wp)}function mt(){return dt(dg,Yp)}function pt(){return lt(dg,Wp)}function gt(){return ge(dg.location.search)[ip]}function ft(e,t){xe({name:lp,value:e,expires:t[Ym],domain:t[op],secure:t[ep]})}function vt(e){ft(e,pe())}function ht(){if(ut()&&!bt())return _g;var e=gt();if(cu(e))return vt(e),Ee(lp);var t=Ee(lp);return k(t)?vt(_g):vt(t),Ee(lp)}function Pt(e){var t=pe();xe({name:cp,value:e,expires:t[Wm],domain:t[op],secure:t[ep]})}function jt(){return Ee(cp)}function Ct(e){if(k(e))return"";var t=xg.exec(e);return _(t)||2!==t.length?"":t[1]}function Rt(){if(!pe()[$m])return"";var e=Pg(dp);return k(e)?"":e}function wt(e){var t=pe();if(t[$m]){var s=t[op],a=new Date(V()+t[Qm]),o=t[ep],n=Pg(dp),r=Gl.default({domain:s,expires:a,secure:o},o?{sameSite:og}:{});if(cu(n))jg(dp,n,r);else{var i=Ct(e);k(i)||jg(dp,i,r)}}}function Et(e,t){function s(e,s){var a=t.createEvent("CustomEvent");return s=s||{bubbles:!1,cancelable:!1,detail:void 0},a.initCustomEvent(e,s.bubbles,s.cancelable,s.detail),a}l(e.CustomEvent)||(s.prototype=e.Event.prototype,e.CustomEvent=s)}function yt(e,t){var s=e(),a=t(),o={};return o.sessionId=s,cu(a)?(o.deviceId=a,o):o}function Tt(e,t,s,a){var o=new e.CustomEvent(s,{detail:a});t.dispatchEvent(o)}function It(e,t){var s=t.mbox,a=t.error,o=t.url,n=t.analyticsDetails,i=t.responseTokens,c=t.execution,d={type:e,tracking:yt(ht,jt)};return r(s)||(d.mbox=s),r(a)||(d.error=a),r(o)||(d.url=o),_(n)||(d.analyticsDetails=n),_(i)||(d.responseTokens=i),_(c)||(d.execution=c),d}function _t(){var e=It(kg,{});Tt(dg,cg,kg,e)}function xt(e){var t=It(Ag,e);Tt(dg,cg,Ag,t)}function kt(e,t){var s=It(Og,e);s.redirect=t,Tt(dg,cg,Og,s)}function At(e){var t=It(Lg,e);Tt(dg,cg,Lg,t)}function Ot(e){var t=It(Sg,e);Tt(dg,cg,Sg,t)}function Lt(e){var t=It(Dg,e);Tt(dg,cg,Dg,t)}function St(e){var t=It(Vg,e);Tt(dg,cg,Vg,t)}function Dt(e){var t=It(Mg,e);Tt(dg,cg,Mg,t)}function Vt(e){var t=It(Fg,e);Tt(dg,cg,Fg,t)}function Mt(e){return P(e)&&1===e.nodeType&&!L(e)}function Ft(e){var t=e.charAt(0),s=e.charAt(1),a=e.charAt(2),o={key:e};return o.val="-"===s?""+t+s+"\\3"+a+" ":t+"\\3"+s+" ",o}function Nt(e){var t=e.match(Gg);return _(t)?e:M((function(e,t){return e.replace(t.key,t.val)}),e,D(Ft,t))}function Bt(e){for(var t,s,a,o,n=[],r=x(e),i=r.indexOf(Ng);-1!==i;)t=x(r.substring(0,i)),o=(s=x(r.substring(i))).indexOf(Bg),a=x(s.substring(Ug,o)),i=(r=x(s.substring(o+1))).indexOf(Ng),t&&a&&n.push({sel:t,eq:Number(a)});return r&&n.push({sel:r}),n}function Ut(e){if(Mt(e))return yg(e);if(!j(e))return yg(e);var t=Nt(e);if(-1===t.indexOf(Ng))return yg(t);var s=Bt(t);return M((function(e,t){var s=t.sel,a=t.eq;return e=e.find(s),A(a)&&(e=e.eq(a)),e}),yg(cg),s)}function Gt(e){return Ut(e).length>0}function qt(e){return yg("<"+Lb+"/>").append(e)}function Ht(e){return yg(e)}function Kt(e){return Ut(e).prev()}function zt(e){return Ut(e).next()}function Wt(e){return Ut(e).parent()}function Yt(e,t){return Ut(t).is(e)}function Jt(e,t){return Ut(t).find(e)}function Zt(e){return Ut(e).children()}function $t(){dg[Kg]=dg[Kg]||{},dg[Kg].querySelectorAll=Ut}function Qt(e){var t=e[Op];dg[Kg][Wg]=t}function Xt(){cg.addEventListener(Ib,(function(e){l(dg[Kg][zg])&&dg[Kg][zg](e)}),!0)}function es(){if(Fe()){$t();var e=pe()[sp],t=function(){return Xt()},s=function(){return Ge(qg)};qe(Hg),zl.default(e).then(t).catch(s)}}function ts(e){return parseInt(e,10)}function ss(e){var t=ts(e);return isNaN(t)?null:t}function as(e){return N(ef,e)}function os(e){var t=N(ef,e),s=ss(t[0]);if(r(s))return null;var a={};a.activityIndex=s;var o=ss(t[1]);return r(o)||(a.experienceIndex=o),a}function ns(e){return p(tf,D(os,e))}function rs(e){return Wl(e)?ns(e):ns([e])}function is(e){var t=ge(e),s=t[Jg];if(k(s))return null;var a={};a.token=s;var o=t[$g];cu(o)&&o===vb&&(a.listedActivitiesOnly=!0);var n=t[Qg];cu(n)&&(a.evaluateAsTrueAudienceIds=as(n));var r=t[Xg];cu(r)&&(a.evaluateAsFalseAudienceIds=as(r));var i=t[Zg];return _(i)||(a.previewIndexes=rs(i)),a}function cs(e){var t=is(e.location.search);if(!r(t)){var s=new Date(V()+186e4),a=pe()[ep],o=Gl.default({expires:s,secure:a},a?{sameSite:og}:{});jg(Yg,JSON.stringify(t),o)}}function ds(){var e=Pg(Yg);if(k(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function ls(e){var t=ge(e)[af];return k(t)?null:{token:t}}function us(e){var t=ls(e.location.search);if(!r(t)){var s=new Date(V()+186e4),a=pe()[ep],o=Gl.default({expires:s,secure:a},a?{sameSite:og}:{});jg(sf,JSON.stringify(t),o)}}function bs(){var e=Pg(sf);if(k(e))return{};try{return JSON.parse(e)}catch(e){return{}}}function ms(e){return Ut(e).empty().remove()}function ps(e,t){return Ut(t).after(e)}function gs(e,t){return Ut(t).before(e)}function fs(e,t){return Ut(t).append(e)}function vs(e,t){return Ut(t).prepend(e)}function hs(e,t){return Ut(t).html(e)}function Ps(e){return Ut(e).html()}function js(e,t){return Ut(t).text(e)}function Cs(e,t){return"<"+kb+" "+yb+'="'+e+'" '+Tb+'="'+Lm+'">'+t+"</"+kb+">"}function Rs(e,t){return Cs(of+C(t),t+" {"+e+"}")}function ws(e,t){return Cs(cf,t+" {"+e+"}")}function Es(e){if(!0===e[zm]&&!Gt(rf)){var t=e[Km];fs(Cs(nf,t),_b)}}function ys(e){!0===e[zm]&&Gt(rf)&&ms(rf)}function Ts(e,t){if(!_(t)){var s=p((function(e){return!Gt("#"+(of+C(e)))}),t);if(!_(s)){var a=e[Hm];fs(S("\n",D((function(e){return Rs(a,e)}),s)),_b)}}}function Is(e,t){_(t)||Gt("#"+cf)||fs(ws(e[Hm],S(", ",t)),_b)}function _s(){Es(pe())}function xs(){ys(pe())}function ks(e){Ts(pe(),e)}function As(e){Is(pe(),e)}function Os(e){ms("#"+(of+C(e)))}function Ls(){var e="#"+cf;Gt(e)&&ms(e)}function Ss(e){return!r(e[yb])}function Ds(e){return!r(e[Rp])}function Vs(e){switch(e){default:return"unknown";case 1:return"authenticated";case 2:return"logged_out"}}function Ms(e){return e[yp]}function Fs(e){return Ss(e)||Ds(e)}function Ns(e,t){return M((function(e,s,a){var o={};return o[Ep]=a,Ss(s)&&(o[yb]=s[yb]),Ds(s)&&(o[wp]=Vs(s[Rp])),o[Lu]=t,Ms(s)&&(o[yp]=!0),e.push(o),e}),[],p(Fs,e))}function Bs(e){if(!e.nameSpaces&&!e.dataSources)return Ns(e,hf);var t=[];return e.nameSpaces&&t.push.apply(t,Ns(e.nameSpaces,vf)),e.dataSources&&t.push.apply(t,Ns(e.dataSources,hf)),t}function Us(e){if(r(e))return[];if(!l(e[gf]))return[];var t=e[gf](ff);return d(t)?Bs(t):[]}function Gs(e,t){return r(e)?null:l(e[pf])?e[pf](t):null}function qs(e,t){if(r(e))return null;var s=e[t];return r(s)?null:s}function Hs(e,t,s){if(k(t))return null;if(r(e[Cf]))return null;if(!l(e[Cf][Rf]))return null;var a=e[Cf][Rf](t,{sdidParamExpiry:s});return d(a)&&l(a[wf])&&a[wf]()?a:null}function Ks(e,t){if(!l(e.getVisitorValues))return st({});var s=[bf,lf,uf];return t&&s.push(mf),tt((function(t){e.getVisitorValues((function(e){return t(e)}),s)}))}function zs(e){return qe(yf,e),{}}function Ws(e,t,s){return r(e)?st({}):rt(Ks(e,s),t,Ef).catch(zs)}function Ys(e,t){if(!l(e.getVisitorValues))return{};var s=[bf,lf,uf];t&&s.push(mf);var a={};return e.getVisitorValues((function(e){return Gl.default(a,e)}),s),a}function Js(e,t){return r(e)?{}:Ys(e,t)}function Zs(){var e=pe(),t=e[Fm],s=e[tp];return Hs(dg,t,s)}function $s(){var e=Zs(),t=pe();return Ws(e,t[Zm],t[Xm])}function Qs(){return Js(Zs(),pe()[Xm])}function Xs(){return Us(Zs())}function ea(e){return Gs(Zs(),e)}function ta(e){return qs(Zs(),e)}function sa(e,t){Tf[e]=t}function aa(e){return Tf[e]}function oa(e){var t=e[fp];if(r(t))return!1;var s=t[hp];return!(!Wl(s)||_(s))}function na(e){var t=e[wm];if(!j(t)||_(t))return!1;var s=e[qm];if(!j(s)||_(s))return!1;var a=e[Bm];return!(!r(a)&&!A(a)||!l(e[Am]))}function ra(e){return tt((function(t,s){e((function(e,a){r(e)?t(a):s(e)}))}))}function ia(e,t,s,a,o,n){var r={};r[e]=t,r[s]=a,r[o]=n;var i={};return i[vp]=r,i}function ca(e){var t=e[wm],s=e[qm],a=e[Bm]||xf;return rt(ra(e[Am]),a,_f).then((function(e){var a=ia(wm,t,qm,s,ym,e);return qe(If,hm,a),Je(a),e})).catch((function(e){var a=ia(wm,t,qm,s,pm,e);return qe(If,pm,a),Je(a),{}}))}function da(e){var t=M((function(e,t){return Gl.default(e,t)}),{},e);return sa(hp,t),t}function la(e){return oa(e)?nt(D(ca,p(na,e[fp][hp]))).then(da):st({})}function ua(){var e=aa(hp);return r(e)?{}:e}function ba(){return la(dg)}function ma(){return ua()}function pa(e){var t=ge(e.location.search)[kf];return k(t)?null:t}function ga(){var e=Pg(Af);return k(e)?null:e}function fa(){var e=pa(dg),t=ga();return e||t}function va(e){return!_(e)&&2===e.length&&cu(e[0])}function ha(e){var t=e.indexOf("=");return-1===t?[]:[e.substr(0,t),e.substr(t+1)]}function Pa(e,t,s,a){h((function(e,o){d(e)?(t.push(o),Pa(e,t,s,a),t.pop()):_(t)?s[a(o)]=e:s[a(S(".",t.concat(o)))]=e}),e)}function ja(e){return p((function(e,t){return cu(t)}),ge(e))}function Ca(e){var t=M((function(e,t){return e.push(ha(t)),e}),[],p(cu,e));return M((function(e,t){return e[ve(x(t[0]))]=ve(x(t[1])),e}),{},p(va,t))}function Ra(e,t){var s={};return r(t)?Pa(e,[],s,u):Pa(e,[],s,t),s}function wa(e){if(!l(e))return{};var t=null;try{t=e()}catch(e){return{}}return r(t)?{}:Wl(t)?Ca(t):j(t)&&cu(t)?ja(t):d(t)?Ra(t):{}}function Ea(e){return Gl.default({},e,wa(dg.targetPageParamsAll))}function ya(e){return Gl.default({},e,wa(dg.targetPageParams))}function Ta(e){var t=pe(),s=t[Um],a=t[np],o=t[rp];return s!==e?Ea(a||{}):Gl.default(Ea(a||{}),ya(o||{}))}function Ia(){var e=cg.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(r(t))return null;var s=t.getExtension("WEBGL_debug_renderer_info");if(r(s))return null;var a=t.getParameter(s.UNMASKED_RENDERER_WEBGL);return r(a)?null:a}function _a(){var e=dg.devicePixelRatio;if(!r(e))return e;e=1;var t=dg.screen,s=t.systemXDPI,a=t.logicalXDPI
;return!r(s)&&!r(a)&&s>a&&(e=s/a),e}function xa(){var e=dg.screen,t=e.orientation,s=e.width,a=e.height;if(r(t))return s>a?"landscape":"portrait";if(r(t.type))return null;var o=N("-",t.type);if(_(o))return null;var n=o[0];return r(n)?null:n}function ka(){return Of}function Aa(e){return e===Sf}function Oa(e){return-1!==e.indexOf(Lf)}function La(e){return e===Df}function Sa(e){return e===Vf}function Da(e){return e===Mf}function Va(e){return e===Ff}function Ma(e){return e===Nf}function Fa(e){return e===Bf}function Na(e){return Oa(e)||Aa(e)||La(e)||Sa(e)||Da(e)||Va(e)||Ma(e)||Fa(e)}function Ba(e){return e.substring(Lf.length)}function Ua(e){return e[Sf]}function Ga(e){return e[Df]}function qa(e){return e[Vf]}function Ha(e){return e[Mf]}function Ka(e){var t=D(x,N(",",e[Ff]));return p(cu,t)}function za(e){return e[Nf]}function Wa(e){return e[Bf]}function Ya(e){return M((function(e,t,s){return Na(s)||(e[s]=r(t)?"":t),e}),{},e)}function Ja(e){return M((function(e,t,s){if(!Oa(s))return e;var a=Ba(s);return k(a)||(e[a]=r(t)?"":t),e}),{},e)}function Za(e,t,s){return e.onload=function(){var a=1223===e.status?204:e.status;if(a<100||a>599)s(new Error(Gf));else{var o;try{var n=Iu();(o=JSON.parse(e.responseText)).parsingTime=Iu()-n,o.responseSize=new Blob([e.responseText]).size}catch(e){return void s(new Error(Hf))}var r=e.getAllResponseHeaders();t({status:a,headers:r,response:o})}},e}function $a(e,t){return e.onerror=function(){t(new Error(Gf))},e}function Qa(e,t,s){return e.timeout=t,e.ontimeout=function(){s(new Error(qf))},e}function Xa(e){return h((function(t,s){Wl(t)&&h((function(t){e.setRequestHeader(s,t)}),t)}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),e}function eo(e){var t=e.url,s=e.headers,a=e.body,o=e.timeout,n=e.async;return tt((function(e,r){var i=new window.XMLHttpRequest;(i=$a(i=Za(i,e,r),r)).open(Uf,t,n),i.withCredentials=!0,i=Xa(i,s),n&&(i=Qa(i,o,r)),i.send(JSON.stringify(a))})).then((function(e){var t=e.response,s=t.status,a=t.message;if(!r(s)&&!r(a))throw new Error(a);return t}))}function to(e,t){if(!performance)return null;var s=performance.getEntriesByType("resource").find((function(t){return t.name.endsWith(e)}));if(!s)return null;var a={};return s.domainLookupEnd&&s.domainLookupStart&&(a.dns=s.domainLookupEnd-s.domainLookupStart),s.secureConnectionStart&&s.connectEnd&&(a.tls=s.connectEnd-s.secureConnectionStart),s.responseStart&&(a.timeToFirstByte=s.responseStart-s.startTime),s.responseEnd&&s.responseStart&&(a.download=s.responseEnd-s.responseStart),s.encodedBodySize?a.responseSize=s.encodedBodySize:t.responseSize&&(a.responseSize=t.responseSize,delete t.responseSize),a}function so(e,t){return A(t)?t<0?e[Bm]:t:e[Bm]}function ao(e){var t=e[Nm];if(!e[$m])return t;var s=Rt();return k(s)?t:""+Kf+s+zf}function oo(e){return e[ap]+"//"+ao(e)+e[Pp]+"?"+fe({client:e[Mm],sessionId:ht(),version:e[qm]})}function no(e,t,s){var a=pe(),o=oo(a),r=n({},Sp,[Dp]),i=so(a,t),c={url:o,headers:r,body:e,timeout:i,async:!0};return _u.timeStart(e.requestId),eo(c).then((function(t){var a={execution:_u.timeEnd(e.requestId),parsing:t.parsingTime};delete t.parsingTime;var n=to(o,t);return n&&(a.request=n),t.telemetryServerToken&&(a.telemetryServerToken=t.telemetryServerToken),window.__target_telemetry.addDeliveryRequestEntry(e,a,t.status,s),Gl.default(t,{decisioningMethod:Cu.SERVER_SIDE})}))}function ro(e){if(e[mf])throw new Error(df);return e}function io(){var e=$s(),t=ba();return nt([e.then(ro),t])}function co(){return[Qs(),ma()]}function lo(e){var t=pe()[Um];return Gl.default({},e,Ta(t))}function uo(){return-(new Date).getTimezoneOffset()}function bo(){var e=dg.screen;return{width:e.width,height:e.height,orientation:xa(),colorDepth:e.colorDepth,pixelRatio:_a()}}function mo(){var e=cg.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function po(){return{host:dg.location.hostname,webGLRenderer:ka()}}function go(){return{url:dg.location.href,referringUrl:cg.referrer}}function fo(e){if(!r(e)&&e.channel===ig)return e;var t=(e||{}).beacon;return{userAgent:dg.navigator.userAgent,timeOffsetInMinutes:uo(),channel:ig,screen:bo(),window:mo(),browser:po(),address:go(),geo:e&&e.geo,beacon:t}}function vo(e,t){if(!r(e))return e;var s={};if(_(t))return s;var a=t[uf],o=parseInt(a,10);isNaN(o)||(s.locationHint=o);var n=t[lf];return cu(n)&&(s.blob=n),s}function ho(e){var t=e.id,s=e.integrationCode,a=e.authenticatedState,o=e.type,n=e.primary,r={};return cu(t)&&(r.id=t),cu(s)&&(r.integrationCode=s),cu(a)&&(r.authenticatedState=a),cu(o)&&(r.type=o),n&&(r.primary=n),r}function Po(e){return D(ho,e)}function jo(e,t,s,a,o){var n={};cu(t)&&(n.tntId=t),cu(s)&&(n.thirdPartyId=s),cu(e.thirdPartyId)&&(n.thirdPartyId=e.thirdPartyId);var r=a[bf];return cu(r)&&(n.marketingCloudVisitorId=r),cu(e.marketingCloudVisitorId)&&(n.marketingCloudVisitorId=e.marketingCloudVisitorId),_(e.customerIds)?(_(o)||(n.customerIds=Po(o)),n):(n.customerIds=e.customerIds,n)}function Co(e,t){var s={},a=vo(e.audienceManager,t);return _(a)||(s.audienceManager=a),_(e.analytics)||(s.analytics=e.analytics),s}function Ro(e,t){if(!r(e)&&cu(e.token))return e;var s={},a=Ga(t);return cu(a)&&(s.token=a),s}function wo(e){if(!r(e)&&cu(e.authorizationToken))return e;var t={},s=fa();return cu(s)&&(t.authorizationToken=s),t}function Eo(e){return r(e)?bs():e}function yo(e){return r(e)?ds():e}function To(e){var t={},s=qa(e);r(s)||(t.id=s);var a=Ha(e),o=parseFloat(a);isNaN(o)||(t.total=o);var n=Ka(e);return _(n)||(t.purchasedProductIds=n),t}function Io(e){var t={},s=za(e);r(s)||(t.id=s);var a=Wa(e);return r(a)||(t.categoryId=a),t}function _o(e,t){var s={},a=Gl.default({},Ya(t),e.parameters||{}),o=Gl.default({},Ja(t),e.profileParameters||{}),n=Gl.default({},To(t),e.order||{}),r=Gl.default({},Io(t),e.product||{});return _(a)||(s.parameters=a),_(o)||(s.profileParameters=o),_(n)||(s.order=n),_(r)||(s.product=r),s}function xo(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=pe()[Um],o=e.index,n=e.name,i=e.address,c=_o(e,Gl.default({},n===a?t:s,Ta(n)));return r(o)||(c.index=o),cu(n)&&(c.name=n),_(i)||(c.address=i),c}function ko(e,t){var s=e.name,a=e.address,o=_o(e,t);return cu(s)&&(o.name=s),_(a)||(o.address=a),o}function Ao(e,t,s){var a=e.execute,o=void 0===a?{}:a,n={};if(_(o))return n;var i=o.pageLoad;r(i)||(n.pageLoad=_o(i,t));var c=o.mboxes;if(!r(c)&&Wl(c)&&!_(c)){var d=p(Wf,D((function(e){return xo(e,t,s)}),c));_(d)||(n.mboxes=d)}return n}function Oo(e,t,s){var a=e.prefetch,o=void 0===a?{}:a,n={};if(_(o))return n;var i=o.mboxes;r(i)||!Wl(i)||_(i)||(n.mboxes=D((function(e){return xo(e,t,s)}),i));var c=o.views;return r(c)||!Wl(c)||_(c)||(n.views=D((function(e){return ko(e,t)}),c)),n}function Lo(e,t){if(ut()&&!mt())return null;var s=pe(),a=ea(e),o=ta(Pf),n=ta(jf),i=t.experienceCloud,c=(void 0===i?{}:i).analytics,d=void 0===c?{}:c,l=d.logging,u=d.supplementalDataId,b=d.trackingServer,m=d.trackingServerSecure,p={};return r(l)?p.logging=s[$p]:p.logging=l,r(u)||(p.supplementalDataId=u),cu(a)&&(p.supplementalDataId=a),r(b)||(p.trackingServer=b),cu(o)&&(p.trackingServer=o),r(m)||(p.trackingServerSecure=m),cu(n)&&(p.trackingServerSecure=n),_(p)?null:p}function So(e,t,s){var a=lo(s),o=jt(),n=Ua(a),r=Xs(),i=jo(e.id||{},o,n,t,r),c=Ro(e.property,a),d=Co(e.experienceCloud||{},t),l=wo(e.trace),u=Eo(e.preview),b=yo(e.qaMode),m=Ao(e,a,s),p=Oo(e,a,s),g=e.notifications,f={};return f.requestId=re(),f.context=fo(e.context),_(i)||(f.id=i),_(c)||(f.property=c),_(l)||(f.trace=l),_(d)||(f.experienceCloud=d),_(u)||(f.preview=u),_(b)||(f.qaMode=b),_(m)||(f.execute=m),_(p)||(f.prefetch=p),_(g)||(f.notifications=g),f=dg.__target_telemetry.addTelemetryToDeliveryRequest(f)}function Do(e,t,s){var a=s[0],o=s[1];return So(e,a,Gl.default({},o,t))}function Vo(e,t){return io().then((function(s){return Do(e,t,s)}))}function Mo(e,t){return Do(e,t,co())}function Fo(e,t,s){return qe(km,t),Je({request:t}),no(t,s,Cu.SERVER_SIDE).then((function(e){return qe(xm,e),Je({response:e}),{request:t,response:e}}))}function No(e,t){return{status:hm,type:e,data:t}}function Bo(e,t){return{status:pm,type:e,data:t}}function Uo(e){return d(e)}function Go(e){return!!Uo(e)&&cu(e.eventToken)}function qo(e){return!_(e)&&!k(e.type)&&cu(e.eventToken)}function Ho(e){return!!qo(e)&&cu(e.selector)}function Ko(e){var t=e.id;return d(t)&&cu(t.tntId)}function zo(e){var t=e.response;return Ko(t)&&Pt(t.id.tntId),e}function Wo(e){var t=e.response;return Ko(t)&&wt(t.id.tntId),wt(null),e}function Yo(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).trace;_(e)||Ye(e)}function Jo(e){var t=e.response,s=t.execute,a=void 0===s?{}:s,o=t.prefetch,n=void 0===o?{}:o,r=t.notifications,i=void 0===r?{}:r,c=a.pageLoad,d=void 0===c?{}:c,l=a.mboxes,u=void 0===l?[]:l,b=n.mboxes,m=void 0===b?[]:b,p=n.views,g=void 0===p?[]:p;return Yo(d),h(Yo,u),h(Yo,m),h(Yo,g),h(Yo,i),e}function Zo(e){var t=e.queryKey,s=t[fv];if(!j(s))return t;if(k(s))return t;var a=Math.round(V()/1e3);return t[fv]=s.replace(/\|TS=\d+/,"|TS="+a),t}function $o(e){return e.queryKey}function Qo(e,t,s){var a=Pe(e),o=a.protocol,n=a.host,r=a.path,i=""===a.port?"":":"+a.port,c=k(a.anchor)?"":"#"+a.anchor,d=s(a),l=fe(Gl.default({},d,t));return o+"://"+n+i+r+(k(l)?"":"?"+l)+c}function Xo(e,t){return Qo(e,t,Zo)}function en(e,t){return Qo(e,t,$o)}function tn(e){var t=e.content;if(k(t))return qe(om,e),null;var s=Gl.default({},e);return s.content=Xo(t,{}),s}function sn(e){throw new Error(e)}function an(e){var t=e[Rv]||jv,s=e[wv]||sn(Pv),a=e[Ev]||{},o=e[yv]||null,n=e[Tv]||!1,i=e[Iv]||3e3,c=!!r(e[_v])||!0===e[_v],d={};return d[Rv]=t,d[wv]=s,d[Ev]=a,d[yv]=o,d[Tv]=n,d[Iv]=i,d[_v]=c,d}function on(e,t,s){return e.onload=function(){var a=1223===e.status?204:e.status;if(a<100||a>599)s(new Error(vv));else{var o=e.responseText,n=e.getAllResponseHeaders();t({status:a,headers:n,response:o})}},e}function nn(e,t){return e.onerror=function(){t(new Error(vv))},e}function rn(e,t,s){return e.timeout=t,e.ontimeout=function(){s(new Error(hv))},e}function cn(e,t){return!0===t&&(e.withCredentials=t),e}function dn(e,t){return h((function(t,s){h((function(t){return e.setRequestHeader(s,t)}),t)}),t),e}function ln(e,t){var s=an(t),a=s[Rv],o=s[wv],n=s[Ev],r=s[yv],i=s[Tv],c=s[Iv],d=s[_v];return tt((function(t,s){var l=new e.XMLHttpRequest;(l=nn(l=on(l,t,s),s)).open(a,o,d),l=dn(l=cn(l,i),n),d&&(l=rn(l,c,s)),l.send(r)}))}function un(e){return ln(dg,e)}function bn(e,t,s){var a={};return a[Rv]=jv,a[wv]=en(e,t),a[Iv]=s,a}function mn(e){return e>=200&&e<300||304===e}function pn(e){if(!mn(e.status))return null;var t=e.response;if(k(t))return null;var s={};return s.type=Cb,s.content=t,s}function gn(e){return un(bn(e.content,{},pe()[Iv])).then(pn).catch((function(){return null}))}function fn(e){var t=e[Gu];if(k(t))return"";var s=xv.exec(t);return _(s)||2!==s.length?"":s[1]}function vn(e,t){var s=document.createElement(Lb);s.innerHTML=t;var a=s.firstElementChild;return r(a)?t:(a.id=e,a.outerHTML)}function hn(e){var t=e[Su],s=fn(e);if(k(s)||k(t))return e;var a=e[Gu];return e[Gu]=a.replace(kv,""),e[Su]=vn(s,t),e}function Pn(e){return!r(e.selector)}function jn(e){if(!Pn(e))return null;var t=hn(e);return j(t[Su])?t:(qe(Qb,t),null)}function Cn(e){if(!Pn(e))return null;var t=hn(e);return j(t[Su])?t:(qe(Qb,t),null)}function Rn(e){if(!Pn(e))return null;var t=hn(e);return j(t[Su])?t:(qe(Qb,t),null)}function wn(e){if(!Pn(e))return null;var t=hn(e);return j(t[Su])?t:(qe(Qb,t),null)}function En(e){if(!Pn(e))return null;var t=hn(e);return j(t[Su])?t:(qe(Qb,t),null)}function yn(e){if(!Pn(e))return null;var t=hn(e);return j(t[Su])?t:(qe(Qb,t),null)}function Tn(e){if(!Pn(e))return null;var t=hn(e);return j(t[Su])?t:(qe(Qb,t),null)}function In(e){return Pn(e)?j(e[Su])?e:(qe(Qb,e),null):null}function _n(e){return Pn(e)?d(e[Su])?e:(qe(Xb,e),null):null}function xn(e){return Pn(e)?j(e[Su])?e:(qe(nm,e),null):null}function kn(e){return Pn(e)?d(e[Su])?e:(qe(em,e),null):null}function An(e){return Pn(e)?d(e[Su])?e:(qe(tm,e),null):null}function On(e){return Pn(e)?d(e[Su])?e:(qe(sm,e),null):null}function Ln(e){return Pn(e)?e:null}function Sn(e){return Pn(e)?d(e[Su])?e:(qe(am,e),null):null}function Dn(e){var t=e.content;return k(t)?(qe(om,e),null):(e.content=Xo(t,{}),e)}function Vn(e){var t=e[Lu];if(k(t))return null;switch(t){case Hu:return jn(e);case zu:return Cn(e);case ib:return Rn(e);case db:return wn(e);case ub:return En(e);case nb:return yn(e);case rb:return Tn(e);case tb:return In(e);case Yu:return _n(e);case Ju:return xn(e);case Zu:return kn(e);case Qu:return An(e);case Xu:return On(e);case eb:return Ln(e);case $u:return Sn(e);case sb:return Dn(e);default:return null}}function Mn(e){var t=e[Su];if(!Wl(t))return null;if(_(t))return null;var s=p(Av,D(Vn,t));if(_(s))return null;var a=Gl.default({},e);return a.content=s,a}function Fn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).options;return Wl(e)?_(e)?[]:sv(D(iv,e)):[]}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,s=void 0===t?{}:t,a=e.prefetch,o=void 0===a?{}:a,n=s.pageLoad,r=void 0===n?{}:n,i=s.mboxes,c=void 0===i?[]:i,d=o.mboxes,l=void 0===d?[]:d,u=o.views,b=void 0===u?[]:u,m=Fn(r),p=f(D(Fn,c)),g=f(D(Fn,l)),v=f(D(Fn,b));return f([m,p,g,v])}function Bn(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).execute,t=void 0===e?{}:e,s=t.pageLoad,a=void 0===s?{}:s,o=t.mboxes,n=void 0===o?[]:o,r=ov(a)||[],i=f(sv(D(ov,n))),c=f([r,i]),d=f(D(nv,p(ev,c))),l=p(tv,c),u=p(tv,d),b=l.concat(u),m={};if(_(b))return m;var g=b[0].content;return k(g)||(m.url=g),m}function Un(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).analytics;return _(e)?[]:[e]}function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.execute,s=void 0===t?{}:t,a=e.prefetch,o=void 0===a?{}:a,n=s.pageLoad,r=void 0===n?{}:n,i=s.mboxes,c=void 0===i?[]:i,d=o.mboxes,l=void 0===d?[]:d,u=o.views,b=void 0===u?[]:u,m=o.metrics,p=void 0===m?[]:m,g=Un(r),v=f(D(Un,c)),h=f(D(Un,l)),P=f(D(Un,b)),j=f(D(Un,p));return f([g,v,h,P,j])}function qn(e,t){e.parameters=t.parameters,e.profileParameters=t.profileParameters,e.order=t.order,e.product=t.product}function Hn(e,t){var s=t[0],a=t[1],o=!_(s),n=!_(a);return o||n?(o&&(e.options=s),n&&(e.metrics=a),e):e}function Kn(e){switch(e.type){case sb:return st(tn(e));case Rb:return gn(e);case Tm:return st(Mn(e));default:return st(e)}}function zn(e,t){if(!Wl(e))return st([]);if(_(e))return st([]);var s=p(t,e);return _(s)?st([]):nt(D((function(e){return Kn(e)}),s)).then(sv)}function Wn(e,t){return Wl(e)?_(e)?st([]):st(p(t,e)):st([])}function Yn(e){var t=e.response.execute;if(!d(t))return st(null);var s=t.pageLoad;if(!d(s))return st(null);var a=s.analytics,o=s.options,n=s.metrics,r={analytics:a};return nt([zn(o,Uo),Wn(n,Ho)]).then((function(e){return Hn(r,e)}))}function Jn(e){var t=e.name,s=e.analytics,a=e.options,o=e.metrics,n={name:t,analytics:s};return nt([zn(a,Uo),Wn(o,qo)]).then((function(e){return Hn(n,e)}))}function Zn(e){var t=e.response.execute;if(!d(t))return st([]);var s=t.mboxes;return!Wl(s)||_(s)?st([]):nt(D(Jn,p(lv,s))).then(sv)}function $n(e,t,s){return e.index===t&&e.name===s}function Qn(e,t,s){var a=e.prefetch,o=(void 0===a?{}:a).mboxes,n=void 0===o?[]:o;return _(n)?null:g(p((function(e){return $n(e,t,s)}),n))}function Xn(e,t){var s=t.index,a=t.name,o=t.state,n=t.analytics,i=t.options,c=t.metrics,d=Qn(e,s,a),l={name:a,state:o,analytics:n};return r(d)||qn(l,d),nt([zn(i,Go),Wn(c,qo)]).then((function(e){return Hn(l,e)}))}function er(e){var t=e.request,s=e.response.prefetch;if(!d(s))return st([]);var a=s.mboxes;return!Wl(a)||_(a)?st([]):nt(D((function(e){return Xn(t,e)}),p(uv,a))).then(sv)}function tr(e){var t=e.prefetch,s=(void 0===t?{}:t).views,a=void 0===s?[]:s;return _(a)?null:a[0]}function sr(e,t){var s=t.name,a=t.state,o=t.analytics,n=t.options,i=t.metrics,c=tr(e),d={name:s.toLowerCase(),state:a,analytics:o};return r(c)||qn(d,c),nt([zn(n,Go),Wn(i,Ho)]).then((function(e){return Hn(d,e)}))}function ar(e){var t=e.request,s=e.response.prefetch;if(!d(s))return st([]);var a=s.views;return!Wl(a)||_(a)?st([]):nt(D((function(e){return sr(t,e)}),p(bv,a))).then(sv)}function or(e){var t=e.response.prefetch;return d(t)?Wn(t.metrics,Ho):st([])}function nr(e){var t=e.response,s=t.remoteMboxes,a=t.remoteViews,o=t.decisioningMethod,n={};return d(s)&&(n.remoteMboxes=s),d(a)&&(n.remoteViews=a),j(o)&&(n.decisioningMethod=o),st(n)}function rr(e){return r(e)||k(e.id)?st(null):st({id:e.id})}function ir(e){var t=e.response.notifications;return Wl(t)?nt(D(rr,t)).then(sv):st([])}function cr(e){var t=e[0],s=e[1],a=e[2],o=e[3],n=e[4],r=e[5],i=e[6],c={},l={};d(t)&&(l.pageLoad=t),_(s)||(l.mboxes=s);var u={};return _(a)||(u.mboxes=a),_(o)||(u.views=o),_(n)||(u.metrics=n),_(l)||(c.execute=l),_(u)||(c.prefetch=u),_(r)||(c.meta=r),_(i)||(c.notifications=i),c}function dr(e){var t=v([Jo,zo,Wo])(e);return nt([Yn(t),Zn(t),er(t),ar(t),or(t),nr(t),ir(t)]).then(cr)}function lr(e){return!_(Bn(e))}function ur(e){var t=Nn(e),s={};return _(t)||(s.responseTokens=t),s}function br(e){var t=ur(e),s=Gn(e);return _(s)||(t.analyticsDetails=s),qe(Jb,e),kt(t,lr(e)),st(e)}function mr(e,t){var s=ur(t);s.mbox=e;var a=Gn(t);return _(a)||(s.analyticsDetails=a),qe(Jb,t),kt(s,lr(t)),st(t)}function pr(e){return Ge(Yb,e),At({error:e}),at(e)}function gr(e,t){return Ge(Yb,t),At({mbox:e,error:t}),at(t)}function fr(e){var t=pe()[Um],s=e.mbox,a=e.timeout,o=d(e.params)?e.params:{},n=function(e){return mr(s,e)},r=function(e){return gr(s,e)},i={},c={};s===t?c.pageLoad={}:c.mboxes=[{index:0,name:s}],i.execute=c;var l=Lo(s,i);if(!_(l)){var u={};u.analytics=l,i.experienceCloud=u}return xt({mbox:s}),Vo(i,o).then((function(t){return Fo(e,t,a)})).then(dr).then(n).catch(r)}function vr(e){var t=pe()[Um],s=e.consumerId,a=void 0===s?t:s,o=e.request,n=e.timeout,r=Lo(a,o),i=function(e){return br(e)},c=function(e){return pr(e)};if(!_(r)){var d=o.experienceCloud||{};d.analytics=r,o.experienceCloud=d}return xt({}),Vo(o,{}).then((function(t){return Fo(e,t,n)})).then(dr).then(i).catch(c)}function hr(e,t){return Ut(t).addClass(e)}function Pr(e,t){return Ut(t).css(e)}function jr(e,t){return Ut(t).attr(e)}function Cr(e,t,s){return Ut(s).attr(e,t)}function Rr(e,t){return Ut(t).removeAttr(e)}function wr(e,t,s){var a=jr(e,s);cu(a)&&(Rr(e,s),Cr(t,a,s))}function Er(e,t){return cu(jr(e,t))}function yr(e){return new Error("Could not find: "+e)}function Tr(e,t,s){return tt((function(a,o){var n=$e((function(){var t=s(e);_(t)||(n.disconnect(),a(t))}));B((function(){n.disconnect(),o(yr(e))}),t),n.observe(cg,{childList:!0,subtree:!0})}))}function Ir(){return cg[Ov]===Lv}function _r(e,t,s){return tt((function(a,o){function n(){var t=s(e);_(t)?dg.requestAnimationFrame(n):a(t)}n(),B((function(){o(yr(e))}),t)}))}function xr(e,t,s){return tt((function(a,o){function n(){var t=s(e);_(t)?B(n,Sv):a(t)}n(),B((function(){o(yr(e))}),t)}))}function kr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pe()[Jm],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut,a=s(e);return _(a)?Ze()?Tr(e,t,s):Ir()?_r(e,t,s):xr(e,t,s):st(a)}function Ar(e){return jr(Pb,e)}function Or(e){return Er(Pb,e)}function Lr(e){return h((function(e){return wr(Eb,Pb,e)}),I(Jt(Ob,e))),e}function Sr(e){return h((function(e){return wr(Pb,Eb,e)}),I(Jt(Ob,e))),e}function Dr(e){return qe(cm,e),jr(Eb,Cr(Eb,e,Ht("<"+Ob+"/>")))}function Vr(e){var t=p(Or,I(Jt(Ob,e)));return _(t)||h(Dr,D(Ar,t)),e}function Mr(e){return v([Lr,Vr,Sr])(e)}function Fr(e){var t=jr(Eb,e);return cu(t)?t:null}function Nr(e){return p(cu,D(Fr,I(Jt(wb,e))))}function Br(e){return M((function(e,t){return e.then((function(){return qe(mm,t),Je({remoteScript:t}),zl.default(t)}))}),st(),e)}function Ur(e){return e}function Gr(e,t){return Ge(Wb,t),Je({action:e,error:t}),e}function qr(e,t){var s,a=Ut(t[Gu]),o=Mr(qt(t[Su])),n=Nr(o);try{s=st(e(a,o))}catch(e){return at(Gr(t,e))}return _(n)?s.then((function(){return Ur(t)})).catch((function(e){return Gr(t,e)})):s.then((function(){return Br(n)})).then((function(){return Ur(t)})).catch((function(e){return Gr(t,e)}))}function Hr(e){var t=qt(e);return S("",M((function(e,t){return e.push(Ps(qt(t))),e}),[],I(Jt(Dv,t))))}function Kr(e){var t=Gl.default({},e),s=t[Su];if(k(s))return t;var a=Ut(t[Gu]);return Yt(_b,a)?(t[Lu]=ib,t[Su]=Hr(s),t):t}function zr(e){return e.indexOf("px")===e.length-2?e:e+"px"}function Wr(e,t){return hs(Ps(t),e)}function Yr(e){return qe($b,e),qr(Wr,e)}function Jr(e){var t=Ut(e[Gu]),s=e[Su];return qe($b,e),Je({action:e}),js(s,t),st(e)}function Zr(e,t){return fs(Ps(t),e)}function $r(e){return qe($b,e),qr(Zr,e)}function Qr(e,t){return vs(Ps(t),e)}function Xr(e){return qe($b,e),qr(Qr,e)}function ei(e,t){var s=Wt(e);return ms(gs(Ps(t),e)),s}function ti(e){return qe($b,e),qr(ei,e)}function si(e,t){return Kt(gs(Ps(t),e))}function ai(e){return qe($b,e),qr(si,e)}function oi(e,t){return zt(ps(Ps(t),e))}function ni(e){return qe($b,e),qr(oi,e)}function ri(e,t){return Wt(gs(Ps(t),e))}function ii(e){return qe($b,e),qr(ri,e)}function ci(e){var t=e[Su],s=Ut(e[Gu]);return qe($b,e),Je({action:e}),Rr(Eb,s),Cr(Eb,Dr(t),s),st(e)}function di(e){var t=e[Su],s=Ut(e[Gu]);return qe($b,e),Je({action:e}),h((function(e,t){return Cr(t,e,s)}),t),st(e)}function li(e,t,s){h((function(e){h((function(t,a){return e.style.setProperty(a,t,s)}),t)}),I(e))}function ui(e){var t=Ut(e[Gu]),s=e[Su],a=s[Uu];return qe($b,e),Je({action:e}),k(a)?Pr(s,t):li(t,s,a),st(e)}function bi(e){var t=Ut(e[Gu]),s=e[Su];return s[Vu]=zr(s[Vu]),s[Du]=zr(s[Du]),qe($b,e),Je({action:e}),Pr(s,t),st(e)}function mi(e){var t=Ut(e[Gu]),s=e[Su];return s[Mu]=zr(s[Mu]),s[Fu]=zr(s[Fu]),qe($b,e),Je({action:e}),Pr(s,t),st(e)}function pi(e){var t=Ut(e[Gu]);return qe($b,e),Je({action:e}),ms(t),st(e)}function gi(e){var t=Ut(e[Gu]),s=e[Su],a=Number(s[Nu]),o=Number(s[Bu]);if(isNaN(a)&&isNaN(o))return qe(im,e),at(e);var n=I(Zt(t)),r=n[a],i=n[o];return Gt(r)&&Gt(i)?(qe($b,e),Je({action:e}),a<o?ps(r,i):gs(r,i),st(e)):(qe(rm,e),at(e))}function fi(e){var t=Kr(e);switch(t[Lu]){case Hu:return Yr(t);case zu:return Jr(t);case ib:return $r(t);case db:return Xr(t);case ub:return ti(t);case nb:return ai(t);case rb:return ni(t);case tb:return ii(t);case Yu:return di(t);case Ju:return ci(t);case Zu:return ui(t);case Qu:return bi(t);case Xu:return mi(t);case eb:return pi(t);case $u:return gi(t);default:return st(t)}}function vi(e){return e[Lu]===ab||e[Lu]===ob}function hi(e){var t=e[Gu];return cu(t)||Mt(t)}function Pi(e){var t=e.key;if(!k(t)&&hi(e)){var s=e[Gu];Cr(Vv,t,s)}}function ji(e){var t=e[qu];k(t)||Os(t)}function Ci(e){if(hi(e)){var t=e[Gu];vi(e)?hr(Dm,t):(hr(Sm,t),ji(e))}else ji(e)}function Ri(e){h(Ci,e)}function wi(e){var t=e.key;if(k(t))return!0;if(e[Lu]===tb)return e[Tp];var s=e[Gu],a=jr(Vv,s);return a!==t||a===t&&!e[Tp]}function Ei(e){return wi(e)?fi(e).then((function(){return qe(Zb,e),Je({action:e}),Pi(e),Ci(e),e})).catch((function(t){Ge(Wb,t),Je({action:e,error:t}),Ci(e);var s=Gl.default({},e);return s[pm]=!0,s})):(Ci(e),e)}function yi(e){var t=p((function(e){return!0===e[pm]}),e);return _(t)?st():(Ri(t),at(e))}function Ti(e){return kr(e[Gu]).then((function(){return e})).catch((function(){var t=Gl.default({},e);return t[pm]=!0,t}))}function Ii(e){return Ti(e).then(Ei)}function _i(e){return nt(D(Ii,e)).then(yi)}function xi(e,t,s){return Ut(s).on(e,t)}function ki(e,t,s){return Ut(s).off(e,t)}function Ai(e){return kr(e[Gu]).then((function(){return Je({metric:e}),Gl.default({found:!0},e)})).catch((function(){return Ge(Mv,e),Je({metric:e,message:Mv}),e}))}function Oi(e){var t=e.name,s=aa(_p)||{};s[t]=e,sa(_p,s)}function Li(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.page,a=void 0===s||s,o=(aa(_p)||{})[e];if(r(o))return o;var n=t.impressionId;return r(n)?o:Gl.default({page:a,impressionId:n},o)}function Si(e){h(Oi,e)}function Di(e,t,s){return e[Fv][Nv](t,s)}function Vi(e,t,s){var a={};a[Sp]=[Dp];var o={};o[Rv]=Cv,o[wv]=t,o[yv]=s,o[Tv]=!0,o[_v]=!1,o[Ev]=a;try{e(o)}catch(e){return!1}return!0}function Mi(e){return Fv in e&&Nv in e[Fv]}function Fi(e,t){return Mi(dg)?Di(dg,e,t):Vi(un,e,t)}function Ni(e){var t=Lo(e,{}),s={context:{beacon:!0}};if(!_(t)){var a={};a.analytics=t,s.experienceCloud=a}return s}function Bi(e,t,s){var a=Mo(Ni(e),t);return a.notifications=s,a}function Ui(e,t,s){return Vo(Ni(e),t).then((function(e){return e.notifications=s,e}))}function Gi(e,t,s){var a={id:re(),type:t,timestamp:V(),parameters:e.parameters,profileParameters:e.profileParameters,order:e.order,product:e.product};return _(s)||(a.tokens=s),a}function qi(e,t,s){var a=e.name,o=e.state,n=Gi(e,t,s);return n.mbox={name:a,state:o},n}function Hi(e,t,s){var a=e.name,o=e.state,n=Gi(e,t,s);return n.view={name:a,state:o},n}function Ki(e){var t=oo(pe());return Fi(t,JSON.stringify(e))?(qe(Bv,t,e),!0):(Ge(Uv,t,e),!1)}function zi(e,t,s){var a=Ta(pe()[Um]),o=Gi(_o({},a),t,[s]),n=Bi(re(),a,[o]);qe(Kv,e,o),Je({source:e,event:t,request:n}),Ki(n)}function Wi(e,t,s){var a=Ta(e),o=Gi(_o({},a),t,[s]);o.mbox={name:e};var n=Bi(re(),a,[o]);qe(zv,e,o),Je({mbox:e,event:t,request:n}),Ki(n)}function Yi(e){var t=pe()[Um],s=[],a=Lp;if(h((function(e){var t=e.mbox,o=e.data;if(!r(o)){var n=o.eventTokens,i=void 0===n?[]:n;_(i)||s.push(qi(t,a,i))}}),e),!_(s)){var o=Bi(t,{},s);qe(Hv,s),Je({source:Yv,event:Jv,request:o}),Ki(o)}}function Ji(e,t,s){var a=Ta(pe()[Um]),o=Gi(_o({},a),t,[s]);o.view={name:e};var n=Bi(re(),a,[o]);qe(Wv,e,o),Je({view:e,event:t,request:n}),Ki(n)}function Zi(e){var t=e.viewName,s=e.impressionId,a=Ta(pe()[Um]),o=Gi(_o({},a),Lp,[]);o.view={name:t},qe(Gv,t),Ui(t,a,[o]).then((function(e){e.impressionId=s,Je({view:t,event:Zv,request:e}),Ki(e)}))}function $i(e){if(!r(e)){var t=e.view,s=e.data,a=(void 0===s?{}:s).eventTokens,o=void 0===a?[]:a,n=t.name,i=t.impressionId,c=Li(n);if(!r(c)){var d=Bi(n,{},[Hi(c,Lp,o)]);d.impressionId=i,qe(qv,n,o),Je({view:n,event:Jv,request:d}),Ki(d)}}}function Qi(e,t){e===Ib&&hr(Dm,t)}function Xi(e,t){return!r($v[e])&&!r($v[e][t])}function ec(e,t,s){if(r($v[e])){var a=m($v);_(a)||h((function(e){h((function(a){var o=$v[e][a];ki(t,o,s)}),m($v[e])),delete $v[e]}),a)}}function tc(e,t,s){$v[e]=$v[e]||{},$v[e][t]=s}function sc(e,t,s,a){var o=s.type,n=s.selector,r=s.eventToken,i=C(o+":"+n+":"+r),c=function(){return a(e,o,r)};Qi(o,n),t?Xi(e,i)||(ec(e,o,n),tc(e,i,c),xi(o,c,n)):xi(o,c,n)}function ac(e,t,s,a){return Ai(s).then((function(s){s.found&&sc(e,t,s,a)}))}function oc(e,t,s,a){return nt(D((function(s){return ac(e,t,s,a)}),s)).then(th).catch(sh)}function nc(e){return oc(e.name,!1,eh(e),Wi)}function rc(e){return oc(e.name,!0,eh(e),Ji)}function ic(e){return oc(Qv,!1,eh(e),zi)}function cc(e){return oc(Xv,!1,eh(e),zi)}function dc(e){var t=D(oh,e);ks(av(t))}function lc(e){var t=D(oh,e);As(sv(t))}function uc(e){var t=p(ev,ov(e));return f(D(ah,t))}function bc(e){return d(e)&&e.type!==Wu}function mc(e,t,s){return D((function(e){return Gl.default({key:t,page:s},e)}),p(bc,e))}function pc(e,t,s){var a=e.eventToken,o=e.responseTokens;return _i(mc(e.content,t,s)).then((function(){return nh({eventToken:a,responseTokens:o})})).catch(rh)}function gc(e){return d(e)&&e.type!==jb}function fc(e,t){return D(e,p(gc,ov(t)))}function vc(e,t,s){var a=n({status:hm},e,t),o=D(pv,p(Xf,s)),r={};return _(o)||(a.status=pm,r.errors=o),_(r)||(a.data=r),a}function hc(e,t,s){var a=n({status:hm},e,t),o=D(pv,p(Xf,s)),r=D(pv,p(ih,s)),i=sv(D(rv,r)),c=sv(D(iv,r)),d={};return _(o)||(a.status=pm,d.errors=o),_(i)||(d.eventTokens=i),_(c)||(d.responseTokens=c),_(d)||(a.data=d),a}function Pc(e,t,s){return nt(fc((function(e){return pc(e,!0)}),e)).then(t).then((function(t){return s(e),t}))}function jc(e,t,s,a){var o=t.name;return nt(fc((function(e){return pc(e,o,s)}),t)).then((function(s){return hc(e,t,s)})).then((function(e){return a(t),e}))}function Cc(e){return Pc(e,(function(t){return vc(Cm,e,t)}),nc)}function Rc(e){return jc(Cm,e,!0,nc)}function wc(e){dc(uc(e))}function Ec(e){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])){var t=e.execute,s=(void 0===t?{}:t).pageLoad,a=void 0===s?{}:s;_(a)||wc(a)}}function yc(e){var t=e.prefetch,s=(void 0===t?{}:t).views,a=void 0===s?[]:s;_(a)||lc(f(D(uc,a)))}function Tc(e){dc(uc(e)),Ls()}function Ic(e){return Pc(e,(function(t){return vc(Om,e,t)}),ic)}function _c(e){return nt(D(Cc,e))}function xc(e){return nt(D(Rc,e))}function kc(e){return nt([cc(e)]).then(vc)}function Ac(e){var t=e.page;return jc(Ip,e,t,rc)}function Oc(){}function Lc(){return new dh}function Sc(e,t,s){e.emit(t,s)}function Dc(e,t,s){e.on(t,s)}function Vc(e,t){Sc(lh,e,t)}function Mc(e,t){Dc(lh,e,t)}function Fc(e){return{type:sb,content:e.url}}function Nc(e){var t={};return t.type=Hu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Bc(e){var t={};return t.type=zu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Uc(e){var t={};return t.type=ib,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Gc(e){var t={};return t.type=db,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function qc(e){var t={};return t.type=ub,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Hc(e){var t={};return t.type=nb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Kc(e){var t={};return t.type=rb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function zc(e){var t={};return t.type=tb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Wc(e){var t={};if(t.selector=e.selector,t.cssSelector=e.cssSelector,e.attribute===Eb)return t.type=Ju,t.content=e.value,t;t.type=Yu;var s={};return s[e.attribute]=e.value,t.content=s,t}function Yc(e){var t=e.style,s=void 0===t?{}:t,a={};return a.selector=e.selector,a.cssSelector=e.cssSelector,r(s.left)||r(s.top)?r(s.width)||r(s.height)?(a.type=Zu,a.content=s,a):(a.type=Qu,a.content=s,a):(a.type=Xu,a.content=s,a)}function Jc(e){var t={};return t.type=eb,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Zc(e){var t={};t.from=e.from,t.to=e.to;var s={};return s.type=$u,s.selector=e.selector,s.cssSelector=e.cssSelector,s.content=t,s}function $c(e){return cu(e.selector)&&cu(e.cssSelector)}function Qc(e){var t={};if(_(e))return t;var s=[],a=[],o=[];h((function(e){switch(e.action){case Ku:$c(e)?o.push(Nc(e)):s.push({type:Cb,content:e.content});break;case Wu:_(e.content)||h((function(e){return s.push({type:jb,content:e})}),e.content);break;case zu:o.push(Bc(e));break;case cb:o.push(Uc(e));break;case lb:o.push(Gc(e));break;case bb:o.push(qc(e));break;case nb:o.push(Hc(e));break;case rb:o.push(Kc(e));break;case tb:o.push(zc(e));break;case Yu:o.push(Wc(e));break;case Zu:o.push(Yc(e));break;case eb:o.push(Jc(e));break;case $u:o.push(Zc(e));break;case sb:s.push(Fc(e));break;case ab:a.push({type:Ib,selector:e.selector,eventToken:e.clickTrackId})}}),e);var n={};if(!_(o)&&s.push({type:Tm,content:o}),!_(s)&&(n.options=s),!_(a)&&(n.metrics=a),_(n))return t;var r={};return r.pageLoad=n,t.execute=r,t}function Xc(e,t){var s={};if(_(t))return s;var a=[],o=[];h((function(e){switch(e.action){case Ku:a.push({type:Cb,content:e.content});break;case Wu:_(e.content)||h((function(e){return a.push({type:jb,content:e})}),e.content);break;case sb:a.push(Fc(e));break;case ob:o.push({type:Ib,eventToken:e.clickTrackId})}}),t);var n={name:e};if(!_(a)&&(n.options=a),!_(o)&&(n.metrics=o),_(n))return s;var r={},i=[n];return r.mboxes=i,s.execute=r,s}function ed(e,t,s){return s?Qc(t):Xc(e,t)}function td(e){var t=e.status,s=e.data,a={status:t,pageLoad:!0};return r(s)||(a.data=s),a}function sd(e){var t=e.status,s=e.mbox,a=e.data,o={status:t,mbox:s.name};return r(a)||(o.data=a),o}function ad(e){var t=e.status,s=e.view,a=e.data,o={status:t,view:s.name};return r(a)||(o.data=a),o}function od(e){var t=e.status,s=e.data,a={status:t,prefetchMetrics:!0};return r(s)||(a.data=s),a}function nd(e){if(r(e))return[null];var t=D(td,[e]);return gh(t)&&Ge(uh,e),t}function rd(e){if(r(e))return[null];var t=D(sd,e);return gh(t)&&Ge(bh,e),t}function id(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yi;if(r(e))return[null];var s=D(sd,e);return gh(s)&&Ge(bh,e),t(e),s}function cd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$i;if(r(e))return[null];var s=D(ad,[e]);return gh(s)&&Ge(mh,e),e.view.page?(t(e),s):s}function dd(e){if(r(e))return[null];var t=D(od,[e]);return gh(t)&&Ge(ph,e),t}function ld(e){var t=f([nd(e[0]),rd(e[1]),id(e[2]),dd(e[3])]),s=p(Zf,t),a=p(Xf,s);return _(a)?st(s):at(a)}function ud(e){return at(e)}function bd(e,t){if(!_(t)){var s=t.options;_(s)||h((function(t){if(t.type===Cb){var s=Hu,a=t.content;t.type=Tm,t.content=[{type:s,selector:e,content:a}]}}),s)}}function md(e,t){var s=t.metrics;if(!_(s)){var a=t.name;h((function(t){t.name=a,t.selector=t.selector||e}),s)}}
function pd(e,t){var s=Gl.default({},t),a=s.execute,o=void 0===a?{}:a,n=s.prefetch,r=void 0===n?{}:n,i=o.pageLoad,c=void 0===i?{}:i,d=o.mboxes,l=void 0===d?[]:d,u=r.mboxes,b=void 0===u?[]:u;return bd(e,c),h((function(t){return bd(e,t)}),l),h((function(t){return md(e,t)}),l),h((function(t){return bd(e,t)}),b),h((function(t){return md(e,t)}),b),s}function gd(e){var t=e.prefetch,s=(void 0===t?{}:t).views,a=void 0===s?[]:s;_(a)||Si(a)}function fd(e){var t=[],s=e.execute,a=void 0===s?{}:s,o=a.pageLoad,n=void 0===o?{}:o,r=a.mboxes,i=void 0===r?[]:r;_(n)?t.push(st(null)):t.push(Ic(n)),_(i)?t.push(st(null)):t.push(_c(i));var c=e.prefetch,d=void 0===c?{}:c,l=d.mboxes,u=void 0===l?[]:l,b=d.metrics,m=void 0===b?[]:b;return _(u)?t.push(st(null)):t.push(xc(u)),Wl(m)&&!_(m)?t.push(kc(d)):t.push(st(null)),xs(),nt(t).then(ld).catch(ud)}function vd(e,t){B((function(){return e.location.replace(t)}))}function hd(e){return cu(e)||Mt(e)?e:_b}function Pd(e){hr(Sm,e)}function jd(e){var t=e.mbox,s=e.selector,a=e.offer,o=pe(),n=t===o[Um];if(_(a))return qe(um),Pd(s),xs(),void Dt({mbox:t});var r=pd(s,ed(t,a,n)),i=Bn(r);if(!_(i)){var c=i.url;return qe(bm,i),Vt({url:c}),void vd(dg,c)}Ot({mbox:t}),Ec(r),fd(r).then((function(e){_(e)||Lt({mbox:t,execution:e})})).catch((function(e){return St({error:e})}))}function Cd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prefetch,s=void 0===t?{}:t,a=e.execute,o=void 0===a?{}:a,n=o.pageLoad,r=void 0===n?{}:n,i=o.mboxes,c=void 0===i?[]:i,d=s.pageLoad,l=void 0===d?{}:d,u=s.views,b=void 0===u?[]:u,m=s.mboxes,p=void 0===m?[]:m;return _(r)&&_(c)&&_(l)&&_(b)&&_(p)}function Rd(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=e.selector,a=e.response;if(Cd(a))return qe(um),Pd(s),xs(),Dt({}),Vc(sg),st();var o=pd(s,a),n=Bn(o);if(!_(n)){var r=n.url;return qe(bm,n),Vt({url:r}),Vc(ag),vd(dg,r),st()}return Ot({}),gd(o),Vc(tg),Ec(o,t),fd(o).then((function(e){_(e)||Lt({execution:e})})).catch((function(e){return St({error:e})}))}function wd(e){var t=e[Qp];if(_(t))return!1;var s=t.request,a=t.response;return!_(s)&&!_(a)}function Ed(e){return e[Qp]}function yd(e){window.__target_telemetry.addServerStateEntry(e)}function Td(e){Ge(fh,Mp,e),Vc(sg),Je({source:fh,error:e}),xs()}function Id(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={selector:_b,response:e};qe(fh,xm,e),Je({source:fh,response:e}),Rd(s,t).catch(Td)}function _d(e,t){var s=Gl.default({},t),a=s.execute,o=s.prefetch,n=e[Cp],r=e[jp];return a&&(s.execute.mboxes=void 0),a&&!n&&(s.execute.pageLoad=void 0),o&&(s.prefetch.mboxes=void 0),o&&!r&&(s.prefetch.views=void 0),s}function xd(e){var t=Ed(e),s=t.request,a=t.response,o=!0;qe(fh,Up),Je({source:fh,serverState:t});var n=_d(e,a);Ec(n),yc(n),yd(s),dr({request:s,response:n}).then((function(e){return Id(e,o)})).catch(Td)}function kd(){if(!Ve()&&!Fe())return Ge(fh,Sb),void Je({source:fh,error:Sb});var e=pe();if(wd(e))xd(e);else{var t=e[Cp],s=e[jp];if(!t&&!s)return qe(fh,Bp),void Je({source:fh,error:Bp});_s();var a={};if(t){var o={pageLoad:{}};a.execute=o}if(s){var n={views:[{}]};a.prefetch=n}var r=e[Bm];qe(fh,km,a),Je({source:fh,request:a});var i={request:a,timeout:r};ut()&&!bt()?pt().then((function(){vr(i).then(Id).catch(Td)})).catch(Td):vr(i).then(Id).catch(Td)}}function Ad(){var e={};return e[vm]=!0,e}function Od(e){var t={};return t[vm]=!1,t[pm]=e,t}function Ld(e){return k(e)?Od(Gb):e.length>hb?Od(qb):Ad()}function Sd(e){if(!d(e))return Od(Vb);var t=Ld(e[Cm]);return t[vm]?l(e[hm])?l(e[pm])?Ad():Od(Kb):Od(Hb):t}function Dd(e){if(!d(e))return Od(Vb);var t=e.request;if(!d(t))return Od(Mb);var s=t.execute,a=t.prefetch;return d(s)||d(a)?Ad():Od(Nb)}function Vd(e){if(!d(e))return Od(Vb);var t=e.request;if(!d(t))return Od(Mb);var s=t.execute,a=t.prefetch,o=t.notifications;return d(s)||d(a)?Od(Bb):Wl(o)?Ad():Od(Ub)}function Md(e){if(!d(e))return Od(Vb);var t=Ld(e[Cm]);if(!t[vm])return t;var s=e[Rm];return Wl(s)?Ad():Od(zb)}function Fd(e){return d(e)?d(e.response)?Ad():Od(Fb):Od(Vb)}function Nd(e){if(!d(e))return Od(Vb);var t=Ld(e[Cm]);return t[vm]?Ad():t}function Bd(e){return{action:sb,url:e.content}}function Ud(e){var t={};return t.action=Ku,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Gd(e){var t={};return t.action=zu,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function qd(e){var t={};return t.action=cb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Hd(e){var t={};return t.action=lb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Kd(e){var t={};return t.action=bb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function zd(e){var t={};return t.action=nb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Wd(e){var t={};return t.action=rb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Yd(e){var t={};return t.action=tb,t.content=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Jd(e){var t=m(e.content)[0],s={};return s.action=Yu,s.attribute=t,s.value=e.content[t],s.selector=e.selector,s.cssSelector=e.cssSelector,s}function Zd(e){var t={};return t.action=Yu,t.attribute=Eb,t.value=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function $d(e){var t={};return t.action=Zu,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Qd(e){var t={};return t.action=Zu,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function Xd(e){var t={};return t.action=Zu,t.style=e.content,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function el(e){var t={};return t.action=eb,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function tl(e){var t={};return t.action=$u,t.from=e.content.from,t.to=e.content.to,t.selector=e.selector,t.cssSelector=e.cssSelector,t}function sl(e){var t=[];return h((function(e){switch(e.type){case Hu:t.push(Ud(e));break;case zu:t.push(Gd(e));break;case ib:t.push(qd(e));break;case db:t.push(Hd(e));break;case ub:t.push(Kd(e));break;case nb:t.push(zd(e));break;case rb:t.push(Wd(e));break;case tb:t.push(Yd(e));break;case Yu:t.push(Jd(e));break;case Ju:t.push(Zd(e));break;case Zu:t.push($d(e));break;case Qu:t.push(Qd(e));break;case Xu:t.push(Xd(e));break;case eb:t.push(el(e));break;case $u:t.push(tl(e));break;case sb:t.push(Bd(e))}}),e),t}function al(e){if(_(e))return[];var t=[];return h((function(e){e.type===Ib&&(mv(e)?t.push({action:ab,selector:e.selector,clickTrackId:e.eventToken}):t.push({action:ob,clickTrackId:e.eventToken}))}),e),t}function ol(e){if(_(e))return[];var t=[],s=[],a=[],o=e.options,n=void 0===o?[]:o,r=e.metrics,i=void 0===r?[]:r;h((function(e){switch(e.type){case Cb:t.push(e.content);break;case jb:s.push(e.content);break;case sb:a.push(Bd(e));break;case Tm:a.push.apply(a,sl(e.content))}}),n),_(t)||a.push({action:Ku,content:t.join("")}),_(s)||a.push({action:Wu,content:s});var c=al(i);return _(c)||a.push.apply(a,c),a}function nl(e){var t=e.execute,s=void 0===t?{}:t,a=s.pageLoad,o=void 0===a?{}:a,n=s.mboxes,r=void 0===n?[]:n,i=[];return i.push.apply(i,ol(o)),i.push.apply(i,f(D(ol,r))),i}function rl(e,t){var s=nl(t);e[hm](s)}function il(e,t){var s=t[Em]||fm;e[pm](s,t)}function cl(e){var t=Sd(e),s=t[pm];if(!t[vm])return Ge(vh,s),void Je({source:vh,options:e,error:s});if(!Ve()&&!Fe())return B(e[pm](gm,Sb)),Ge(vh,Sb),void Je({source:vh,options:e,error:Sb});var a=function(t){return rl(e,t)},o=function(t){return il(e,t)};qe(vh,e),Je({source:vh,options:e}),ut()&&!bt()?pt().then((function(){fr(e).then(a).catch(o)})):fr(e).then(a).catch(o)}function dl(e){var t=Dd(e),s=t[pm];return t[vm]?Ve()||Fe()?(qe(hh,e),Je({source:hh,options:e}),!ut()||bt()?vr(e):pt().then((function(){return vr(e)}))):(Ge(hh,Sb),Je({source:hh,options:e,error:Sb}),at(new Error(Sb))):(Ge(hh,s),Je({source:hh,options:e,error:s}),at(t))}function ll(e){var t=hd(e.selector),s=C(t);_u.timeStart(s);var a=Md(e),o=a[pm];if(!a[vm])return Ge(Ph,e,o),Je({source:Ph,options:e,error:o}),void Pd(t);if(!Ve()&&!Fe())return Ge(Ph,Sb),Je({source:Ph,options:e,error:Sb}),void Pd(t);e.selector=t,qe(Ph,e),Je({source:Ph,options:e}),jd(e);var n=_u.timeEnd(s);_u.clearTiming(s),window.__target_telemetry.addRenderEntry(s,n)}function ul(e){var t=hd(e.selector),s=C(t);_u.timeStart(s);var a=Fd(e),o=a[pm];return a[vm]?Ve()||Fe()?(e.selector=t,qe(jh,e),Je({source:jh,options:e}),Rd(e).then((function(){var e=_u.timeEnd(s);_u.clearTiming(s),window.__target_telemetry.addRenderEntry(s,e)}))):(Ge(jh,Sb),Je({source:jh,options:e,error:Sb}),Pd(t),at(new Error(Sb))):(Ge(jh,e,o),Je({source:jh,options:e,error:o}),Pd(t),at(a))}function bl(e){var t=pe()[Um],s=e.consumerId,a=void 0===s?t:s,o=e.request,n=Vd(e),r=n[pm];if(!n[vm])return Ge(Ch,r),void Je({source:Ch,options:e,error:r});if(!Ve()&&!Fe())return Ge(Ch,Sb),void Je({source:Ch,options:e,error:Sb});qe(Ch,e),Je({source:Ch,options:e});var i=Bi(a,{},o.notifications);!ut()||bt()?Ki(i):Ge(Ch,Zp)}function ml(e,t){var s=t[Cm],a=Gl.default({},t),o=d(t.params)?t.params:{};return a[ym]=Gl.default({},Ta(s),o),a[Bm]=so(e,t[Bm]),a[hm]=l(t[hm])?t[hm]:wu,a[pm]=l(t[pm])?t[pm]:wu,a}function pl(e){var t=e[Lu],s=e[Gu];return cu(t)&&(cu(s)||Mt(s))}function gl(e){var t=e.mbox,s=e.type,a=void 0===s?Lp:s,o=d(e.params)?e.params:{},n=Gl.default({},Ta(t),o),r=Gi(_o({},n),a,[]);if(r.mbox={name:t},Ki(Bi(t,n,[r])))return qe(dm,e),void e[hm]();Ge(lm,e),e[pm](fm,lm)}function fl(e){if(ut()&&!bt())return Ge(lm,Zp),void e[pm](pm,Zp);gl(e)}function vl(e){return fl(e),!e.preventDefault}function hl(e){var t=e[Gu],s=e[Lu],a=I(Ut(t)),o=function(){return vl(e)};h((function(e){return xi(s,o,e)}),a)}function Pl(e){var t=Nd(e),s=t[pm];if(!t[vm])return Ge(Rh,s),void Je({source:Rh,options:e,error:s});var a=ml(pe(),e);if(!Ve()&&!Fe())return Ge(Rh,Sb),B(a[pm](gm,Sb)),void Je({source:Rh,options:e,error:Sb});qe(Rh,a),Je({source:Rh,options:a}),pl(a)?hl(a):fl(a)}function jl(e){return Tc(e),Ac(e).then(cd).then((function(e){_(e)||Lt({execution:e})})).catch((function(e){Ge(Vp,e),St({error:e})}))}function Cl(){for(;Eh.length>0;){var e=Eh.pop(),t=e.viewName,s=e.page,a=Li(t,e);r(a)?s&&Zi(e):jl(a)}}function Rl(){Ih=Th,Cl()}function wl(){Mc(tg,Rl),Mc(sg,Rl),Mc(ag,Rl)}function El(e,t){var s={};return s.viewName=e,s.impressionId=re(),s.page=!0,_(t)||(s.page=!!t.page),s}function yl(e){Eh.push(e),Ih!==yh&&Cl()}function Tl(e,t){if(pe()[jp]){if(!j(e)||k(e))return Ge(wh,Fp,e),void Je({source:wh,view:e,error:Fp});var s=e.toLowerCase(),a=El(s,t);if(Fe())return qe(wh,s,a),void Qt(a);qe(wh,s,a),Je({source:wh,view:s,options:a}),yl(a)}else Ge(wh,Np)}function Il(){Ge(xh,arguments)}function _l(){Ge(kh,arguments)}function xl(){Ge(Ah,arguments)}function kl(){Ge(Oh,arguments)}function Al(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function Ol(){Object.keys(localStorage).filter(Sh).forEach((function(e){return localStorage.removeItem(e)}))}function Ll(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(e){Ol()}}function Sl(){function e(e){return Mh+":"+e}function t(e){var t=localStorage.getItem(e),s=parseInt(t,Vh);return Number.isNaN(s)&&(s=Dh),s}function s(e,t){localStorage.setItem(e,t)}function a(){var e=t(Nh)+1;return s(Nh,e),e}function o(t,s){Ll(e(t),s)}function n(t){var s=e(t),a=localStorage.getItem(s);return localStorage.removeItem(s),a}function r(){for(var e=[],a=t(Fh)||Dh,o=t(Nh)||Dh,r=o;r>a;r-=1){var i=n(r);i&&e.push(JSON.parse(i))}return s(Fh,o),e}function i(e){o(a(),e)}function c(){return r()}function d(){var s=e(t(Nh));return!!localStorage.getItem(s)}return{addEntry:i,getAndClearEntries:c,hasEntries:d}}function Dl(e){e.adobe=e.adobe||{},e.adobe.target={VERSION:"",event:{},getOffer:wu,getOffers:Eu,applyOffer:wu,applyOffers:Eu,sendNotifications:wu,trackEvent:wu,triggerView:wu,registerExtension:wu,init:wu},e.mboxCreate=wu,e.mboxDefine=wu,e.mboxUpdate=wu}function Vl(e,t,s){if(e.adobe&&e.adobe.target&&void 0!==e.adobe.target.getOffer)Ge(Db);else{me(s);var a=pe(),o=a[qm];if(e.adobe=e.adobe||{},e.adobe.target=e.adobe.target||{},e.adobe.target.VERSION=o,e.adobe.target.event={LIBRARY_LOADED:kg,REQUEST_START:Ag,REQUEST_SUCCEEDED:Og,REQUEST_FAILED:Lg,CONTENT_RENDERING_START:Sg,CONTENT_RENDERING_SUCCEEDED:Dg,CONTENT_RENDERING_FAILED:Vg,CONTENT_RENDERING_NO_OFFERS:Mg,CONTENT_RENDERING_REDIRECT:Fg},!a[Vm])return Dl(e),void Ge(Sb);We(),es(),cs(e),us(e),e.adobe.target.getOffer=cl,e.adobe.target.getOffers=dl,e.adobe.target.applyOffer=ll,e.adobe.target.applyOffers=ul,e.adobe.target.sendNotifications=bl,e.adobe.target.trackEvent=Pl,e.adobe.target.triggerView=Tl,e.adobe.target.registerExtension=Il,e.mboxCreate=_l,e.mboxDefine=xl,e.mboxUpdate=kl,e.__target_telemetry=$(a[rg]&&Al(),a[ng],Sl()),_t()}}var Ml=s("@adobe/reactor-object-assign"),Fl=s("@adobe/reactor-cookie"),Nl=s("@adobe/reactor-query-string"),Bl=s("@adobe/reactor-promise"),Ul=s("@adobe/reactor-load-script"),Gl=a(Ml),ql=a(Fl),Hl=a(Nl),Kl=a(Bl),zl=a(Ul),Wl=Array.isArray,Yl=Object.prototype,Jl=Yl.toString,Zl="[object Function]",$l=function(e,t){return t.forEach(e)},Ql=function(e,t){$l((function(s){return e(t[s],s)}),m(t))},Xl=function(e,t){return t.filter(e)},eu=function(e,t){var s={};return Ql((function(t,a){e(t,a)&&(s[a]=t)}),t),s},tu="[object String]",su=9007199254740991,au=function(e,t){return t.map(e)},ou=Object.prototype,nu=ou.hasOwnProperty,ru=String.prototype,iu=ru.trim,cu=function(e){return!k(e)},du="[object Number]",lu="[object Object]",uu=Function.prototype,bu=Object.prototype,mu=uu.toString,pu=bu.hasOwnProperty,gu=mu.call(Object),fu=function(e,t){var s={};return Ql((function(t,a){s[a]=e(t,a)}),t),s},vu=function(e,t,s){return s.reduce(e,t)},hu=function(e,t,s){var a=t;return Ql((function(t,s){a=e(a,t,s)}),s),a},Pu=Array.prototype,ju=Pu.reverse,Cu={ON_DEVICE:"on-device",SERVER_SIDE:"server-side",HYBRID:"hybrid"},Ru={EDGE:"edge",LOCAL:"local"},wu=function(){},Eu=function(e){return Promise.resolve(e)},yu=200,Tu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Iu=Q((function(e){(function(){var t,s,a,o,n,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-n)/1e6},s=process.hrtime,o=(t=function(){var e;return 1e9*(e=s())[0]+e[1]})(),r=1e9*process.uptime(),n=o-r):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(Tu)})),_u=X(),xu=ee,ku=new Uint8Array(256),Au=te(),Ou=ae(),Lu="type",Su="content",Du="height",Vu="width",Mu="left",Fu="top",Nu="from",Bu="to",Uu="priority",Gu="selector",qu="cssSelector",Hu="setHtml",Ku="setContent",zu="setText",Wu="setJson",Yu="setAttribute",Ju="setImageSource",Zu="setStyle",$u="rearrange",Qu="resize",Xu="move",eb="remove",tb="customCode",sb="redirect",ab="trackClick",ob="signalClick",nb="insertBefore",rb="insertAfter",ib="appendHtml",cb="appendContent",db="prependHtml",lb="prependContent",ub="replaceHtml",bb="replaceContent",mb="mboxDebug",pb="mboxDisable",gb="mboxEdit",fb="at_check",vb="true",hb=250,Pb="data-at-src",jb="json",Cb="html",Rb="dynamic",wb="script",Eb="src",yb="id",Tb="class",Ib="click",_b="head",xb="script",kb="style",Ab="link",Ob="img",Lb="div",Sb='Adobe Target content delivery is disabled. Ensure that you can save cookies to your current domain, there is no "mboxDisable" cookie and there is no "mboxDisable" parameter in query string.',Db="Adobe Target has already been initialized.",Vb="options argument is required",Mb="request option is required",Fb="response option is required",Nb="execute or prefetch is required",Bb="execute or prefetch is not allowed",Ub="notifications are required",Gb="mbox option is required",qb="mbox option is too long",Hb="success option is required",Kb="error option is required",zb="offer option is required",Wb="Unexpected error",Yb="request failed",Jb="request succeeded",Zb="Action rendered successfully",$b="Rendering action",Qb="Action has no content",Xb="Action has no attributes",em="Action has no CSS properties",tm="Action has no height or width",sm="Action has no left, top or position",am="Action has no from or to",om="Action has no url",nm="Action has no image url",rm="Rearrange elements are missing",im='Rearrange has incorrect "from" and "to" indexes',cm="Loading image",dm="Track event request succeeded",lm="Track event request failed",um="No actions to be rendered",bm="Redirect action",mm="Script load",pm="error",gm="warning",fm="unknown",vm="valid",hm="success",Pm="render",jm="metric",Cm="mbox",Rm="offer",wm="name",Em="status",ym="params",Tm="actions",Im="responseTokens",_m="data",xm="response",km="request",Am="provider",Om="pageLoad",Lm="at-flicker-control",Sm="at-element-marker",Dm="at-element-click-tracking",Vm="enabled",Mm="clientCode",Fm="imsOrgId",Nm="serverDomain",Bm="timeout",Um="globalMboxName",Gm="globalMboxAutoCreate",qm="version",Hm="defaultContentHiddenStyle",Km="bodyHiddenStyle",zm="bodyHidingEnabled",Wm="deviceIdLifetime",Ym="sessionIdLifetime",Jm="selectorsPollingTimeout",Zm="visitorApiTimeout",$m="overrideMboxEdgeServer",Qm="overrideMboxEdgeServerTimeout",Xm="optoutEnabled",ep="secureOnly",tp="supplementalDataIdParamTimeout",sp="authoringScriptUrl",ap="scheme",op="cookieDomain",np="mboxParams",rp="globalMboxParams",ip="mboxSession",cp="PC",dp="mboxEdgeCluster",lp="session",up="Traces",bp="settings",mp="client"+up,pp="server"+up,gp="___target_traces",fp="targetGlobalSettings",vp="dataProvider",hp=vp+"s",Pp="endpoint",jp="viewsEnabled",Cp="pageLoadEnabled",Rp="authState",wp="authenticatedState",Ep="integrationCode",yp="primary",Tp="page",Ip="view",_p="views",xp="options",kp="metrics",Ap="eventToken",Op="viewName",Lp="display",Sp="Content-Type",Dp="text/plain",Vp="View rendering failed",Mp="View delivery error",Fp="View name should be a non-empty string",Np="Views are not enabled",Bp="Page load disabled",Up="Using server state",Gp="adobe",qp="optIn",Hp="isApproved",Kp="fetchPermissions",zp="Categories",Wp="TARGET",Yp="ANALYTICS",Jp="optinEnabled",Zp="Adobe Target is not opted in",$p="analyticsLogging",Qp="serverState",Xp="cspScriptNonce",eg="cspStyleNonce",tg="cache-updated-event",sg="no-offers-event",ag="redirect-offer-event",og="None",ng="decisioningMethod",rg="telemetryEnabled",ig="web",cg=document,dg=window,lg="file:",ug=/^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,bg=/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i,mg={},pg=[Vm,Mm,Fm,Nm,op,Bm,np,rp,Hm,"defaultContentVisibleStyle",Wm,Km,zm,Jm,Zm,$m,Qm,Xm,Jp,ep,tp,sp,"urlSizeLimit",Pp,Cp,jp,$p,Qp,ng,"pollingInterval","artifactLocation","artifactFormat","artifactPayload","environment","cdnEnvironment",rg,"cdnBasePath",Xp,eg,Um],gg=Hl.default.parse,fg=Hl.default.stringify,vg=cg.createElement("a"),hg={},Pg=ql.default.get,jg=ql.default.set,Cg=ql.default.remove,Rg="mbox",wg="AT:",Eg="1",yg=function(e){var t=function(){function t(e){return null==e?String(e):$[Q.call(e)]||"object"}function s(e){return"function"==t(e)}function a(e){return null!=e&&e==e.window}function n(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function r(e){return"object"==t(e)}function i(e){return r(e)&&!a(e)&&Object.getPrototypeOf(e)==Object.prototype}function c(e){var t=!!e&&"length"in e&&e.length,s=I.type(e);return"function"!=s&&!a(e)&&("array"==s||0===t||"number"==typeof t&&t>0&&t-1 in e)}function d(e){return L.call(e,(function(e){return null!=e}))}function l(e){return e.length>0?I.fn.concat.apply([],e):e}function u(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function b(e){return e in M?M[e]:M[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function m(e,t){return"number"!=typeof t||F[u(e)]?t:t+"px"}function p(e){var t,s;return V[e]||(t=D.createElement(e),D.body.appendChild(t),s=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==s&&(s="block"),V[e]=s),V[e]}function g(e){return"children"in e?S.call(e.children):I.map(e.childNodes,(function(e){if(1==e.nodeType)return e}))}function f(e,t){var s,a=e?e.length:0;for(s=0;s<a;s++)this[s]=e[s];this.length=a,this.selector=t||""}function v(e,t,s){for(T in t)s&&(i(t[T])||se(t[T]))?(i(t[T])&&!i(e[T])&&(e[T]={}),se(t[T])&&!se(e[T])&&(e[T]=[]),v(e[T],t[T],s)):t[T]!==y&&(e[T]=t[T])}function h(e,t){return null==t?I(e):I(e).filter(t)}function P(e,t,a,o){return s(t)?t.call(e,a,o):t}function j(e,t,s){null==s?e.removeAttribute(t):e.setAttribute(t,s)}function C(e,t){var s=e.className||"",a=s&&s.baseVal!==y;if(t===y)return a?s.baseVal:s;a?s.baseVal=t:e.className=t}function R(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?I.parseJSON(e):e):e}catch(t){return e}}function w(e,t){t(e);for(var s=0,a=e.childNodes.length;s<a;s++)w(e.childNodes[s],t)}function E(e,t,s){var a=e.getElementsByTagName("script")[0];if(a){var o=a.parentNode;if(o){var n=e.createElement("script");n.innerHTML=t,cu(s)&&n.setAttribute("nonce",s),o.appendChild(n),o.removeChild(n)}}}var y,T,I,_,x,k,A=[],O=A.concat,L=A.filter,S=A.slice,D=e.document,V={},M={},F={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},N=/^\s*<(\w+|!)[^>]*>/,B=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,U=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,G=/^(?:body|html)$/i,q=/([A-Z])/g,H=["val","css","html","text","data","width","height","offset"],K=["after","prepend","before","append"],z=D.createElement("table"),W=D.createElement("tr"),Y={tr:D.createElement("tbody"),tbody:z,thead:z,tfoot:z,td:W,th:W,"*":D.createElement("div")},J=/complete|loaded|interactive/,Z=/^[\w-]*$/,$={},Q=$.toString,X={},ee=D.createElement("div"),te={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},se=Array.isArray||function(e){return e instanceof Array};return X.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var s=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(s)return s.call(e,t);var a,o=e.parentNode,n=!o;return n&&(o=ee).appendChild(e),a=~X.qsa(o,t).indexOf(e),n&&ee.removeChild(e),a},x=function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},k=function(e){return L.call(e,(function(t,s){return e.indexOf(t)==s}))},X.fragment=function(e,t,s){var a,o,n;return B.test(e)&&(a=I(D.createElement(RegExp.$1))),a||(e.replace&&(e=e.replace(U,"<$1></$2>")),t===y&&(t=N.test(e)&&RegExp.$1),t in Y||(t="*"),(n=Y[t]).innerHTML=""+e,a=I.each(S.call(n.childNodes),(function(){n.removeChild(this)}))),i(s)&&(o=I(a),I.each(s,(function(e,t){H.indexOf(e)>-1?o[e](t):o.attr(e,t)}))),a},X.Z=function(e,t){return new f(e,t)},X.isZ=function(e){return e instanceof X.Z},X.init=function(e,t){var a;if(!e)return X.Z();if("string"==typeof e)if("<"==(e=e.trim())[0]&&N.test(e))a=X.fragment(e,RegExp.$1,t),e=null;else{if(t!==y)return I(t).find(e);a=X.qsa(D,e)}else{if(s(e))return I(D).ready(e);if(X.isZ(e))return e;if(se(e))a=d(e);else if(r(e))a=[e],e=null;else if(N.test(e))a=X.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==y)return I(t).find(e);a=X.qsa(D,e)}}return X.Z(a,e)},(I=function(e,t){return X.init(e,t)}).extend=function(e){var t,s=S.call(arguments,1);return"boolean"==typeof e&&(t=e,e=s.shift()),s.forEach((function(s){v(e,s,t)})),e},X.qsa=function(e,t){var s,a="#"==t[0],o=!a&&"."==t[0],n=a||o?t.slice(1):t,r=Z.test(n);return e.getElementById&&r&&a?(s=e.getElementById(n))?[s]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:S.call(r&&!a&&e.getElementsByClassName?o?e.getElementsByClassName(n):e.getElementsByTagName(t):e.querySelectorAll(t))},I.contains=D.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},I.type=t,I.isFunction=s,I.isWindow=a,I.isArray=se,I.isPlainObject=i,I.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},I.isNumeric=function(e){var t=Number(e),s=o(e);return null!=e&&"boolean"!=s&&("string"!=s||e.length)&&!isNaN(t)&&isFinite(t)||!1},I.inArray=function(e,t,s){return A.indexOf.call(t,e,s)},I.camelCase=x,I.trim=function(e){return null==e?"":String.prototype.trim.call(e)},I.uuid=0,I.support={},I.expr={},I.noop=function(){},I.map=function(e,t){var s,a,o,n=[];if(c(e))for(a=0;a<e.length;a++)null!=(s=t(e[a],a))&&n.push(s);else for(o in e)null!=(s=t(e[o],o))&&n.push(s);return l(n)},I.each=function(e,t){var s,a;if(c(e)){for(s=0;s<e.length;s++)if(!1===t.call(e[s],s,e[s]))return e}else for(a in e)if(!1===t.call(e[a],a,e[a]))return e;return e},I.grep=function(e,t){return L.call(e,t)},e.JSON&&(I.parseJSON=JSON.parse),I.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){$["[object "+t+"]"]=t.toLowerCase()})),I.fn={constructor:X.Z,length:0,forEach:A.forEach,reduce:A.reduce,push:A.push,sort:A.sort,splice:A.splice,indexOf:A.indexOf,concat:function(){var e,t,s=[];for(e=0;e<arguments.length;e++)t=arguments[e],s[e]=X.isZ(t)?t.toArray():t;return O.apply(X.isZ(this)?this.toArray():this,s)},map:function(e){return I(I.map(this,(function(t,s){return e.call(t,s,t)})))},slice:function(){return I(S.apply(this,arguments))},ready:function(e){return J.test(D.readyState)&&D.body?e(I):D.addEventListener("DOMContentLoaded",(function(){e(I)}),!1),this},get:function(e){return e===y?S.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each((function(){null!=this.parentNode&&this.parentNode.removeChild(this)}))},each:function(e){for(var t,s=this.length,a=0;a<s&&(t=this[a],!1!==e.call(t,a,t));)a++;return this},filter:function(e){return s(e)?this.not(this.not(e)):I(L.call(this,(function(t){return X.matches(t,e)})))},add:function(e,t){return I(k(this.concat(I(e,t))))},is:function(e){return this.length>0&&X.matches(this[0],e)},not:function(e){var t=[];if(s(e)&&e.call!==y)this.each((function(s){e.call(this,s)||t.push(this)}));else{var a="string"==typeof e?this.filter(e):c(e)&&s(e.item)?S.call(e):I(e);this.forEach((function(e){a.indexOf(e)<0&&t.push(e)}))}return I(t)},has:function(e){return this.filter((function(){return r(e)?I.contains(this,e):I(this).find(e).size()}))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!r(e)?e:I(e)},last:function(){var e=this[this.length-1];return e&&!r(e)?e:I(e)},find:function(e){var t,s=this;return t=e?"object"==o(e)?I(e).filter((function(){var e=this;return A.some.call(s,(function(t){return I.contains(t,e)}))})):1==this.length?I(X.qsa(this[0],e)):this.map((function(){return X.qsa(this,e)})):I(),t},closest:function(e,t){var s=[],a="object"==o(e)&&I(e);return this.each((function(o,r){for(;r&&!(a?a.indexOf(r)>=0:X.matches(r,e));)r=r!==t&&!n(r)&&r.parentNode;r&&s.indexOf(r)<0&&s.push(r)})),I(s)},parents:function(e){for(var t=[],s=this;s.length>0;)s=I.map(s,(function(e){if((e=e.parentNode)&&!n(e)&&t.indexOf(e)<0)return t.push(e),e}));return h(t,e)},parent:function(e){return h(k(this.pluck("parentNode")),e)},children:function(e){return h(this.map((function(){return g(this)})),e)},contents:function(){return this.map((function(){return this.contentDocument||S.call(this.childNodes)}))},siblings:function(e){return h(this.map((function(e,t){return L.call(g(t.parentNode),(function(e){return e!==t}))})),e)},empty:function(){return this.each((function(){this.innerHTML=""}))},pluck:function(e){return I.map(this,(function(t){return t[e]}))},show:function(){return this.each((function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))}))},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=s(e);if(this[0]&&!t)var a=I(e).get(0),o=a.parentNode||this.length>1;return this.each((function(s){I(this).wrapAll(t?e.call(this,s):o?a.cloneNode(!0):a)}))},wrapAll:function(e){if(this[0]){var t;for(I(this[0]).before(e=I(e));(t=e.children()).length;)e=t.first();I(e).append(this)}return this},wrapInner:function(e){var t=s(e);return this.each((function(s){var a=I(this),o=a.contents(),n=t?e.call(this,s):e;o.length?o.wrapAll(n):a.append(n)}))},unwrap:function(){return this.parent().each((function(){I(this).replaceWith(I(this).children())})),this},clone:function(){return this.map((function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(e){return this.each((function(){var t=I(this);(e===y?"none"==t.css("display"):e)?t.show():t.hide()}))},prev:function(e){return I(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return I(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each((function(t){var s=this.innerHTML;I(this).empty().append(P(this,e,t,s))})):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each((function(t){var s=P(this,e,t,this.textContent);this.textContent=null==s?"":""+s})):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var s;return"string"!=typeof e||1 in arguments?this.each((function(s){if(1===this.nodeType)if(r(e))for(T in e)j(this,T,e[T]);else j(this,e,P(this,t,s,this.getAttribute(e)))})):0 in this&&1==this[0].nodeType&&null!=(s=this[0].getAttribute(e))?s:y},removeAttr:function(e){return this.each((function(){1===this.nodeType&&e.split(" ").forEach((function(e){j(this,e)}),this)}))},prop:function(e,t){return e=te[e]||e,1 in arguments?this.each((function(s){this[e]=P(this,t,s,this[e])})):this[0]&&this[0][e]},removeProp:function(e){return e=te[e]||e,this.each((function(){delete this[e]}))},data:function(e,t){var s="data-"+e.replace(q,"-$1").toLowerCase(),a=1 in arguments?this.attr(s,t):this.attr(s);return null!==a?R(a):y},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each((function(t){this.value=P(this,e,t,this.value)}))):this[0]&&(this[0].multiple?I(this[0]).find("option").filter((function(){return this.selected})).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each((function(e){var s=I(this),a=P(this,t,e,s.offset()),o=s.offsetParent().offset(),n={top:a.top-o.top,left:a.left-o.left};"static"==s.css("position")&&(n.position="relative"),s.css(n)}));if(!this.length)return null;if(D.documentElement!==this[0]&&!I.contains(D.documentElement,this[0]))return{top:0,left:0};var s=this[0].getBoundingClientRect();return{left:s.left+e.pageXOffset,top:s.top+e.pageYOffset,width:Math.round(s.width),height:Math.round(s.height)}},css:function(e,s){if(arguments.length<2){var a=this[0];if("string"==typeof e){if(!a)return;return a.style[x(e)]||getComputedStyle(a,"").getPropertyValue(e)}if(se(e)){if(!a)return;var o={},n=getComputedStyle(a,"");return I.each(e,(function(e,t){o[t]=a.style[x(t)]||n.getPropertyValue(t)})),o}}var r="";if("string"==t(e))s||0===s?r=u(e)+":"+m(e,s):this.each((function(){this.style.removeProperty(u(e))}));else for(T in e)e[T]||0===e[T]?r+=u(T)+":"+m(T,e[T])+";":this.each((function(){this.style.removeProperty(u(T))}));return this.each((function(){this.style.cssText+=";"+r}))},index:function(e){return e?this.indexOf(I(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&A.some.call(this,(function(e){return this.test(C(e))}),b(e))},addClass:function(e){return e?this.each((function(t){if("className"in this){_=[];var s=C(this);P(this,e,t,s).split(/\s+/g).forEach((function(e){I(this).hasClass(e)||_.push(e)}),this),_.length&&C(this,s+(s?" ":"")+_.join(" "))}})):this},removeClass:function(e){return this.each((function(t){if("className"in this){if(e===y)return C(this,"");_=C(this),P(this,e,t,_).split(/\s+/g).forEach((function(e){_=_.replace(b(e)," ")})),C(this,_.trim())}}))},toggleClass:function(e,t){return e?this.each((function(s){var a=I(this);P(this,e,s,C(this)).split(/\s+/g).forEach((function(e){(t===y?!a.hasClass(e):t)?a.addClass(e):a.removeClass(e)}))})):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===y?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===y?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){
var e=this[0],t=this.offsetParent(),s=this.offset(),a=G.test(t[0].nodeName)?{top:0,left:0}:t.offset();return s.top-=parseFloat(I(e).css("margin-top"))||0,s.left-=parseFloat(I(e).css("margin-left"))||0,a.top+=parseFloat(I(t[0]).css("border-top-width"))||0,a.left+=parseFloat(I(t[0]).css("border-left-width"))||0,{top:s.top-a.top,left:s.left-a.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||D.body;e&&!G.test(e.nodeName)&&"static"==I(e).css("position");)e=e.offsetParent;return e}))}},I.fn.detach=I.fn.remove,["width","height"].forEach((function(e){var t=e.replace(/./,(function(e){return e[0].toUpperCase()}));I.fn[e]=function(s){var o,r=this[0];return s===y?a(r)?r["inner"+t]:n(r)?r.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each((function(t){(r=I(this)).css(e,P(this,s,t,r[e]()))}))}})),K.forEach((function(e,s){var a=s%2;I.fn[e]=function(){var e,o,n=I.map(arguments,(function(s){var a=[];return"array"==(e=t(s))?(s.forEach((function(e){return e.nodeType!==y?a.push(e):I.zepto.isZ(e)?a=a.concat(e.get()):void(a=a.concat(X.fragment(e)))})),a):"object"==e||null==s?s:X.fragment(s)})),r=this.length>1;return n.length<1?this:this.each((function(e,t){o=a?t:t.parentNode,t=0==s?t.nextSibling:1==s?t.firstChild:2==s?t:null;var i=I.contains(D.documentElement,o),c=/^(text|application)\/(javascript|ecmascript)$/,d=pe(),l=d[Xp],u=d[eg];n.forEach((function(e){if(r)e=e.cloneNode(!0);else if(!o)return I(e).remove();cu(l)&&"SCRIPT"===e.tagName&&e.setAttribute("nonce",l),cu(u)&&"STYLE"===e.tagName&&e.setAttribute("nonce",u),o.insertBefore(e,t),i&&w(e,(function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&!c.test(e.type.toLowerCase())||e.src||E(D,e.innerHTML,e.nonce)}))}))}))},I.fn[a?e+"To":"insert"+(s?"Before":"After")]=function(t){return I(t)[e](this),this}})),X.Z.prototype=f.prototype=I.fn,X.uniq=k,X.deserializeValue=R,I.zepto=X,I}();return function(t){function s(e){return e._zid||(e._zid=m++)}function a(e,t,a,r){if((t=o(t)).ns)var i=n(t.ns);return(v[s(e)]||[]).filter((function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||i.test(e.ns))&&(!a||s(e.fn)===s(a))&&(!r||e.sel==r)}))}function o(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function n(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function r(e,t){return e.del&&!P&&e.e in j||!!t}function i(e){return C[e]||P&&j[e]||e}function c(e,a,n,c,d,u,m){var p=s(e),g=v[p]||(v[p]=[]);a.split(/\s/).forEach((function(s){if("ready"==s)return t(document).ready(n);var a=o(s);a.fn=n,a.sel=d,a.e in C&&(n=function(e){var s=e.relatedTarget;if(!s||s!==this&&!t.contains(this,s))return a.fn.apply(this,arguments)}),a.del=u;var p=u||n;a.proxy=function(t){if(!(t=l(t)).isImmediatePropagationStopped()){t.data=c;var s=p.apply(e,t._args==b?[t]:[t].concat(t._args));return!1===s&&(t.preventDefault(),t.stopPropagation()),s}},a.i=g.length,g.push(a),"addEventListener"in e&&e.addEventListener(i(a.e),a.proxy,r(a,m))}))}function d(e,t,o,n,c){var d=s(e);(t||"").split(/\s/).forEach((function(t){a(e,t,o,n).forEach((function(t){delete v[d][t.i],"removeEventListener"in e&&e.removeEventListener(i(t.e),t.proxy,r(t,c))}))}))}function l(e,s){if(s||!e.isDefaultPrevented){s||(s=e),t.each(y,(function(t,a){var o=s[t];e[t]=function(){return this[a]=R,o&&o.apply(s,arguments)},e[a]=w}));try{e.timeStamp||(e.timeStamp=(new Date).getTime())}catch(e){}(s.defaultPrevented!==b?s.defaultPrevented:"returnValue"in s?!1===s.returnValue:s.getPreventDefault&&s.getPreventDefault())&&(e.isDefaultPrevented=R)}return e}function u(e){var t,s={originalEvent:e};for(t in e)E.test(t)||e[t]===b||(s[t]=e[t]);return l(s,e)}var b,m=1,p=Array.prototype.slice,g=t.isFunction,f=function(e){return"string"==typeof e},v={},h={},P="onfocusin"in e,j={focus:"focusin",blur:"focusout"},C={mouseenter:"mouseover",mouseleave:"mouseout"};h.click=h.mousedown=h.mouseup=h.mousemove="MouseEvents",t.event={add:c,remove:d},t.proxy=function(e,a){var o=2 in arguments&&p.call(arguments,2);if(g(e)){var n=function(){return e.apply(a,o?o.concat(p.call(arguments)):arguments)};return n._zid=s(e),n}if(f(a))return o?(o.unshift(e[a],e),t.proxy.apply(null,o)):t.proxy(e[a],e);throw new TypeError("expected function")},t.fn.bind=function(e,t,s){return this.on(e,t,s)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,s,a){return this.on(e,t,s,a,1)};var R=function(){return!0},w=function(){return!1},E=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,y={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,t,s){return this.on(t,e,s)},t.fn.undelegate=function(e,t,s){return this.off(t,e,s)},t.fn.live=function(e,s){return t(document.body).delegate(this.selector,e,s),this},t.fn.die=function(e,s){return t(document.body).undelegate(this.selector,e,s),this},t.fn.on=function(e,s,a,o,n){var r,i,l=this;return e&&!f(e)?(t.each(e,(function(e,t){l.on(e,s,a,t,n)})),l):(f(s)||g(o)||!1===o||(o=a,a=s,s=b),o!==b&&!1!==a||(o=a,a=b),!1===o&&(o=w),l.each((function(l,b){n&&(r=function(e){return d(b,e.type,o),o.apply(this,arguments)}),s&&(i=function(e){var a,n=t(e.target).closest(s,b).get(0);if(n&&n!==b)return a=t.extend(u(e),{currentTarget:n,liveFired:b}),(r||o).apply(n,[a].concat(p.call(arguments,1)))}),c(b,e,o,a,s,i||r)})))},t.fn.off=function(e,s,a){var o=this;return e&&!f(e)?(t.each(e,(function(e,t){o.off(e,s,t)})),o):(f(s)||g(a)||!1===a||(a=s,s=b),!1===a&&(a=w),o.each((function(){d(this,e,a,s)})))},t.fn.trigger=function(e,s){return(e=f(e)||t.isPlainObject(e)?t.Event(e):l(e))._args=s,this.each((function(){e.type in j&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,s)}))},t.fn.triggerHandler=function(e,s){var o,n;return this.each((function(r,i){(o=u(f(e)?t.Event(e):e))._args=s,o.target=i,t.each(a(i,e.type||e),(function(e,t){if(n=t.proxy(o),o.isImmediatePropagationStopped())return!1}))})),n},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach((function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}})),t.Event=function(e,t){f(e)||(e=(t=e).type);var s=document.createEvent(h[e]||"Events"),a=!0;if(t)for(var o in t)"bubbles"==o?a=!!t[o]:s[o]=t[o];return s.initEvent(e,a,!0),l(s)}}(t),function(){try{getComputedStyle(void 0)}catch(s){var t=getComputedStyle;e.getComputedStyle=function(e,s){try{return t(e,s)}catch(e){return null}}}}(),function(e){var t=e.zepto,s=t.qsa,a=/^\s*>/,o=":shadow",n="Zepto"+ +new Date,r=function(t,o){var r,i,c=o;try{c?a.test(c)&&(i=e(t).addClass(n),c="."+n+" "+c):c="*",r=s(t,c)}catch(e){throw e}finally{i&&i.removeClass(n)}return r};t.qsa=function(e,t){var s=t.split(o);if(s.length<2)return r(e,t);for(var a=e,n=0;n<s.length;n++){var i=s[n].trim();if(0===i.indexOf(">")){var c=":host ";(a instanceof Element||a instanceof HTMLDocument)&&(c=":scope "),i=c+i}var d=r(a,i);if(0===d.length||!d[0]||!d[0].shadowRoot)return d;a=d[0].shadowRoot}}}(t),t}(window),Tg=dg.MutationObserver||dg.WebkitMutationObserver,Ig="Expected an array of promises";Kl.default._setImmediateFn&&et();var _g=re(),xg=/.*\.(\d+)_\d+/;Et(dg,cg);var kg="at-library-loaded",Ag="at-request-start",Og="at-request-succeeded",Lg="at-request-failed",Sg="at-content-rendering-start",Dg="at-content-rendering-succeeded",Vg="at-content-rendering-failed",Mg="at-content-rendering-no-offers",Fg="at-content-rendering-redirect",Ng=":eq(",Bg=")",Ug=Ng.length,Gg=/((\.|#)(-)?\d{1})/g,qg="Unable to load target-vec.js",Hg="Loading target-vec.js",Kg="_AT",zg="clickHandlerForExperienceEditor",Wg="currentView",Yg="at_qa_mode",Jg="at_preview_token",Zg="at_preview_index",$g="at_preview_listed_activities_only",Qg="at_preview_evaluate_as_true_audience_ids",Xg="at_preview_evaluate_as_false_audience_ids",ef="_",tf=function(e){return!r(e)},sf="at_preview_mode",af="at_preview",of="at-",nf="at-body-style",rf="#"+nf,cf=of+"views",df="Disabled due to optout",lf="MCAAMB",uf="MCAAMLH",bf="MCMID",mf="MCOPTOUT",pf="getSupplementalDataID",gf="getCustomerIDs",ff=!0,vf="NS",hf="DS",Pf="trackingServer",jf=Pf+"Secure",Cf="Visitor",Rf="getInstance",wf="isAllowed",Ef="Visitor API requests timed out",yf="Visitor API requests error",Tf={},If="Data provider",_f="timed out",xf=2e3,kf="authorization",Af="mboxDebugTools",Of=Ia(),Lf="profile.",Sf="mbox3rdPartyId",Df="at_property",Vf="orderId",Mf="orderTotal",Ff="productPurchasedId",Nf="productId",Bf="categoryId",Uf="POST",Gf="Network request failed",qf="Request timed out",Hf="Malformed response JSON",Kf="mboxedge",zf=".tt.omtrdc.net",Wf=function(e){return!_(e)},Yf=function(e){return function(t){return t[e]}},Jf=function(e){return function(t){return!e(t)}},Zf=Jf(r),$f=Jf(k),Qf=function(e){return function(t){return p(e,t)}},Xf=function(e){return e.status===pm},ev=function(e){return e.type===Tm},tv=function(e){return e.type===sb},sv=Qf(Zf),av=Qf($f),ov=Yf(xp),nv=Yf(Su),rv=Yf(Ap),iv=Yf(Im),cv=function(e){return cu(e.name)},dv=function(e){return!r(e.index)},lv=function(e){return d(e)&&cv(e)},uv=function(e){return d(e)&&cv(e)&&dv(e)},bv=function(e){return d(e)&&cv(e)},mv=function(e){return cu(e.selector)},pv=Yf(_m),gv=v([pv,Zf]),fv="adobe_mc_sdid",vv="Network request failed",hv="Request timed out",Pv="URL is required",jv="GET",Cv="POST",Rv="method",wv="url",Ev="headers",yv="data",Tv="credentials",Iv="timeout",_v="async",xv=/CLKTRK#(\S+)/,kv=/CLKTRK#(\S+)\s/,Av=function(e){return!r(e)},Ov="visibilityState",Lv="visible",Sv=100,Dv=xb+","+Ab+","+kb,Vv="at-action-key",Mv="metric element not found",Fv="navigator",Nv="sendBeacon",Bv="Beacon data sent",Uv="Beacon data sent failed",Gv="View triggered notification",qv="View rendered notification",Hv="Mboxes rendered notification",Kv="Event handler notification",zv="Mbox event handler notification",Wv="View event handler notification",Yv="prefetchMboxes",Jv="rendered",Zv="triggered",$v={},Qv="pageLoadMetrics",Xv="prefetchMetrics",eh=Yf(kp),th=function(){return No(jm)},sh=function(e){return Bo(jm,e)},ah=Yf(Su),oh=Yf(qu),nh=function(e){return No(Pm,e)},rh=function(e){return Bo(Pm,e)},ih=function(e){return Jf(Xf)(e)&&gv(e)},ch={exports:{}};Oc.prototype={on:function(e,t,s){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:s}),this},once:function(e,t,s){function a(){o.off(e,a),t.apply(s,arguments)}var o=this;return a._=t,this.on(e,a,s)},emit:function(e){for(var t=[].slice.call(arguments,1),s=((this.e||(this.e={}))[e]||[]).slice(),a=0,o=s.length;a<o;a++)s[a].fn.apply(s[a].ctx,t);return this},off:function(e,t){var s=this.e||(this.e={}),a=s[e],o=[];if(a&&t)for(var n=0,r=a.length;n<r;n++)a[n].fn!==t&&a[n].fn._!==t&&o.push(a[n]);return o.length?s[e]=o:delete s[e],this}},ch.exports=Oc,ch.exports.TinyEmitter=Oc;var dh=ch.exports,lh=Lc(),uh="Page load rendering failed",bh="Mboxes rendering failed",mh="View rendering failed",ph="Prefetch rendering failed",gh=function(e){return!_(p(Xf,e))},fh="[page-init]",vh="[getOffer()]",hh="[getOffers()]",Ph="[applyOffer()]",jh="[applyOffers()]",Ch="[sendNotifications()]",Rh="[trackEvent()]",wh="[triggerView()]",Eh=[],yh=0,Th=1,Ih=yh;wl();var _h="function has been deprecated. Please use getOffer() and applyOffer() functions instead.",xh="adobe.target.registerExtension() function has been deprecated. Please review the documentation for alternatives.",kh="mboxCreate() "+_h,Ah="mboxDefine() "+_h,Oh="mboxUpdate() "+_h,Lh=/^tgt:.+/i,Sh=function(e){return Lh.test(e)},Dh=-1,Vh=10,Mh="tgt:tlm",Fh=Mh+":lower",Nh=Mh+":upper",Bh={init:Vl,initConfig:me,initDelivery:kd};e.exports=Bh}},"adobe-target-v2/lib/messages.js":{script:function(e){"use strict";e.exports={ALREADY_INITIALIZED:"AT: Adobe Target has already been initialized.",DELIVERY_DISABLED:"AT: Adobe Target content delivery is disabled. Update your DOCTYPE to support Standards mode.",NO_REQUEST:"AT: Target library is either not loaded or disabled, no request will be executed"}}},"adobe-target-v2/lib/modules/params-store.js":{script:function(e,t,s){"use strict";function a(e){return void 0!==e&&null!=e&&Object.prototype.hasOwnProperty.call(e,"value")&&null!=e.checked}function o(e){var t={};return Object.keys(e).forEach((function(s){var o=e[s];if(a(o)){var n=o.checked,r=o.value;n&&""===r||(t[s]=r)}else t[s]=o})),t}function n(e){var t=o(e);d(l,t)}function r(e){var t=o(e);d(u,t)}function i(){return l}function c(){return u}var d=s("./object-override"),l={},u={};e.exports={mergeParams:n,mergePageLoadParams:r,getParams:i,getPageLoadParams:c}}},"adobe-target-v2/lib/targetSettings.js":{script:function(e,t,s,a){"use strict";var o=a.getExtensionSettings(),n=o.targetSettings||{};e.exports={extensionSettings:o,targetSettings:n}}},"adobe-target-v2/lib/modules/object-override.js":{script:function(e){"use strict";function t(e,t,s,a){t[s]!==a&&(e[s]=t[s])}function s(e){return!Array.isArray(this.subset)||-1!==this.subset.indexOf(e)}e.exports=function(e,a,o){Object.keys(a).filter(s,{subset:o}).forEach((function(s){t(e,a,s)}))}}},"adobe-target-v2/lib/librarySettings.js":{script:function(e){"use strict";var t={version:"2.8.1"};e.exports={TARGET_DEFAULT_SETTINGS:t}}},"adobe-target-v2/lib/modules/event-util.js":{script:function(e){"use strict";function t(e,t,s){e.addEventListener(t,s)}function s(e,t,s){e.removeEventListener(t,s)}e.exports={addEventListener:t,removeEventListener:s}}},"adobe-target-v2/lib/modules/page-load.js":{script:function(e,t,s){"use strict";var a=s("../librarySettings"),o=s("@adobe/reactor-window"),n=s("./object-override"),r=s("./params-store"),i=r.getParams,c=r.getPageLoadParams,d=s("../targetSettings").targetSettings;e.exports=function(e){return d.mboxParams=i(),d.globalMboxParams=c(),n(d,e,["bodyHidingEnabled","bodyHiddenStyle"]),n(d,o.targetGlobalSettings||{},["enabled","bodyHidingEnabled","bodyHiddenStyle"]),n(d,a.TARGET_DEFAULT_SETTINGS||{},["version"]),d}}}}},"common-analytics-plugins":{displayName:"Common Analytics Plugins",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EPb691af6ae5364085b2c253385a4dda8d/",settings:{ns:{id:"ns",obj:"window",desc:"The Numbers Suite is a series of plugins that allow for...<ol><li>zeroPad - a number of zeroes to the beginning of a number</li><li>randomNumber - generate a random number with a specific number of digits</li><li>twoDecimals - round a number to the closest hundreth (for currency)</li></ol><p>This plugin suite is depricated.</p>",name:"Numbers Suite",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/numberssuite.html",version:"1.0",depricated:!0},pt:{id:"pt",obj:"tracker",desc:"Executes a function on a list of Adobe Analytics variables. For example, the following function will run the clearVars function three times, once using eVar1 as the argument, once using eVar4 as the argument, and once using eVar29 as the argument. The end result clear out the values of eVar1, eVar4 & eVar29. s.pt('eVar1,eVar4,eVar29', ',', 'clearVars');",name:"pt",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/pt-plugin.html",version:"3.0",depricated:!1},apl:{id:"apl",obj:"tracker",desc:'Add new values to list-delimited variables (e.g. events, linkTrackVars, listVars, etc.). This plugin requires "inList" to be initialized as well.',name:"Append To List",display:!0,version:"4.0",depricated:!1},rfl:{id:"rfl",obj:"tracker",desc:"Remove values from list-delimited variables (e.g. s.events, s.linkTrackVars, listVars, etc.).",name:"Remove From List",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/removefromlist.html",version:"2.1",depricated:!1},p_fo:{id:"fpo",obj:"tracker",desc:"Checks for the existence of a specific JavaScript object. If the object doesn't exist, the plugin creates the object and returns the value of true. This would be the first and only time the plugin would create this object on the current page (hence the name, pageFirstOnly). If the JavaScript object already exists on the page, the function will return the value of false.",name:"First Page Only",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/p-fo.html",version:"3.0",depricated:!1},inList:{id:"il",obj:"tracker",desc:"Check whether a value already exists within either a delimited list of values or a JavaScript array object.",name:"In List",display:!0,version:"3.0",depricated:!1},zeroPad:{display:!1,version:"1.0",depricated:!0},cleanStr:{id:"cs",obj:"window",desc:"Remove unnecessary characters from a string (or string variable), including HTML tag characters, Extra whitespaces (including double spaces), Left/right single quotes (\u2018\u2019) (replaced with straight single quotes), Tabs, Newlines/Carriage Returns. ",name:"Clean String",display:!0,version:"2.0",depricated:!1},formatTime:{id:"ft",obj:"tracker",desc:'Take a specified number of seconds and present them in a bucketed format, rounded to a benchmark value that you specify. The "inList" plugin is required by this plugin. This plugin requires "inList" to be initialized as well.',name:"Format Time",display:!0,version:"2.0",depricated:!1},getValOnce:{id:"gvo",obj:"tracker",desc:"Prevents a variable from being set equal to the same value on consecutive calls.",name:"Value Once",display:!0,version:"3.0",depricated:!1},manageVars:{id:"mv",obj:"tracker",desc:"Manipulate the values of multiple Adobe Analytics variables at one time; this version includes specific functionality to lowercase or remove unnecessary characters from multiple variable values at the same time.",name:"Manage Variables",display:!0,version:"3.0",depricated:!1},getPageName:{id:"gpn",obj:"window",desc:'Creates a value that can be inserted into the Adobe Analytics pageName variable and that is an easy-to-read, "friendly"-formatted version of the current URL.',name:"Page Name",display:!0,version:"4.2",depricated:!1,dataElement:!0},getVisitNum:{id:"gvn",obj:"tracker",desc:'Visit number for all visitors that come to the site within a specific time period (e.g. "x" number of days).',name:"Visit Number",display:!0,version:"4.2",depricated:!1,dataElement:!0},twoDecimals:{display:!1,version:"1.0",depricated:!0},getNewRepeat:{id:"gnr",obj:"tracker",desc:"Determines whether a visitor to the site is a new visitor or a repeat visitor within the number of days that is specified in the plugin call.",name:"New Repeat",display:!0,version:"3.0",depricated:!1,dataElement:!0},randomNumber:{display:!1,version:"1.0",depricated:!0},getQueryParam:{id:"gqp",obj:"tracker",desc:'Case-insensitively extract the value of any query string parameter contained in a URL. This plugin requires "pt" to be initialized as well.',name:"Query Parameter",display:!0,version:"4.0.1",depricated:!1},lowerCaseVars:{display:!1,version:"1.0",depricated:!1},addProductEvar:{id:"apv",obj:"tracker",desc:"Easily add an Adobe Analytics merchandising eVar that uses product syntax to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product eVar",display:!0,version:"2.0",depricated:!1},getTimeParting:{id:"gtp",obj:"window",desc:"Capture the details of the time when any measurable activity takes place on its site.",name:"Time Parting",display:!0,version:"6.3",depricated:!1,dataElement:!0},addProductEvent:{id:"ape",obj:"tracker",desc:"Easily add an Adobe Analytics custom numeric event or custom currency event to the products variable (s.products) without worrying whether the already-existing contents of the variable will be changed/moved/deleted.",name:"Add Product Event",display:!0,version:"2.0",depricated:!1},endOfDatePeriod:{id:"eodp",display:!1,version:"1.2",depricated:!1},getPageLoadTime:{id:"gplt",obj:"tracker",desc:'Uses the JavaScript performance object to allow you to measure the amount of time a page takes to load completely. This plugin requires "p_fo" to be initialized as well.',name:"Page Load Time",display:!0,version:"2.0",depricated:!1},handlePPVevents:{display:!1,version:"4.0",depricated:!1},getPreviousValue:{id:"gpv",obj:"tracker",desc:'Set an Analytics variable equal to the value of a variable that was set on a previous page or contained in a previous image request. This plugin requires "p_fo" to be initialized as well.',name:"Previous Value",display:!0,version:"3.0",depricated:!1},getVisitDuration:{id:"gvd",obj:"tracker",desc:"Amount of time (in minutes) that the visitor has been on the site up to that point.",name:"Visit Duration",display:!0,version:"2.1",depricated:!1,dataElement:!0},performanceCheck:{display:!1,version:"1.0",depricated:!1},getGeoCoordinates:{id:"ggc",obj:"tracker",desc:"Returns the geographic location (latitude and longitude) of the visitors device.",name:"Geographic Coordinates",display:!0,version:"2.0",depricated:!1,dataElement:!0},getTimeToComplete:{id:"gttc",obj:"tracker",desc:'Time a user takes to complete a process on a site. The "clock" begins when the "start" action is called and ends when the "stop" action is called. This plugin requires "pt" to be initialized as well.',name:"Time To Complete",display:!0,version:"4.0",depricated:!1},getAndPersistValue:{id:"gapv",obj:"tracker",desc:"Stores a value in a cookie that can be retrieved later during a visit.",name:"Persist Value",display:!0,version:"3.0",depricated:!1},getResponsiveLayout:{id:"grl",obj:"window",desc:"Which version of your responsive design-based website a visitor is currently looking at.",name:"Responsive Layout",display:!0,version:"1.1",depricated:!1,dataElement:!0},getPercentPageViewed:{id:"gppv",obj:"tracker",desc:"Measures a visitor's scroll activity to see how much of the page they viewed before moving to another page.",name:"Percent Page Viewed",display:!0,version:"5.0",depricated:!1},getTimeBetweenEvents:{id:"gtbe",obj:"tracker",desc:'Amount of time between two different Adobe Analytics events (custom or otherwise). This plugin requires "inList" to be initialized as well.',name:"Time Between Events",display:!0,version:"3.0",depricated:!1},performanceWriteFull:{display:!1,version:"1.0",depricated:!1},performanceWritePart:{display:!1,version:"1.0",depricated:!1},getDaysSinceLastVisit:{id:"gdslv",obj:"tracker",desc:"Returns the number of days since the visitor's last (most recent) visit. This plugin is deprecated. Adobe recommends using the getTimeSinceLastVisit plugin instead.",name:"Days Since Last Visit",display:!0,doclink:"//docs.adobe.com/content/help/en/analytics/implementation/vars/plugins/gettimesincelastvisit.html",version:"3.0",depricated:!0},getTimeSinceLastVisit:{id:"gtslv",obj:"tracker",desc:"Returns the time since the visitor's last (most recent) visit.",name:"Time Since Last Visit",display:!0,version:"2.0",depricated:!1}},modules:{"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js":{name:"initialize-getpreviousvalue",displayName:"Initialize getPreviousValue",script:function(e,t,s){"use strict";s("./common").init("getPreviousValue","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeGetTimeParting.js":{name:"initialize-gettimeparting",displayName:"Initialize getTimeParting",script:function(e,t,s){"use strict";s("./common").init("getTimeParting","window"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeRfl.js":{name:"initialize-rfl",displayName:"Initialize RFL (Remove From List)",script:function(e,t,s){"use strict";s("./common").init("rfl","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/actions/initializeApl.js":{name:"initialize-apl",displayName:"Initialize APL (Append To List)",script:function(e,t,s){"use strict";s("./common").init("apl","analytics"),s("./common").init("inList","analytics"),e.exports=function(){}}},"common-analytics-plugins/src/lib/main-module.js":{script:function(e,t,s,a){"use strict";a.getSharedModule("adobe-analytics","get-tracker")||a.logger.error('The "Adobe Analytics" extension must be installed in the Launch web property ('+_satellite.property.name+') in order to use the "Common Analytics Plugins" extension'),a.getSharedModule("adobe-analytics","augment-tracker")((function(e){if("object"==typeof e.contextData&&"object"==typeof window.aaPlugins)for(var t in window.aaPlugins)e.contextData[t]=window.aaPlugins[t]}))}},"common-analytics-plugins/src/lib/actions/common.js":{script:function(e,t,s,a){"use strict";var o=function(e,t){return"analytics"===e||void 0===e?t:"window"===e?window:null},n=function(e,t,a){t[e]=s("../plugins/allPlugins")[e];var o=a.contextData||{},n=r(e,t);"n/a"===n.version&&(n=i(e)),o[e]=n.version},r=function(e,t){var s,a={plugin:e,version:"n/a"};try{s=t[e]("-v")}catch(e){s={}}try{("string"!=typeof s.plugin||s.plugin.length<1)&&(s=a)}catch(e){s=a}return s},i=function(e){var t=a.getExtensionSettings(),s={plugin:e,version:"n/a"};try{s.version=t[e].version}catch(e){s.version="n/a"}return s};e.exports.init=function(e,t){a.getSharedModule("adobe-analytics","augment-tracker")((function(s){s&&(t=o(t,s),e&&t&&n(e,t,s))}))},e.exports.initMany=function(e){var t;a.getSharedModule("adobe-analytics","augment-tracker")((function(s){if(s)for(var a=0;a<e.length;a++)t=o(e[a].obj,s),e[a].pname&&t&&n(e[a].pname,t,s)}))}}},"common-analytics-plugins/src/lib/plugins/allPlugins.js":{script:function(e,t,s){e.exports.addProductEvar=s("./addProductEvar").addProductEvar,e.exports.addProductEvent=s("./addProductEvent").addProductEvent,e.exports.apl=s("./apl").apl,e.exports.cleanStr=s("./cleanStr").cleanStr,e.exports.endOfDatePeriod=s("./endOfDatePeriod").endOfDatePeriod,e.exports.formatTime=s("./formatTime").formatTime,e.exports.getAndPersistValue=s("./getAndPersistValue").getAndPersistValue,e.exports.getDaysSinceLastVisit=s("./getDaysSinceLastVisit").getDaysSinceLastVisit,e.exports.getGeoCoordinates=s("./getGeoCoordinates").getGeoCoordinates,e.exports.getNewRepeat=s("./getNewRepeat").getNewRepeat,e.exports.getPageLoadTime=s("./getPageLoadTime").getPageLoadTime,e.exports.getPageName=s("./getPageName").getPageName,e.exports.getPreviousValue=s("./getPreviousValue").getPreviousValue,e.exports.getQueryParam=s("./getQueryParam").getQueryParam,e.exports.getResponsiveLayout=s("./getResponsiveLayout").getResponsiveLayout,e.exports.getTimeBetweenEvents=s("./getTimeBetweenEvents").getTimeBetweenEvents,e.exports.getTimeParting=s("./getTimeParting").getTimeParting,e.exports.getTimeSinceLastVisit=s("./getTimeSinceLastVisit").getTimeSinceLastVisit,e.exports.getTimeToComplete=s("./getTimeToComplete").getTimeToComplete,e.exports.getValOnce=s("./getValOnce").getValOnce,e.exports.getVisitDuration=s("./getVisitDuration").getVisitDuration,e.exports.getVisitNum=s("./getVisitNum").getVisitNum,e.exports.inList=s("./inList").inList,e.exports.lowerCaseVars=s("./lowerCaseVars").lowerCaseVars,e.exports.manageVars=s("./manageVars").manageVars,e.exports.p_fo=s("./p_fo").p_fo,e.exports.performanceCheck=s("./performanceCheck").performanceCheck,e.exports.performanceWriteFull=s("./performanceWriteFull").performanceWriteFull,e.exports.performanceWritePart=s("./performanceWritePart").performanceWritePart,e.exports.handlePPVevents=s("./handlePPVevents").handlePPVevents,e.exports.getPercentPageViewed=s("./getPercentPageViewed").getPercentPageViewed,e.exports.pt=s("./pt").pt,e.exports.rfl=s("./rfl").rfl,e.exports.twoDecimals=s("./twoDecimals").twoDecimals,e.exports.zeroPad=s("./zeroPad").zeroPad,e.exports.randomNumber=s("./randomNumber").randomNumber}},"common-analytics-plugins/src/lib/plugins/addProductEvar.js":{script:function(e){function t(e,t,s){var a=e,o=t,n=s;if("-v"===a)return{plugin:"addProductEvar",version:"2.0"};e:{if(void 0!==window.s_c_il)for(var r,i=0;i<window.s_c_il.length;i++)if((r=window.s_c_il[i])._c&&"s_c"===r._c){i=r;break e}i=void 0}if(void 0!==i&&(i.contextData.addProductEvar="2.0","string"==typeof a&&"string"==typeof o&&""!==o))if(n=n||!1,i.products){var c,d=(r=i.products.split(",")).length;for(n=n?0:d-1;n<d;n++)(c=r[n].split(";"))[5]&&-1<c[5].toLowerCase().indexOf("evar")?c[5]=c[5]+"|"+a+"="+o:c[5]?c[5]=a+"="+o:c[5]||(c[4]||(c[4]=""),c[3]||(c[3]=""),c[2]||(c[2]=""),c[1]||(c[1]=""),c[5]=a+"="+o),r[n]=c.join(";");i.products=r.join(",")}else i.products=";;;;;"+a+"="+o}e.exports.addProductEvar=t}},"common-analytics-plugins/src/lib/plugins/addProductEvent.js":{script:function(e){function t(e,t,s){var o=e,n=t,r=s;if("-v"===o)return{plugin:"addProductEvent",version:"2.0"};var i=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==i&&(i.contextData.addProductEvent="2.0",window.apl=window.apl||function(e,t,s,o,n){function r(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1}if(!e||"string"==typeof e){if("string"!=typeof t||""===t)return e;s=s||",",1==(o=o||s)&&(o=s,n||(n=1)),2==o&&1!=n&&(o=s),t=t.split(","),k=t.length;for(var i=0;i<k;i++)r(e,t[i],s,n)||(e=e?e+o+t[i]:t[i])}return e},"string"==typeof o))if(n=isNaN(n)?"1":String(n),r=r||!1,i.events=window.apl(i.events,o),i.products){var c,d=i.products.split(","),l=d.length;for(r=r?0:l-1;r<l;r++)(c=d[r].split(";"))[4]&&-1<c[4].indexOf("event")?c[4]=c[4]+"|"+o+"="+n:c[5]?c[4]=o+"="+n:c[4]||(c[3]||(c[3]=""),c[2]||(c[2]=""),c[1]||(c[1]=""),c[4]=o+"="+n),d[r]=c.join(";");i.products=d.join(",")}else i.products=";;;;"+o+"="+n}e.exports.addProductEvent=t}},"common-analytics-plugins/src/lib/plugins/apl.js":{script:function(e){function t(e,t,s,o,n){var r=e,i=t,c=s,d=o,l=n;if("-v"===r)return{plugin:"apl",version:"4.0"};var u=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==u&&(u.contextData.apl="4.0"),window.inList=window.inList||function(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1},!r||"string"==typeof r){if("string"!=typeof i||""===i)return r;c=c||",",1==(d=d||c)&&(d=c,l||(l=1)),2==d&&1!=l&&(d=c),u=(i=i.split(",")).length;for(var b=0;b<u;b++)window.inList(r,i[b],c,l)||(r=r?r+d+i[b]:i[b])}return r}e.exports.apl=t}},"common-analytics-plugins/src/lib/plugins/cleanStr.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"cleanStr",version:"2.0"};e:{if(void 0!==window.s_c_il)for(var s,a=0;a<window.s_c_il.length;a++)if((s=window.s_c_il[a])._c&&"s_c"===s._c){a=s;break e}a=void 0}if(void 0!==a&&(a.contextData.cleanStr="2.0"),"string"==typeof t){for(t=(t=(t=(t=(t=t.replace(/<\/?[^>]+(>|$)/g,"")).trim()).replace(/[\u2018\u2019\u201A]/g,"'")).replace(/\t+/g,"")).replace(/[\n\r]/g," ");-1<t.indexOf("  ");)t=t.replace(/\s\s/g," ");return t}return""}e.exports.cleanStr=t}},"common-analytics-plugins/src/lib/plugins/endOfDatePeriod.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"endOfDatePeriod",version:"1.2"};var s=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==s&&(s.contextData.endOfDatePeriod="1.2"),s=new Date;var a=isNaN(t)?0:Math.floor(t),o=function(e,t){return new Date(t||1970,e||1,0).getDate()};return s.setHours(23),s.setMinutes(59),s.setSeconds(59),"w"===t&&(a=6-s.getDay()),"m"===t&&(a=o(s.getMonth()+1,s.getFullYear())-s.getDate()),s.setDate(s.getDate()+a),"y"===t&&(s.setMonth(11),s.setDate(31)),s}e.exports.endOfDatePeriod=t}},"common-analytics-plugins/src/lib/plugins/formatTime.js":{script:function(e){function t(e,t,s){function o(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1}var n=e,r=t,i=s;if(arguments&&"-v"===arguments[0])return{plugin:"formatTime",version:"2.0"};var c=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==c&&(c.contextData.formatTime="2.0"),!(void 0===n||isNaN(n)||0>Number(n))){if(c="","string"==typeof r&&"d"===r||("string"!=typeof r||!o("h,m,s",r))&&86400<=n){var d=86400,l="days";c=isNaN(i)?1:d/(i*d)}else"string"==typeof r&&"h"===r||("string"!=typeof r||!o("m,s",r))&&3600<=n?(d=3600,l="hours",c=isNaN(i)?4:d/(i*d)):"string"==typeof r&&"m"===r||("string"!=typeof r||!o("s",r))&&60<=n?(d=60,l="minutes",c=isNaN(i)?2:d/(i*d)):(d=1,l="seconds",c=isNaN(i)?.2:d/i)
;return 0===(c=Math.round(n*c/d)/c+" "+l).indexOf("1 ")&&(c=c.substring(0,c.length-1)),c}}e.exports.formatTime=t}},"common-analytics-plugins/src/lib/plugins/getAndPersistValue.js":{script:function(e){function t(e,t,s){var a=e,o=t,n=s;if(void 0!==a&&"-v"===a)return{plugin:"getAndPersistValue",version:"3.0"};var r=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==r&&(r.contextData.getAndPersistValue="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var r=new Date;r.setTime(r.getTime()+6e4*s)}else r=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+r.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},r=new Date,o=o||"s_gapv",(n=n||0)?r.setTime(r.getTime()+864e5*n):r.setTime(r.getTime()+18e5),void 0!==a&&a||(a=cookieRead(o)),cookieWrite(o,a,r),a}e.exports.getAndPersistValue=t}},"common-analytics-plugins/src/lib/plugins/getDaysSinceLastVisit.js":{script:function(e){function t(){var e=new Date,t=e.getTime(),s=this.c_r("s_dslv");if(e.setTime(t+94608e6),this.c_w("s_dslv",t,e),s){if(18e5<(e=t-s)){if(31536e6<e)return"More than a year";if(2592e6<e)return"More than 30 days";if(e<2592000001&&6048e5<e)return"More than 7 days";if(e<604800001&&864e5<e)return"Less than 7 days";if(e<86400001)return"Less than 1 day"}return""}return"New Visitor"}e.exports.getDaysSinceLastVisit=t}},"common-analytics-plugins/src/lib/plugins/getGeoCoordinates.js":{script:function(e){function t(){if(arguments&&"-v"===arguments[0])return{plugin:"getGeoCoordinates",version:"2.0"};var e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==e&&(e.contextData.getGeoCoordinates="2.0"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var r=new Date;r.setTime(r.getTime()+6e4*s)}else r=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+r.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""};var t="",s={timeout:5e3,maximumAge:0},a=function(e){e=e.coords,cookieWrite("s_ggc",parseFloat(e.latitude.toFixed(4))+"|"+parseFloat(e.longitude.toFixed(4)),30),t="latitude="+parseFloat(e.latitude.toFixed(4))+" | longitude="+parseFloat(e.longitude.toFixed(4))},o=function(){t="error retrieving geo coordinates"};return 1<(e=cookieRead("s_ggc").split("|")).length&&(t="latitude="+e[0]+" | longitude="+e[1]),navigator.geolocation&&navigator.geolocation.getCurrentPosition(a,o,s),""===t&&(t="geo coordinates not available"),t}e.exports.getGeoCoordinates=t}},"common-analytics-plugins/src/lib/plugins/getNewRepeat.js":{script:function(e){function t(e){var t=e;if("-v"===t)return{plugin:"getNewRepeat",version:"3.0"};void 0!==(e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}())&&(e.contextData.getNewRepeat="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var r=new Date;r.setTime(r.getTime()+6e4*s)}else r=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+r.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},e="s_nr"+(t=t||30);var s=new Date,a=cookieRead(e),o=a.split("-"),n=s.getTime();return s.setTime(n+864e5*t),""===a||18e5>n-o[0]&&"New"===o[1]?(cookieWrite(e,n+"-New",s),"New"):(cookieWrite(e,n+"-Repeat",s),"Repeat")}e.exports.getNewRepeat=t}},"common-analytics-plugins/src/lib/plugins/getPageLoadTime.js":{script:function(e){function t(){function e(){var e=performance.timing;if(0<e.loadEventEnd&&(clearInterval(window.pi),""===window.cookieRead("s_plt"))){var t=window,s=t.cookieWrite,a=e.loadEventEnd,o=e.navigationStart;a=0<=a&&0<=o?6e4>a-o&&0<=a-o?parseFloat((a-o)/1e3).toFixed(2):60:void 0,s.call(t,"s_plt",a),window.cookieWrite("s_pltp",window.pageName)}window.ptc=e.loadEventEnd}if(arguments&&"-v"===arguments[0])return{plugin:"getPageLoadTime",version:"2.0.1"};var t=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==t&&(t.contextData.getPageLoadTime="2.0.1"),window.pageName=void 0!==t&&t.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var r=new Date;r.setTime(r.getTime()+6e4*s)}else r=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+r.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)},"undefined"!=typeof performance&&p_fo("performance")&&((t=performance).clearResourceTimings(),""!==window.cookieRead("s_plt")&&(0<t.timing.loadEventEnd&&clearInterval(window.pi),this._pltLoadTime=window.cookieRead("s_plt"),this._pltPreviousPage=window.cookieRead("s_pltp"),window.cookieWrite("s_plt",""),window.cookieWrite("s_pltp","")),0===t.timing.loadEventEnd?window.pi=setInterval((function(){e()}),250):0<t.timing.loadEventEnd&&(window.ptc?window.ptc===t.timing.loadEventEnd&&1===t.getEntries().length&&(window.pwp=setInterval((function(){var e=performance;0<e.getEntries().length&&(window.ppfe===e.getEntries().length?clearInterval(window.pwp):window.ppfe=e.getEntries().length),""===window.cookieRead("s_plt")&&(window.cookieWrite("s_plt",((e.getEntries()[e.getEntries().length-1].responseEnd-e.getEntries()[0].startTime)/1e3).toFixed(2)),window.cookieWrite("s_pltp",window.pageName))}),500)):e()))}e.exports.getPageLoadTime=t}},"common-analytics-plugins/src/lib/plugins/getPageName.js":{script:function(e){var t=function(e,t,s,a){var o=e,n=t,r=s,i=a;if("-v"===o)return{plugin:"getPageName",version:"4.2"};e:{if(void 0!==window.s_c_il)for(var c,d=0;d<window.s_c_il.length;d++)if((c=window.s_c_il[d])._c&&"s_c"===c._c){d=c;break e}d=void 0}void 0!==d&&(d.contextData.getPageName="4.2");var l=location.hostname,u=location.pathname.substring(1).split("/"),b=u.length,m=location.search.substring(1).split("&"),p=m.length;if(c=(d=location.hash.substring(1).split("&")).length,i=i||"|",o=o||l,n=n||"",r=r||"",1===b&&""===u[0])o=o+i+"home";else for(l=0;l<b;l++)o=o+i+decodeURIComponent(u[l]);if(n&&(1!==p||""!==m[0]))for(b=(u=n.split(",")).length,l=0;l<b;l++)for(n=0;n<p;n++)if(u[l]===m[n].split("=")[0]){o=o+i+decodeURIComponent(m[n]);break}if(r&&(1!==c||""!==d[0]))for(m=(r=r.split(",")).length,l=0;l<m;l++)for(n=0;n<c;n++)if(r[l]===d[n].split("=")[0]){o=o+i+decodeURIComponent(d[n]);break}return o.substring(o.length-i.length)===i?o.substring(0,o.length-i.length):o};e.exports.getPageName=t}},"common-analytics-plugins/src/lib/plugins/getPreviousValue.js":{script:function(e){function t(e,t){var s=e,a=t;if("-v"===s)return{plugin:"getPreviousValue",version:"3.0"};var o,n=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==n&&(n.contextData.getPreviousValue="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var r=new Date;r.setTime(r.getTime()+6e4*s)}else r=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+r.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},a=a||"s_gpv",(n=new Date).setTime(n.getTime()+18e5),window.cookieRead(a)&&(o=window.cookieRead(a)),s?window.cookieWrite(a,s,n):window.cookieWrite(a,o,n),o}e.exports.getPreviousValue=t}},"common-analytics-plugins/src/lib/plugins/getQueryParam.js":{script:function(e){function t(e,t,s){function a(e,t){var s=(t=(t=t.split("?").join("&")).split("#").join("&")).indexOf("&");if(e&&(-1<s||t.indexOf("=")>s))for(var a=0,o=(s=(s=t.substring(s+1)).split("&")).length;a<o;a++){var n=s[a].split("="),r=n[1];if(n[0].toLowerCase()===e.toLowerCase())return decodeURIComponent(r||!0)}return""}if("-v"===e)return{plugin:"getQueryParam",version:"4.0.1"};var o=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==o&&(o.contextData.getQueryParam="4.0"),e){t=t||"",s=(s||void 0!==o&&o.pageURL||location.href)+"",(4<t.length||-1<t.indexOf("="))&&s&&4>s.length&&(o=t,t=s,s=o),o="";for(var n=e.split(","),r=n.length,i=0;i<r;i++)"string"==typeof(e=a(n[i],s))?(e=-1<e.indexOf("#")?e.substring(0,e.indexOf("#")):e,o+=o?t+e:e):o=""===o?e:o+(t+e);return o}}e.exports.getQueryParam=t}},"common-analytics-plugins/src/lib/plugins/getResponsiveLayout.js":{script:function(e){var t=function(e,t,s){var a=e,o=t,n=s;if("-v"===a)return{plugin:"getResponsiveLayout",version:"1.1"};e:{if(void 0!==window.s_c_il)for(var r,i=0;i<window.s_c_il.length;i++)if((r=window.s_c_il[i])._c&&"s_c"===r._c){i=r;break e}i=void 0}return void 0!==i&&(i.contextData.getResponsiveLayout="1.1"),isNaN(a)||isNaN(o)||isNaN(n)||o<a||n<o?void 0:(i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,(a<o&&i<=o?i<=a?"phone portrait layout":"phone landscape layout":i<=o?"phone layout":i<=n?"tablet layout":"desktop layout")+":"+i+"x"+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))};e.exports.getResponsiveLayout=t}},"common-analytics-plugins/src/lib/plugins/getTimeBetweenEvents.js":{script:function(e){function t(e,t,s,o,n,r,i,c,d){var l=e,u=t,b=s,m=o,p=n,f=r,v=i,h=c,P=d;if("-v"===l)return{plugin:"getTimeBetweenEvents",version:"3.0"};var j=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==j&&(j.contextData.getTimeBetweenEvents="3.0",window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var r=new Date;r.setTime(r.getTime()+6e4*s)}else r=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+r.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},window.formatTime=window.formatTime||function(e,t,s){function o(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var n="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!o("h,m,s",t))&&86400<=e?(t=86400,n="days",s=isNaN(s)?1:t/(s*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!o("m,s",t))&&3600<=e?(t=3600,n="hours",s=isNaN(s)?4:t/(s*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!o("s",t))&&60<=e?(t=60,n="minutes",s=isNaN(s)?2:t/(s*t)):(t=1,n="seconds",s=isNaN(s)?.2:t/s),0===(n=Math.round(e*s/t)/s+" "+n).indexOf("1 ")&&(n=n.substring(0,n.length-1)),n}},window.inList=window.inList||function(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1},"string"==typeof l&&void 0!==u&&"string"==typeof b&&void 0!==m)){p=p||"s_tbe",f=isNaN(f)?1:Number(f);var C=!1,R=!1,w=l.split(","),E=b.split(",");P=P?P.split(","):[];for(var y,T=window.cookieRead(p),I=new Date,_=I.getTime(),x=new Date,k=0;k<P.length;++k)if(window.inList(j.events,P[k]))return x.setDate(x.getDate()-1),void window.cookieWrite(p,"",x);for(x.setTime(x.getTime()+864e5*f),k=0;k<w.length&&!C&&!0!==(C=window.inList(j.events,w[k]));++k);for(k=0;k<E.length&&!R&&!0!==(R=window.inList(j.events,E[k]));++k);return 1===w.length&&1===E.length&&l===b&&C&&R?(T&&(y=(_-T)/1e3),window.cookieWrite(p,_,f?x:0)):(!C||1!=u&&T||window.cookieWrite(p,_,f?x:0),R&&T&&(y=(I.getTime()-T)/1e3,!0===m&&(x.setDate(x.getDate()-1),window.cookieWrite(p,"",x)))),y?window.formatTime(y,v,h):""}}e.exports.getTimeBetweenEvents=t}},"common-analytics-plugins/src/lib/plugins/getTimeParting.js":{script:function(e){function t(e){var t=e;if("-v"===e)return{plugin:"getTimeParting",version:"6.3"};e:{if(void 0!==window.s_c_il)for(var s,a=0;a<window.s_c_il.length;a++)if((s=window.s_c_il[a])._c&&"s_c"===s._c){a=s;break e}a=void 0}return void 0!==a&&(a.contextData.getTimeParting="6.3"),t=document.documentMode?void 0:t||"Etc/GMT",a=(new Date).toLocaleDateString("en-US",{timeZone:t,minute:"numeric",hour:"numeric",weekday:"long",day:"numeric",year:"numeric",month:"long"}),"year="+(a=/([a-zA-Z]+).*?([a-zA-Z]+).*?([0-9]+).*?([0-9]+)(.*?)([0-9])(.*)/.exec(a))[4]+" | month="+a[2]+" | date="+a[3]+" | day="+a[1]+" | time="+(a[6]+a[7])}e.exports.getTimeParting=t}},"common-analytics-plugins/src/lib/plugins/getTimeSinceLastVisit.js":{script:function(e){function t(){if(arguments&&"-v"===arguments[0])return{plugin:"getTimeSinceLastVisit",version:"2.0"};var e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==e&&(e.contextData.getTimeSinceLastVisit="2.0"),window.formatTime=window.formatTime||function(e,t,s){function o(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var n="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!o("h,m,s",t))&&86400<=e?(t=86400,n="days",s=isNaN(s)?1:t/(s*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!o("m,s",t))&&3600<=e?(t=3600,n="hours",s=isNaN(s)?4:t/(s*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!o("s",t))&&60<=e?(t=60,n="minutes",s=isNaN(s)?2:t/(s*t)):(t=1,n="seconds",s=isNaN(s)?.2:t/s),0===(n=Math.round(e*s/t)/s+" "+n).indexOf("1 ")&&(n=n.substring(0,n.length-1)),n}},window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var r=new Date;r.setTime(r.getTime()+6e4*s)}else r=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+r.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""};var t=(e=new Date).getTime(),s=cookieRead("s_tslv")||0,o=Math.round((t-s)/1e3);return e.setTime(t+63072e6),cookieWrite("s_tslv",t,e),s?1800<o||cookieRead("s_inv")?(cookieRead("s_inv")&&(o=cookieRead("s_inv")),cookieWrite("s_inv",o,30),"0"!==o?formatTime(o):"New Visitor"):"":(cookieWrite("s_inv","0",30),"New Visitor")}e.exports.getTimeSinceLastVisit=t}},"common-analytics-plugins/src/lib/plugins/getTimeToComplete.js":{script:function(e){function t(e,t,s,o){var n=e,r=t,i=s,c=o;if("-v"===n)return{plugin:"getTimeToComplete",version:"4.0"};var d=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==d&&(d.contextData.getTimeToComplete="4.0"),window.formatTime=window.formatTime||function(e,t,s){function o(e,t,s,o){if("string"!=typeof t)return!1;if("string"==typeof e)e=e.split(s||",");else if("object"!=typeof e)return!1;for(s=0,a=e.length;s<a;s++)if(1==o&&t===e[s]||t.toLowerCase()===e[s].toLowerCase())return!0;return!1}if(!(void 0===e||isNaN(e)||0>Number(e))){var n="";return"string"==typeof t&&"d"===t||("string"!=typeof t||!o("h,m,s",t))&&86400<=e?(t=86400,n="days",s=isNaN(s)?1:t/(s*t)):"string"==typeof t&&"h"===t||("string"!=typeof t||!o("m,s",t))&&3600<=e?(t=3600,n="hours",s=isNaN(s)?4:t/(s*t)):"string"==typeof t&&"m"===t||("string"!=typeof t||!o("s",t))&&60<=e?(t=60,n="minutes",s=isNaN(s)?2:t/(s*t)):(t=1,n="seconds",s=isNaN(s)?.2:t/s),0===(n=Math.round(e*s/t)/s+" "+n).indexOf("1 ")&&(n=n.substring(0,n.length-1)),n}},window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var r=new Date;r.setTime(r.getTime()+6e4*s)}else r=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+r.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},"stop"===(n=n?n.toLowerCase():"start")||"start"===n){if(r=r||"s_gttc",c?c="d"===c?864e5:"h"===c?36e5:"s"===c?1e3:6e4:(i=30,c=6e4),i=isNaN(i)?30:i,i*=c,d=cookieRead(r),c=new Date,"stop"===n&&d)return i=Math.round((c.getTime()-d)/1e3),cookieWrite(r,"",0),formatTime(i);"start"!==n||d?d&&Number(d)<c.getTime()+18e5&&cookieWrite(r,d,30):(n=String(c.getTime()),c.setTime(c.getTime()+i),cookieWrite(r,n,c))}}e.exports.getTimeToComplete=t}},"common-analytics-plugins/src/lib/plugins/getValOnce.js":{script:function(e){function t(e,t,s,a){var o=e,n=t,r=s,i=a;if(arguments&&"-v"===arguments[0])return{plugin:"getValOnce",version:"3.0"};var c=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();return void 0!==c&&(c.contextData.getValOnce="3.0"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var r=new Date;r.setTime(r.getTime()+6e4*s)}else r=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+r.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},o&&(n=n||"s_gvo",r=r||0,i="m"===i?6e4:864e5,o!==this.c_r(n))?((c=new Date).setTime(c.getTime()+r*i),cookieWrite(n,o,0===r?0:i),o):""}e.exports.getValOnce=t}},"common-analytics-plugins/src/lib/plugins/getVisitDuration.js":{script:function(e){function t(){if(arguments&&"-v"===arguments[0])return{plugin:"getVisitDuration",version:"2.1"};var e=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==e&&(e.contextData.getVisitDuration="2.1"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var r=new Date;r.setTime(r.getTime()+6e4*s)}else r=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+r.toUTCString()+";":"")+(g?" domain="+g+";":""),"undefined"==typeof cookieRead))&&cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},e=(new Date).getTime();var t=cookieRead("s_dur"),s=0;return(isNaN(t)||18e5<e-t)&&(t=e),s=e-t,cookieWrite("s_dur",t+"",30),0===s?"first hit of visit":0===(s=Math.floor(s/6e4))?"less than a minute":1===s?"1 minute":s+" minutes"}e.exports.getVisitDuration=t}},"common-analytics-plugins/src/lib/plugins/getVisitNum.js":{script:function(e){function t(e,t){function s(e){return!isNaN(e)&&(0|parseFloat(e))===parseFloat(e)}function a(e){var t=new Date,s=isNaN(e)?0:Math.floor(e);if(t.setHours(23),t.setMinutes(59),t.setSeconds(59),"w"===e&&(s=6-t.getDay()),"m"===e){s=t.getMonth()+1;var a=t.getFullYear();s=new Date(a||1970,s||1,0).getDate()-t.getDate()}return t.setDate(t.getDate()+s),"y"===e&&(t.setMonth(11),t.setDate(31)),t}var o=e,n=t;if("-v"===o)return{plugin:"getVisitNum",version:"4.2"};var r=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==r&&(r.contextData.getVisitNum="4.2"),window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var r=new Date;r.setTime(r.getTime()+6e4*s)}else r=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+r.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},o=o||365,n=void 0!==n?!!n:!!s(o);var i=(new Date).getTime();if(r=a(o),window.cookieRead("s_vnc"+o))var c=window.cookieRead("s_vnc"+o).split("&vn="),d=c[1];return window.cookieRead("s_ivc")?d?(window.cookieWrite("s_ivc",!0,30),d):"unknown visit number":void 0!==d?(d++,c=n&&s(o)?i+864e5*o:c[0],r.setTime(c),window.cookieWrite("s_vnc"+o,c+"&vn="+d,r),window.cookieWrite("s_ivc",!0,30),d):(c=s(o)?i+864e5*o:a(o).getTime(),window.cookieWrite("s_vnc"+o,c+"&vn=1",r),window.cookieWrite("s_ivc",!0,30),"1")}e.exports.getVisitNum=t}},"common-analytics-plugins/src/lib/plugins/inList.js":{script:function(e){function t(e,t,s,a){var o=e,n=t,r=s,i=a;if("-v"===o)return{plugin:"inList",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var c=0;c<window.s_c_il.length;c++)if((s=window.s_c_il[c])._c&&"s_c"===s._c){c=s;break e}c=void 0}if(void 0!==c&&(c.contextData.inList="3.0"),"string"!=typeof n)return!1;if("string"==typeof o)o=o.split(r||",");else if("object"!=typeof o)return!1;for(r=0,c=o.length;r<c;r++)if(1==i&&n===o[r]||n.toLowerCase()===o[r].toLowerCase())return!0;return!1}e.exports.inList=t}},"common-analytics-plugins/src/lib/plugins/lowerCaseVars.js":{script:function(e){function t(e){var t=this;t[e]&&("events"!==e&&-1===e.indexOf("contextData")?(t[e]=t[e].toString(),0!==t[e].indexOf("D=")&&(t[e]=t[e].toLowerCase())):-1<e.indexOf("contextData")&&(e=e.substring(e.indexOf(".")+1),t.contextData[e]&&(t.contextData[e]=t.contextData[e].toString().toLowerCase())))}e.exports.lowerCaseVars=t}},"common-analytics-plugins/src/lib/plugins/manageVars.js":{script:function(e){function t(e,t,s){var a=e,o=t,n=s;if("-v"===a)return{plugin:"manageVars",version:"3.0"};var r=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();if(void 0!==r){if(r.contextData.manageVars="3.0",r.blankVars=function(e){this[e]&&(0>e.indexOf("contextData")?this[e]="":(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]="")))},r.lowerCaseVars=function(e){this[e]&&("events"!==e&&-1===e.indexOf("contextData")?(this[e]=this[e].toString(),0!==this[e].indexOf("D=")&&(this[e]=this[e].toLowerCase())):-1<e.indexOf("contextData")&&(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=this.contextData[e].toString().toLowerCase())))},r.cleanStr=function(e){function t(e){if("string"==typeof e){for(e=e.replace(/<\/?[^>]+(>|$)/g,"").trim().replace(/[\u2018\u2019\u201A]/g,"'").replace(/\t+/g,"").replace(/[\n\r]/g," ");-1<e.indexOf("  ");)e=e.replace(/\s\s/g," ");return e}return""}this[e]&&"function"==typeof t&&(0>e.indexOf("contextData")?this[e]=t(this[e]):(e=e.substring(e.indexOf(".")+1),this.contextData[e]&&(this.contextData[e]=t(this.contextData[e].toString()))))},r.pt=function(e,t,s,a){if(e&&this[s]){t=(e=e.split(t||",")).length;for(var o,n=0;n<t;n++)if(o=this[s](e[n],a))return o}},!r[a])return!1;o=o||"",n=n||!0;var i,c="pageName,purchaseID,channel,server,pageType,campaign,state,zip,events,products,transactionID";for(i=1;76>i;i++)c+=",prop"+i;for(i=1;251>i;i++)c+=",eVar"+i;for(i=1;6>i;i++)c+=",hier"+i;for(i=1;4>i;i++)c+=",list"+i;for(i in r.contextData)c+=",contextData."+i;if(o){if(1==n)c=o.replace("['",".").replace("']","");else if(0==n){for(x in o=o.split(","),n=c.split(","),c="",o)for(y in-1<o[x].indexOf("contextData")&&(o[x]="contextData."+o[x].split("'")[1]),n)o[x]===n[y]&&(n[y]="");for(y in n)c+=n[y]?","+n[y]:""}return r.pt(c,",",a,0),!0}return!(""!==o||!n||(r.pt(c,",",a,0),0))}}e.exports.manageVars=t}},"common-analytics-plugins/src/lib/plugins/p_fo.js":{script:function(e){function t(e){if("-v"===e)return{plugin:"p_fo",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var t,s=0;s<window.s_c_il.length;s++)if((t=window.s_c_il[s])._c&&"s_c"===t._c){s=t;break e}s=void 0}return void 0!==s&&(s.contextData.p_fo="3.0"),window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)}e.exports.p_fo=t}},"common-analytics-plugins/src/lib/plugins/performanceCheck.js":{script:function(e){function t(e,t){if(0<=e&&0<=t)return 6e4>e-t&&0<=e-t?parseFloat((e-t)/1e3).toFixed(2):60}e.exports.performanceCheck=t}},"common-analytics-plugins/src/lib/plugins/performanceWriteFull.js":{script:function(e){function t(){var e=this,t=performance.timing;0<t.loadEventEnd&&(clearInterval(e.pi),""===e.c_r("s_plt")&&(e.c_w("s_plt",e.performanceCheck(t.loadEventEnd,t.navigationStart)),e.c_w("s_pltp",e.pageName))),e.ptc=t.loadEventEnd}e.exports.performanceWriteFull=t}},"common-analytics-plugins/src/lib/plugins/performanceWritePart.js":{script:function(e){function t(){var e=this,t=performance;0<t.getEntries().length&&(e.ppfe===t.getEntries().length?clearInterval(e.pwp):e.ppfe=t.getEntries().length),""===e.c_r("s_plt")&&(e.c_w("s_plt",((t.getEntries()[t.getEntries().length-1].responseEnd-t.getEntries()[0].startTime)/1e3).toFixed(2)),e.c_w("s_pltp",e.pageName))}e.exports.performanceWritePart=t}},"common-analytics-plugins/src/lib/plugins/handlePPVevents.js":{script:function(e){function t(){if("undefined"!=typeof s_c_il){for(var e=0,t=s_c_il.length;e<t;e++)if(s_c_il[e]&&(s_c_il[e].getPercentPageViewed||s_c_il[e].getPreviousPageActivity)){var s=s_c_il[e];break}if(s&&s.ppvID){var a=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+o,t=Math.min(Math.round(e/a*100),100);var n=Math.floor(e/o);o=Math.floor(a/o);var r="";if(!s.c_r("s_tp")||s.unescape(s.c_r("s_ppv").split(",")[0])!==s.ppvID||s.p_fo(s.ppvID)||1==s.ppvChange&&s.c_r("s_tp")&&a!=s.c_r("s_tp")){if((s.unescape(s.c_r("s_ppv").split(",")[0])!==s.ppvID||s.p_fo(s.ppvID+"1"))&&s.c_w("s_ips",e),s.c_r("s_tp")&&s.unescape(s.c_r("s_ppv").split(",")[0])===s.ppvID){s.c_r("s_tp");var i=-1<(r=s.c_r("s_ppv")).indexOf(",")?r.split(","):[];r=i[0]?i[0]:"",i=i[3]?i[3]:"";var c=s.c_r("s_ips");r=r+","+Math.round(i/a*100)+","+Math.round(c/a*100)+","+i+","+n}s.c_w("s_tp",a)}else r=s.c_r("s_ppv");var d=r&&-1<r.indexOf(",")?r.split(",",6):[];a=0<d.length?d[0]:escape(s.ppvID),i=1<d.length?parseInt(d[1]):t,c=2<d.length?parseInt(d[2]):t;var l=3<d.length?parseInt(d[3]):e,u=4<d.length?parseInt(d[4]):n;d=5<d.length?parseInt(d[5]):o,0<t&&(r=a+","+(t>i?t:i)+","+c+","+(e>l?e:l)+","+(n>u?n:u)+","+(o>d?o:d)),s.c_w("s_ppv",r)}}}e.exports.handlePPVevents=t}},"common-analytics-plugins/src/lib/plugins/getPercentPageViewed.js":{script:function(e){function t(e,t){function s(){if(window.ppvID){
var e=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+t,a=Math.min(Math.round(s/e*100),100),o=Math.floor(s/t);t=Math.floor(e/t);var n="";if(!window.cookieRead("s_tp")||decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID)||1==window.ppvChange&&window.cookieRead("s_tp")&&e!=window.cookieRead("s_tp")){if((decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])!==window.ppvID||window.p_fo(window.ppvID+"1"))&&window.cookieWrite("s_ips",s),window.cookieRead("s_tp")&&decodeURIComponent(window.cookieRead("s_ppv").split(",")[0])===window.ppvID){window.cookieRead("s_tp");var r=-1<(n=window.cookieRead("s_ppv")).indexOf(",")?n.split(","):[];n=r[0]?r[0]:"",r=r[3]?r[3]:"";var i=window.cookieRead("s_ips");n=n+","+Math.round(r/e*100)+","+Math.round(i/e*100)+","+r+","+o}window.cookieWrite("s_tp",e)}else n=window.cookieRead("s_ppv");var c=n&&-1<n.indexOf(",")?n.split(",",6):[];e=0<c.length?c[0]:encodeURIComponent(window.ppvID),r=1<c.length?parseInt(c[1]):a,i=2<c.length?parseInt(c[2]):a;var d=3<c.length?parseInt(c[3]):s,l=4<c.length?parseInt(c[4]):o;c=5<c.length?parseInt(c[5]):t,0<a&&(n=e+","+(a>r?a:r)+","+i+","+(s>d?s:d)+","+(o>l?o:l)+","+(t>c?t:c)),window.cookieWrite("s_ppv",n)}}var a=e,o=t;if("-v"===a)return{plugin:"getPercentPageViewed",version:"5.0.1"};var n=function(){if(void 0!==window.s_c_il)for(var e,t=0;t<window.s_c_il.length;t++)if((e=window.s_c_il[t])._c&&"s_c"===e._c)return e}();void 0!==n&&(n.contextData.getPercentPageViewed="5.0.1"),window.pageName=void 0!==n&&n.pageName||"",window.cookieWrite=window.cookieWrite||function(e,t,s){if("string"==typeof e){var a=window.location.hostname,o=window.location.hostname.split(".").length-1;if(a&&!/^[0-9.]+$/.test(a)){o=2<o?o:2;var n=a.lastIndexOf(".");if(0<=n){for(;0<=n&&1<o;)n=a.lastIndexOf(".",n-1),o--;n=0<n?a.substring(n):a}}if(g=n,t=void 0!==t?""+t:"",s||""===t)if(""===t&&(s=-60),"number"==typeof s){var r=new Date;r.setTime(r.getTime()+6e4*s)}else r=s;return!(!e||(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(s?" expires="+r.toUTCString()+";":"")+(g?" domain="+g+";":""),void 0===window.cookieRead))&&window.cookieRead(e)===t}},window.cookieRead=window.cookieRead||function(e){if("string"!=typeof e)return"";e=encodeURIComponent(e);var t=" "+document.cookie,s=t.indexOf(" "+e+"="),a=0>s?s:t.indexOf(";",s);return(e=0>s?"":decodeURIComponent(t.substring(s+2+e.length,0>a?t.length:a)))?e:""},window.p_fo=window.p_fo||function(e){return window.__fo||(window.__fo={}),!window.__fo[e]&&(window.__fo[e]={},!0)};var r=window.cookieRead("s_ppv");r=-1<r.indexOf(",")?r.split(","):[],a=a||(window.pageName?window.pageName:document.location.href),r[0]=decodeURIComponent(r[0]),window.ppvChange=void 0===o||1==o,void 0!==n&&n.linkType&&"o"===n.linkType||(window.ppvID&&window.ppvID===a||(window.ppvID=a,window.cookieWrite("s_ppv",""),s()),window.p_fo("s_gppvLoad")&&window.addEventListener&&(window.addEventListener("load",s,!1),window.addEventListener("click",s,!1),window.addEventListener("scroll",s,!1)),this._ppvPreviousPage=r[0]?r[0]:"",this._ppvHighestPercentViewed=r[1]?r[1]:"",this._ppvInitialPercentViewed=r[2]?r[2]:"",this._ppvHighestPixelsSeen=r[3]?r[3]:"",this._ppvFoldsSeen=r[4]?r[4]:"",this._ppvFoldsAvailable=r[5]?r[5]:"")}e.exports.getPercentPageViewed=t}},"common-analytics-plugins/src/lib/plugins/pt.js":{script:function(e){function t(e,t,s,a){var o=e,n=t,r=s,i=a;if("-v"===o)return{plugin:"pt",version:"3.0"};e:{if(void 0!==window.s_c_il)for(var c,d=0;d<window.s_c_il.length;d++)if((c=window.s_c_il[d])._c&&"s_c"===c._c){d=c;break e}d=void 0}if(void 0!==d&&(d.contextData.pt="3.0",o&&d[r])){n=(o=o.split(n||",")).length;for(var l=0;l<n;l++)if(c=d[r](o[l],i))return c}}e.exports.pt=t}},"common-analytics-plugins/src/lib/plugins/rfl.js":{script:function(e){function t(e,t,s,a,o){var n=e,r=t,i=s,c=a,d=o;if("-v"===n)return{plugin:"rfl",version:"2.1"};e:{if(void 0!==window.s_c_il)for(var l,u=0;u<window.s_c_il.length;u++)if((l=window.s_c_il[u])._c&&"s_c"===l._c){u=l;break e}u=void 0}if(void 0!==u&&(u.contextData.rfl="2.1"),!n||!r)return"";u=[],l="",i=i||",",c=c||i,d=d||!1,i=(n=n.split(i)).length;for(var b=0;b<i;b++)-1<n[b].indexOf(":")&&((l=n[b].split(":"))[1]=l[0]+":"+l[1],n[b]=l[0]),-1<n[b].indexOf("=")&&((l=n[b].split("="))[1]=l[0]+"="+l[1],n[b]=l[0]),n[b]!==r&&l?u.push(l[1]):n[b]!==r?u.push(n[b]):n[b]===r&&d&&(l?u.push(l[1]):u.push(n[b]),d=!1),l="";return u.join(c)}e.exports.rfl=t}},"common-analytics-plugins/src/lib/plugins/twoDecimals.js":{script:function(e){function t(e){return void 0===e||void 0===e||isNaN(e)?0:Number(Number(e).toFixed(2))}e.exports.twoDecimals=t}},"common-analytics-plugins/src/lib/plugins/zeroPad.js":{script:function(e){function t(e,t){if(e=parseInt(e),t=parseInt(t),isNaN(e)||isNaN(t))return"";var s=t-e.toString().length+1;return Array(+(0<s&&s)).join("0")+e}e.exports.zeroPad=t}},"common-analytics-plugins/src/lib/plugins/randomNumber.js":{script:function(e){function t(e){e="number"==typeof e?17>Math.abs(e)?Math.round(Math.abs(e)):17:10;for(var t="1",s=0;s<e;s++)t+="0";return t=Number(t),(t=Math.floor(Math.random().toFixed(e)*t)+"").length!==e&&"undefined"!=typeof zeroPad&&(t=zeroPad(t,e)),t}e.exports.randomNumber=t}}}},"adobe-mcid":{displayName:"Experience Cloud ID Service",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP4413121ff4ce4a49869b12b0ea80c748/",settings:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg",variables:[{name:"trackingServer",value:"bmwag.d3.sc.omtrdc.net"},{name:"trackingServerSecure",value:"bmwag.d3.sc.omtrdc.net"},{name:"cookieDomain",value:"%topLevelDomain%"},{name:"idSyncContainerID",value:"%AAM-containerID%"}],isIabContext:!1,doesOptInApply:!0,previousPermissions:"%ECID-previousPermissions%",isOptInStorageEnabled:!1},modules:{"adobe-mcid/src/lib/sharedModules/mcidInstance.js":{script:function(e,t,s,a){"use strict";var o=s("@adobe/reactor-document"),n=s("../codeLibrary/VisitorAPI"),r=s("../../view/utils/timeUnits"),i=function(e){return e.reduce((function(e,t){var s=/^(true|false)$/i.test(t.value)?JSON.parse(t.value):t.value;return e[t.name]=s,e}),{})},c=function(e){var t=a.getExtensionSettings();if("string"!=typeof t.orgId)throw new TypeError("Org ID is not a string.");var s=i(t.variables||[]),o=t.doesOptInApply;o&&("boolean"==typeof o?s.doesOptInApply=o:t.optInCallback&&(s.doesOptInApply=t.optInCallback));var n=t.isOptInStorageEnabled;n&&(s.isOptInStorageEnabled=n);var c=t.optInCookieDomain;c&&(s.optInCookieDomain=c);var d=t.optInStorageExpiry;if(d){var l=t.timeUnit;if(l&&r[l]){var u=d*r[l];s.optInStorageExpiry=u}}else!0===n&&(s.optInStorageExpiry=33696e3);var b=t.previousPermissions;b&&(s.previousPermissions=b);var m=t.preOptInApprovals;if(m)s.preOptInApprovals=m;else{var p=t.preOptInApprovalInput;p&&(s.preOptInApprovals=p)}var g=t.isIabContext;g&&(s.isIabContext=g);var f=e.getInstance(t.orgId,s);return a.logger.info('Created instance using orgId: "'+t.orgId+'"'),a.logger.info("Set variables: "+JSON.stringify(s)),f.getMarketingCloudVisitorID((function(e){a.logger.info("Obtained Marketing Cloud Visitor Id: "+e)}),!0),f},d=function(e){return(a.getExtensionSettings().pathExclusions||[]).some((function(t){return t.valueIsRegex?new RegExp(t.value,"i").test(e):t.value===e}))},l=null;_satellite.getVisitorId=function(){return l},d(o.location.pathname)?a.logger.warn("MCID library not loaded. One of the path exclusions matches the current path."):l=c(n),e.exports=l},name:"mcid-instance",shared:!0},"adobe-mcid/src/lib/codeLibrary/VisitorAPI.js":{script:function(e){e.exports=(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function s(){return{callbacks:{},add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var s=this.callbacks[e].push(t)-1,a=this;return function(){a.callbacks[e].splice(s,1)}},execute:function(e,t){if(this.callbacks[e]){t=(t=void 0===t?[]:t)instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var s=this.callbacks[e].shift();"function"==typeof s?s.apply(null,t):s instanceof Array&&s[1].apply(s[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!k.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach((function(t){var s=void 0!==e[t]?e[t]:"";this.execute(t,s)}),this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function a(e,t,s){var a=null==e?void 0:e[t];return void 0===a?s:a}function o(e){for(var t=/^\d+$/,s=0,a=e.length;s<a;s++)if(!t.test(e[s]))return!1;return!0}function n(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function r(e,t){for(var s=0;s<e.length;s++){var a=parseInt(e[s],10),o=parseInt(t[s],10);if(a>o)return 1;if(o>a)return-1}return 0}function i(e,t){if(e===t)return 0;var s=e.toString().split("."),a=t.toString().split(".");return o(s.concat(a))?(n(s,a),r(s,a)):NaN}function c(e){return e===Object(e)&&0===Object.keys(e).length}function d(e){return"function"==typeof e||e instanceof Array&&e.length}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=le("log",e,t),this.warn=le("warn",e,t),this.error=le("error",e,t)}function u(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).cookieName,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies;if(!e||!t)return{get:ye,set:ye,remove:ye};var s={remove:function(){t.remove(e)},get:function(){var s=t.get(e),a={};try{a=JSON.parse(s)}catch(s){a={}}return a},set:function(a,o){o=o||{};var n=s.get(),r=Object.assign(n,a);t.set(e,JSON.stringify(r),{domain:o.optInCookieDomain||"",cookieLifetime:o.optInStorageExpiry||3419e4,secure:o.secure,sameSite:o.sameSite,expires:!0})}};return s}function b(e){this.name=this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack}function m(){function e(e,t){var s=ge(e);return s.length?s.every((function(e){return!!t[e]})):fe(t)}function t(){_(T),I(te.COMPLETE),h(v.status,v.permissions),i&&f.set(v.permissions,{optInCookieDomain:c,optInStorageExpiry:d,secure:b,sameSite:m}),P.execute(Ae)}function s(e){return function(s,a){if(!ve(s))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");return I(te.CHANGED),Object.assign(T,he(ge(s),e)),a||t(),v}}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a.doesOptInApply,n=a.previousPermissions,r=a.preOptInApprovals,i=a.isOptInStorageEnabled,c=a.optInCookieDomain,d=a.optInStorageExpiry,l=a.isIabContext,b=a.secureCookie,m=a.sameSiteCookie,p=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).cookies,g=Te(n);Ie(g,"Invalid `previousPermissions`!"),Ie(r,"Invalid `preOptInApprovals`!");var f=u({cookieName:"adobeujs-optin"},{cookies:p}),v=this,h=ee(v),P=ie(),j=Ce(g),C=Ce(r),R=i?f.get():{},w={},E=function(e,t){return Re(e)||t&&Re(t)?te.COMPLETE:te.PENDING}(j,R),y=function(e,t,s){var a=he(re,!o);return o?Object.assign({},a,e,t,s):a}(C,j,R),T=Pe(y),I=function(e){return E=e},_=function(e){return y=e};v.deny=s(!1),v.approve=s(!0),v.denyAll=v.deny.bind(v,re),v.approveAll=v.approve.bind(v,re),v.isApproved=function(t){return e(t,v.permissions)},v.isPreApproved=function(t){return e(t,C)},v.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=t?v.on(te.COMPLETE,e):ye;return!o||o&&v.isComplete||r?e(v.permissions):t||P.add(Ae,(function(){return e(v.permissions)})),s},v.complete=function(){v.status===te.CHANGED&&t()},v.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Oe);w[e.name]||(w[e.name]=e,e.onRegister.call(e,v))},v.execute=ke(w),v.memoizeContent=function(e){Ee(e)&&f.set(e,{optInCookieDomain:c,optInStorageExpiry:d,secure:b,sameSite:m})},v.getMemoizedContent=function(e){var t=f.get();if(t)return t[e]},Object.defineProperties(v,{permissions:{get:function(){return y}},status:{get:function(){return E}},Categories:{get:function(){return se}},doesOptInApply:{get:function(){return!!o}},isPending:{get:function(){return v.status===te.PENDING}},isComplete:{get:function(){return v.status===te.COMPLETE}},__plugins:{get:function(){return Object.keys(w)}},isIabContext:{get:function(){return l}}})}function p(e,t){function s(){o=null,e.call(e,new b("The call took longer than you wanted!"))}function a(){o&&(clearTimeout(o),e.apply(e,arguments))}if(void 0===t)return e;var o=setTimeout(s,t);return a}function g(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e!==window.top){for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(t){var s={};return window.__tcfapi=function(e,a,o,n){var r=Math.random()+"",i={__tcfapiCall:{command:e,parameter:n,version:a,callId:r}};s[r]=o,t.postMessage(i,"*")},window.addEventListener("message",(function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var a=t.__tcfapiReturn;"function"==typeof s[a.callId]&&(s[a.callId](a.returnValue,a.success),delete s[a.callId])}}),!1),window.__tcfapi}me.error("__tcfapi not found")}else me.error("__tcfapi not found")}function f(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=!0===e.vendor.consents[t],o=s.every((function(t){return!0===e.purpose.consents[t]}));return a&&o}function v(){var e=this;e.name="iabPlugin",e.version="0.0.2";var t,s=ie(),a={transparencyAndConsentData:null},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a[e]=t};e.fetchConsentData=function(e){var t=p(e.callback,e.timeout);n({callback:t})},e.isApproved=function(e){var t=e.callback,s=e.category,o=e.timeout;if(a.transparencyAndConsentData)return t(null,f(a.transparencyAndConsentData,ae[s],oe[s]));var r=p((function(e,a){t(e,f(a,ae[s],oe[s]))}),o);n({category:s,callback:r})},e.onRegister=function(s){t=s;var a=Object.keys(ae),o=function(e,t){!e&&t&&(a.forEach((function(e){var a=f(t,ae[e],oe[e]);s[a?"approve":"deny"](e,!0)})),s.complete())};e.fetchConsentData({callback:o})};var n=function(e){var n=e.callback;if(a.transparencyAndConsentData)return n(null,a.transparencyAndConsentData);s.add("FETCH_CONSENT_DATA",n),r((function(e,n){if(n){var r=Pe(e),i=t.getMemoizedContent("iabConsentHash"),c=be(r.tcString).toString(32);r.consentString=e.tcString,r.hasConsentChangedSinceLastCmpPull=i!==c,o("transparencyAndConsentData",r),t.memoizeContent({iabConsentHash:c})}s.execute("FETCH_CONSENT_DATA",[null,a.transparencyAndConsentData])}))},r=function(e){var t=xe(ae),s=g();"function"==typeof s&&s("getTCData",2,e,t)}}var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,s,a=1;a<arguments.length;++a)for(t in s=arguments[a])Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);return e};var P,j,C={MESSAGES:{HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},STATE_KEYS_MAP:{MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},ASYNC_API_MAP:{MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},SYNC_API_MAP:{CUSTOMERIDS:"getCustomerIDs"},ALL_APIS:{MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},FIELDGROUP_TO_FIELD:{MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},FIELDS:{MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},AUTH_STATE:{UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},OPT_OUT:{GLOBAL:"global"},SAME_SITE_VALUES:{LAX:"Lax",STRICT:"Strict",NONE:"None"}},R=C.STATE_KEYS_MAP,w=function(e){function t(){}function s(t,s){var a=this;return function(){var o=e(0,t),n={};return n[t]=o,a.setStateAndPublish(n),s(o),o}}this.getMarketingCloudVisitorID=function(e){e=e||t;var a=this.findField(R.MCMID,e),o=s.call(this,R.MCMID,e);return void 0!==a?a:o()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID((function(t){e({MCMID:t})}))}},E=C.MESSAGES,y=C.ASYNC_API_MAP,T=C.SYNC_API_MAP,I=function(){function e(){}function t(e,t){var s=this;return function(){return s.callbackRegistry.add(e,t),s.messageParent(E.GETSTATE),""}}function s(s){this[y[s]]=function(a){a=a||e;var o=this.findField(s,a),n=t.call(this,s,a);return void 0!==o?o:n()}}function a(t){this[T[t]]=function(){return this.findField(t,e)||{}}}Object.keys(y).forEach(s,this),Object.keys(T).forEach(a,this)},_=C.ASYNC_API_MAP,x=function(){Object.keys(_).forEach((function(e){this[_[e]]=function(t){this.callbackRegistry.add(e,t)}}),this)},k=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t,s){s.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},s.isValueEmpty=function(e){return""===e||s.isObjectEmpty(e)};var a=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};s.getIeVersion=function(){return document.documentMode?document.documentMode:a()?7:null},s.isFirefox=function(e){return!!/Firefox\/([0-9\.]+)(?:\s|$)/.test(e||window.navigator.userAgent)},s.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},s.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},s.defineGlobalNamespace=function(){return window.adobe=s.isObject(window.adobe)?window.adobe:{},window.adobe},s.pluck=function(e,t){return t.reduce((function(t,s){return e[s]&&(t[s]=e[s]),t}),Object.create(null))},s.parseOptOut=function(e,t,s){t||(t=s,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var a=parseInt(e.d_ottl,10);return isNaN(a)&&(a=7200),{optOut:t,d_ottl:a}},s.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}})),A=(k.isObjectEmpty,k.isValueEmpty,k.getIeVersion,k.isFirefox,k.encodeAndBuildRequest,k.isObject,k.defineGlobalNamespace,k.pluck,k.parseOptOut,k.normalizeBoolean,s),O=C.MESSAGES,L={0:"prefix",1:"orgID",2:"state"},S=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach((function(e,s){void 0!==e&&(t[L[s]]=2!==s?e:JSON.parse(e))})),t}catch(e){}},this.isInvalid=function(s){var a=this.parse(s);if(!a||Object.keys(a).length<2)return!0;var o=e!==a.orgID,n=!t||s.origin!==t,r=-1===Object.keys(O).indexOf(a.prefix);return o||n||r},this.send=function(s,a,o){var n=a+"|"+e;o&&o===Object(o)&&(n+="|"+JSON.stringify(o));try{s.postMessage(n,t)}catch(e){}}},D=C.MESSAGES,V=function(e,t,s,a){function o(e){Object.assign(m,e)}function n(e){Object.assign(m.state,e),Object.assign(m.state.ALLFIELDS,e),m.callbackRegistry.executeAll(m.state)}function r(e){if(!f.isInvalid(e)){g=!1;var t=f.parse(e);m.setStateAndPublish(t.state)}}function i(e){!g&&p&&(g=!0,f.send(a,e))}function c(){o(new w(s._generateID)),m.getMarketingCloudVisitorID(),m.callbackRegistry.executeAll(m.state,!0),h.removeEventListener("message",d)}function d(e){if(!f.isInvalid(e)){var t=f.parse(e);g=!1,h.clearTimeout(m._handshakeTimeout),h.removeEventListener("message",d),o(new I(m)),h.addEventListener("message",r),m.setStateAndPublish(t.state),m.callbackRegistry.hasCallbacks()&&i(D.GETSTATE)}}function l(){p&&postMessage?(h.addEventListener("message",d),i(D.HANDSHAKE),m._handshakeTimeout=setTimeout(c,250)):c()}function u(){h.s_c_in||(h.s_c_il=[],h.s_c_in=0),m._c="Visitor",m._il=h.s_c_il,m._in=h.s_c_in,m._il[m._in]=m,h.s_c_in++}function b(){function e(e){0!==e.indexOf("_")&&"function"==typeof s[e]&&(m[e]=function(){})}Object.keys(s).forEach(e),m.getSupplementalDataID=s.getSupplementalDataID,m.isAllowed=function(){return!0}}var m=this,p=t.whitelistParentDomain;m.state={ALLFIELDS:{}},m.version=s.version,m.marketingCloudOrgID=e,m.cookieDomain=s.cookieDomain||"",m._instanceType="child";var g=!1,f=new S(e,p);m.callbackRegistry=A(),m.init=function(){u(),b(),o(new x(m)),l()},m.findField=function(e,t){if(void 0!==m.state[e])return t(m.state[e]),m.state[e]},m.messageParent=i,m.setStateAndPublish=n},M=C.MESSAGES,F=C.ALL_APIS,N=C.ASYNC_API_MAP,B=C.FIELDGROUP_TO_FIELD,U=function(e,t){function s(){var t={};return Object.keys(F).forEach((function(s){var a=F[s],o=e[a]();k.isValueEmpty(o)||(t[s]=o)})),t}function a(){var t=[];return e._loading&&Object.keys(e._loading).forEach((function(s){if(e._loading[s]){var a=B[s];t.push(a)}})),t.length?t:null}function o(t){return function s(){var o=a();if(o){var n=N[o[0]];e[n](s,!0)}else t()}}function n(e,a){var o=s();t.send(e,a,o)}function r(e){c(e),n(e,M.HANDSHAKE)}function i(e){o((function(){n(e,M.PARENTSTATE)}))()}function c(s){function a(a){o.call(e,a),t.send(s,M.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var o=e.setCustomerIDs;e.setCustomerIDs=a}return function(e){t.isInvalid(e)||(t.parse(e).prefix===M.HANDSHAKE?r:i)(e.source)}},G=function(e,t){function s(e){return function(s){a[e]=s,++o===n&&t(a)}}var a={},o=0,n=Object.keys(e).length;Object.keys(e).forEach((function(t){var a=e[t];if(a.fn){var o=a.args||[];o.unshift(s(t)),a.fn.apply(a.context||null,o)}}))},q={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),s=t.indexOf(";"+e+"="),a=s<0?s:t.indexOf(";",s+1);return s<0?"":decodeURIComponent(t.substring(s+2+e.length,a<0?t.length:a))},set:function(e,t,s){var o=a(s,"cookieLifetime"),n=a(s,"expires"),r=a(s,"domain"),i=a(s,"secure"),c=a(s,"sameSite"),d=i?"Secure":"",l=c?"SameSite="+c+";":"";if(n&&"SESSION"!==o&&"NONE"!==o){var u=""!==t?parseInt(o||0,10):-60;if(u)(n=new Date).setTime(n.getTime()+1e3*u);else if(1===n){var b=(n=new Date).getYear();n.setYear(b+2+(b<1900?1900:0))}}else n=0;return e&&"NONE"!==o?(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(n?" expires="+n.toGMTString()+";":"")+(r?" domain="+r+";":"")+l+d,this.get(e)===t):0},remove:function(e,t){var s=a(t,"domain");s=s?" domain="+s+";":"";var o=a(t,"secure"),n=a(t,"sameSite"),r=o?"Secure":"",i=n?"SameSite="+n+";":"";document.cookie=encodeURIComponent(e)+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"+s+i+r}},H=function(e,t){!e&&h.location&&(e=h.location.hostname);var s,a=e.split("."),o=t||{};for(s=a.length-2;s>=0;s--)if(o.domain=a.slice(s).join("."),q.set("test","cookie",o))return q.remove("test",o),o.domain;return""},K={compare:i,isLessThan:function(e,t){return i(e,t)<0},areVersionsDifferent:function(e,t){return 0!==i(e,t)},isGreaterThan:function(e,t){return i(e,t)>0},isEqual:function(e,t){return 0===i(e,t)}},z=!!h.postMessage,W={postMessage:function(e,t,s){var a=1;t&&(z?s.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(s.location=t.replace(/#.*$/,"")+"#"+ +new Date+a+++"&"+e))},receiveMessage:function(e,t){var s;try{z&&(e&&(s=function(s){if("string"==typeof t&&s.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(s.origin))return!1;e(s)}),h.addEventListener?h[e?"addEventListener":"removeEventListener"]("message",s):h[e?"attachEvent":"detachEvent"]("onmessage",s))}catch(e){}}},Y=function(e){var t,s,a="0123456789",o="",n="",r=8,i=10,c=10,d=(""+Date.now()).substr(-6).split("").reverse("").join("");if(1==e){for(a+="ABCDEF",t=0;16>t;t++)s=Math.floor(Math.random()*r),4>t&&d[t]<r&&(s=+d[t]),o+=a.substring(s,s+1),s=Math.floor(Math.random()*r),n+=a.substring(s,s+1),r=16;return o+"-"+n}for(t=0;19>t;t++)s=Math.floor(Math.random()*i),6>t&&d[t]<i?(o+=d[t],s=d[t]):o+=a.substring(s,s+1),0===t&&9==s?i=3:((1==t||2==t)&&10!=i&&2>s||2<t)&&(i=10),s=Math.floor(Math.random()*c),n+=a.substring(s,s+1),0===t&&9==s?c=3:((1==t||2==t)&&10!=c&&2>s||2<t)&&(c=10);return o+n},J=function(e){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(h.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new h[this.corsMetadata.corsType]},fireCORS:function(t,s){function a(e){var s;try{if((s=JSON.parse(e))!==Object(s))return void o.handleCORSError(t,null,"Response is not JSON")}catch(e){return void o.handleCORSError(t,e,"Error parsing response as JSON")}try{for(var a=t.callback,n=h,r=0;r<a.length;r++)n=n[a[r]];n(s)}catch(e){o.handleCORSError(t,e,"Error forming callback function")}}var o=this;s&&(t.loadErrorHandler=s);try{var n=this.getCORSInstance();n.open("get",t.corsUrl+"&ts="+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(n.withCredentials=!0,n.timeout=e.loadTimeout,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4===this.readyState&&200===this.status&&a(this.responseText)}),n.onerror=function(e){o.handleCORSError(t,e,"onerror")},n.ontimeout=function(e){o.handleCORSError(t,e,"ontimeout")},n.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,s,a){e.CORSErrors.push({corsData:t,error:s,description:a}),t.loadErrorHandler&&("ontimeout"===a?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},Z={POST_MESSAGE_ENABLED:!!h.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864e5,ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},$=function(e,t){var s=h.document;return{THROTTLE_START:3e4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,a="http://fast.",o="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(s.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(a=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=a+this.subdomain+".demdex.net/dest5.html"+o,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid="+e.idSyncContainerID+"#"+encodeURIComponent(s.location.href);"string"==typeof e.dpIframeSrc&&e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:Z.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){(o=s.createElement("iframe")).sandbox="allow-scripts allow-same-origin",o.title="Adobe ID Syncing iFrame",o.id=a.id,o.name=a.id+"_name",o.style.cssText="display: none; width: 0; height: 0;",o.src=a.url,a.newIframeCreated=!0,t(),s.body.appendChild(o)}function t(e){o.addEventListener("load",(function(){o.className="aamIframeLoaded",a.iframeHasLoaded=!0,a.fireIframeLoadedCallbacks(e),a.requestToProcess()}))}this.startedAttachingIframe=!0;var a=this,o=s.getElementById(this.id);o?"IFRAME"!==o.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==o.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=o,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),this.requestToProcess())):e(),this.iframe=o},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach((function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})})),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function s(){o.jsonForComparison.push(t),o.jsonWaiting.push(t),o.processSyncOnPage(t)}var a,o=this;if(t===Object(t)&&t.ibs)if(a=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var n,r,i,c=!1;for(n=0,r=this.jsonForComparison.length;n<r;n++)if(i=this.jsonForComparison[n],a===JSON.stringify(i.ibs||[])){c=!0;break}c?this.jsonDuplicates.push(t):s()}else s();if((this.receivedThirdPartyCookiesNotification||!Z.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var d=this.jsonWaiting.shift();this.process(d),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout((function(){o.messageSendingInterval=Z.POST_MESSAGE_ENABLED?null:150}),this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,s){var a=e._getField("MCAAMLH"),o=t.d_region||t.dcs_region;return a?o&&(e._setFieldExpire("MCAAMLH",s),e._setField("MCAAMLH",o),parseInt(a,10)!==o&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),a=o)):(a=o)&&(e._setFieldExpire("MCAAMLH",s),e._setField("MCAAMLH",a)),a||(a=""),a},processSyncOnPage:function(e){var t,s,a,o;if((t=e.ibs)&&t instanceof Array&&(s=t.length))for(a=0;a<s;a++)(o=t[a]).syncOnPage&&this.checkFirstPartyCookie(o,"","syncOnPage")},process:function(e){var t,s,a,o,n,r=encodeURIComponent,i=!1;if((t=e.ibs)&&t instanceof Array&&(s=t.length))for(i=!0,a=0;a<s;a++)o=t[a],n=[r("ibs"),r(o.id||""),r(o.tag||""),k.encodeAndBuildRequest(o.url||[],","),r(o.ttl||""),"","",o.fireURLSync?"true":"false"],o.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(n.join("|")):o.fireURLSync&&this.checkFirstPartyCookie(o,n.join("|")));i&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,s,a){var o="syncOnPage"===a,n=o?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var r,i,c=e._getField(n),d=!1,l=!1,u=Math.ceil((new Date).getTime()/Z.MILLIS_PER_DAY);c?(r=c.split("*"),d=(i=this.pruneSyncData(r,t.id,u)).dataPresent,l=i.dataValid,d&&l||this.fireSync(o,t,s,r,n,u)):(r=[],this.fireSync(o,t,s,r,n,u))},pruneSyncData:function(e,t,s){var a,o,n,r=!1,i=!1;for(o=0;o<e.length;o++)a=e[o],n=parseInt(a.split("-")[1],10),a.match("^"+t+"-")?(r=!0,s<n?i=!0:(e.splice(o,1),o--)):s>=n&&(e.splice(o,1),o--);return{dataPresent:r,dataValid:i}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort((function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)}));e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,s,a,o,n,r){var i=this;if(t){if("img"===s.tag){var c,d,l,u,b=s.url,m=e.loadSSL?"https:":"http:";for(c=0,d=b.length;c<d;c++){l=b[c],u=/^\/\//.test(l);var p=new Image;p.addEventListener("load",function(t,s,a,o){return function(){i.onPagePixels[t]=null,e._readVisitor();var r,c,d,l,u=e._getField(n),b=[];if(u)for(c=0,d=(r=u.split("*")).length;c<d;c++)(l=r[c]).match("^"+s.id+"-")||b.push(l);i.setSyncTrackingData(b,s,a,o)}}(this.onPagePixels.length,s,n,r)),p.src=(u?m:"")+l,this.onPagePixels.push(p)}}
}else this.addMessage(a),this.setSyncTrackingData(o,s,n,r)},addMessage:function(t){var s=encodeURIComponent(e._enableErrorReporting?"---destpub-debug---":"---destpub---");this.messages.push((Z.POST_MESSAGE_ENABLED?"":s)+t)},setSyncTrackingData:function(t,s,a,o){t.push(s.id+"-"+(o+Math.ceil(s.ttl/60/24))),this.manageSyncsSize(t),e._setField(a,t.join("*"))},sendMessages:function(){var e,t=this,s="",a=encodeURIComponent;this.regionChanged&&(s=a("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?Z.POST_MESSAGE_ENABLED?(e=s+a("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(s+e),setTimeout((function(){t.sendMessages()}),this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){W.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,s=/^---destpub-to-parent---/;"string"==typeof e&&s.test(e)&&("canSetThirdPartyCookies"===(t=e.replace(s,"").split("|"))[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(a){(null==this.url||a.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=a.subdomain||"",this.url=this.getUrl()),a.ibs instanceof Array&&a.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===s.readyState||"loaded"===s.readyState)&&this.attachIframe():this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(a):this.requestToProcess(a),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(a)},canMakeSyncIDCall:function(t,s){return e._forceSyncIDCall||!t||s-t>Z.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(s.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},Q={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},cookieName:{},doesOptInApply:{type:"boolean"},disableThirdPartyCalls:{type:"boolean"},discardTrackingServerECID:{type:"boolean"},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{type:"boolean"},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{type:"boolean"},disableThirdPartyCookies:{type:"boolean"},idSyncDisableSyncs:{type:"boolean"},disableIdSyncs:{type:"boolean"},idSyncIDCallResult:{},idSyncSSLUseAkamai:{type:"boolean"},isCoopSafe:{type:"boolean"},isIabContext:{type:"boolean"},isOptInStorageEnabled:{type:"boolean"},loadSSL:{type:"boolean"},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{type:"boolean"},preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{type:"boolean"},sameSiteCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},useLocalStorage:{type:"boolean"},whitelistIframeDomains:{},whitelistParentDomain:{}},X={getConfigNames:function(){return Object.keys(Q)},getConfigs:function(){return Q},normalizeConfig:function(e,t){return Q[e]&&"boolean"===Q[e].type?"function"!=typeof t?t:t():t}},ee=function(e){var t={};return e.on=function(e,s,a){if(!s||"function"!=typeof s)throw new Error("[ON] Callback should be a function.");t.hasOwnProperty(e)||(t[e]=[]);var o=t[e].push({callback:s,context:a})-1;return function(){t[e].splice(o,1),t[e].length||delete t[e]}},e.off=function(e,s){t.hasOwnProperty(e)&&(t[e]=t[e].filter((function(e){if(e.callback!==s)return e})))},e.publish=function(e){if(t.hasOwnProperty(e)){var s=[].slice.call(arguments,1);t[e].slice(0).forEach((function(e){e.callback.apply(e.context,s)}))}},e.publish},te={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},se={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},ae=(t(P={},se.AAM,565),t(P,se.ECID,565),P),oe=(t(j={},se.AAM,[1,10]),t(j,se.ECID,[1,10]),j),ne=["videoaa","iabConsentHash"],re=function(e){return Object.keys(e).map((function(t){return e[t]}))}(se),ie=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,s){if(!d(s))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=e.callbacks[t]||[];var a=e.callbacks[t].push(s)-1;return function(){e.callbacks[t].splice(a,1)}},e.execute=function(t,s){if(e.callbacks[t]){s=(s=void 0===s?[]:s)instanceof Array?s:[s];try{for(;e.callbacks[t].length;){var a=e.callbacks[t].shift();"function"==typeof a?a.apply(null,s):a instanceof Array&&a[1].apply(a[0],s)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,s){(s||t&&!c(t))&&Object.keys(e.callbacks).forEach((function(s){var a=void 0!==t[s]?t[s]:"";e.execute(s,a)}),e)},e.hasCallbacks=function(){return Boolean(Object.keys(e.callbacks).length)},e},ce=function(){},de=function(e){var t=window.console;return!!t&&"function"==typeof t[e]},le=function(e,t,s){return s()?function(){if(de(e)){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];console[e].apply(console,[t].concat(a))}}:ce},ue=l,be=function(){for(var e=[],t=0;t<256;t++){for(var s=t,a=0;a<8;a++)s=1&s?3988292384^s>>>1:s>>>1;e.push(s)}return function(t,s){t=unescape(encodeURIComponent(t)),s||(s=0),s^=-1;for(var a=0;a<t.length;a++){var o=255&(s^t.charCodeAt(a));s=s>>>8^e[o]}return(s^=-1)>>>0}}(),me=new ue("[ADOBE OPT-IN]"),pe=function(t,s){return e(t)===s},ge=function(e,t){return e instanceof Array?e:pe(e,"string")?[e]:t||[]},fe=function(e){var t=Object.keys(e);return!!t.length&&t.every((function(t){return!0===e[t]}))},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||je(e))&&ge(e).every((function(e){return re.indexOf(e)>-1||t&&ne.indexOf(e)>-1}))},he=function(e,t){return e.reduce((function(e,s){return e[s]=t,e}),{})},Pe=function(e){return JSON.parse(JSON.stringify(e))},je=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Ce=function(e){if(Ee(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Re=function(e){return void 0===e||(Ee(e)?ve(Object.keys(e),!0):we(e))},we=function(e){try{var t=JSON.parse(e);return!!e&&pe(e,"string")&&ve(Object.keys(t),!0)}catch(e){return!1}},Ee=function(e){return null!==e&&pe(e,"object")&&!1===Array.isArray(e)},ye=function(){},Te=function(e){return pe(e,"function")?e():e},Ie=function(e,t){Re(e)||me.error("".concat(t))},_e=function(e){return Object.keys(e).map((function(t){return e[t]}))},xe=function(e){return _e(e).filter((function(e,t,s){return s.indexOf(e)===t}))},ke=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.command,a=t.params,o=void 0===a?{}:a,n=t.callback,r=void 0===n?ye:n;if(!s||-1===s.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");try{var i=s.split("."),c=e[i[0]],d=i[1];if(!c||"function"!=typeof c[d])throw new Error("Make sure the plugin and API name exist.");var l=Object.assign(o,{callback:r});c[d].call(c,l)}catch(e){me.error("[execute] Something went wrong: "+e.message)}}};b.prototype=Object.create(Error.prototype),b.prototype.constructor=b;var Ae="fetchPermissions",Oe="[OptIn#registerPlugin] Plugin is invalid.";m.Categories=se,m.TimeoutError=b;var Le=Object.freeze({OptIn:m,IabPlugin:v}),Se=function(e,t){e.publishDestinations=function(s){var a=arguments[1],o=arguments[2];try{o="function"==typeof o?o:s.callback}catch(e){o=function(){}}var n=t;if(n.readyToAttachIframePreliminary()){if("string"==typeof s){if(!s.length)return void o({error:"subdomain is not a populated string."});if(!(a instanceof Array&&a.length))return void o({error:"messages is not a populated array."});var r=!1;if(a.forEach((function(e){"string"==typeof e&&e.length&&(n.addMessage(e),r=!0)})),!r)return void o({error:"None of the messages are populated strings."})}else{if(!k.isObject(s))return void o({error:"Invalid parameters passed."});var i=s;if("string"!=typeof(s=i.subdomain)||!s.length)return void o({error:"config.subdomain is not a populated string."});var c=i.urlDestinations;if(!(c instanceof Array&&c.length))return void o({error:"config.urlDestinations is not a populated array."});var d=[];c.forEach((function(e){k.isObject(e)&&(e.hideReferrer?e.message&&n.addMessage(e.message):d.push(e))})),function e(){d.length&&setTimeout((function(){var t=new Image,s=d.shift();t.src=s.url,n.onPageDestinationsFired.push(s),e()}),100)}()}n.iframe?(o({message:"The destination publishing iframe is already attached and loaded."}),n.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(n.subdomain=s,n.doAttachIframe=!0,n.url=n.getUrl(),n.readyToAttachIframe()?(n.iframeLoadedCallbacks.push((function(e){o({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+(e.message||"no result")})})),n.attachIframe()):o({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):n.iframeLoadedCallbacks.push((function(e){o({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})}))}else o({error:"The destination publishing iframe is disabled in the Visitor library."})}},De=function e(t){function s(e,t){return e>>>t|e<<32-t}for(var a,o,n=Math.pow,r=n(2,32),i="",c=[],d=8*t.length,l=e.h=e.h||[],u=e.k=e.k||[],b=u.length,m={},p=2;b<64;p++)if(!m[p]){for(a=0;a<313;a+=p)m[a]=p;l[b]=n(p,.5)*r|0,u[b++]=n(p,1/3)*r|0}for(t+="\x80";t.length%64-56;)t+="\0";for(a=0;a<t.length;a++){if((o=t.charCodeAt(a))>>8)return;c[a>>2]|=o<<(3-a)%4*8}for(c[c.length]=d/r|0,c[c.length]=d,o=0;o<c.length;){var g=c.slice(o,o+=16),f=l;for(l=l.slice(0,8),a=0;a<64;a++){var v=g[a-15],h=g[a-2],P=l[0],j=l[4],C=l[7]+(s(j,6)^s(j,11)^s(j,25))+(j&l[5]^~j&l[6])+u[a]+(g[a]=a<16?g[a]:g[a-16]+(s(v,7)^s(v,18)^v>>>3)+g[a-7]+(s(h,17)^s(h,19)^h>>>10)|0);(l=[C+((s(P,2)^s(P,13)^s(P,22))+(P&l[1]^P&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+C|0}for(a=0;a<8;a++)l[a]=l[a]+f[a]|0}for(a=0;a<8;a++)for(o=3;o+1;o--){var R=l[a]>>8*o&255;i+=(R<16?0:"")+R.toString(16)}return i},Ve=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=De(e)),e},Me=function(e){return String(e).trim().toLowerCase()},Fe=Le.OptIn;k.defineGlobalNamespace(),window.adobe.OptInCategories=Fe.Categories;var Ne=function(t,s,a){function o(){P._customerIDsHashChanged=!1}function n(e){var t=e;return function(e){var s=e||T.location.href;try{var a=P._extractParamFromUri(s,t);if(a)return te.parsePipeDelimetedKeyValues(a)}catch(e){}}}function r(e){function t(e,t,s){e&&e.match(Z.VALID_VISITOR_ID_REGEX)&&(s===O&&(y=!0),t(e))}t(e[O],P.setMarketingCloudVisitorID,O),P._setFieldExpire(F,-1),t(e[V],P.setAnalyticsVisitorID)}function i(e){e=e||{},P._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",P._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||{},P._supplementalDataIDLast=e.supplementalDataIDLast||"",P._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function c(e){function t(e,t,s){return(s=s?s+="|":s)+(e+"=")+encodeURIComponent(t)}function s(e,s){var a=s[0],o=s[1];return null!=o&&o!==N&&(e=t(a,o,e)),e}return function(e){return(e=e?e+="|":e)+"TS="+te.getTimestampInSeconds()}(e.reduce(s,""))}function d(e){var t=e.minutesToLive,s="";return(P.idSyncDisableSyncs||P.disableIdSyncs)&&(s=s||"Error: id syncs have been disabled"),"string"==typeof e.dpid&&e.dpid.length||(s=s||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(s=s||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(s=s||"Error: config.minutesToLive needs to be a positive number")),{error:s,ttl:t}}function l(){return!(!P.configs.doesOptInApply||j.optIn.isComplete&&u())}function u(){return P.configs.doesOptInApply&&P.configs.isIabContext?j.optIn.isApproved(j.optIn.Categories.ECID)&&E:j.optIn.isApproved(j.optIn.Categories.ECID)}function b(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach((function(e){var t=e[0],s=2===e.length?e[1]:"",a=P[t];P[t]=function(e){return u()&&P.isAllowed()?a.apply(P,arguments):("function"==typeof e&&P._callCallback(e,[s]),s)}}))}function m(){var e=P._getAudienceManagerURLData(),t=e.url;return P._loadData(A,t,null,e)}function p(e,t){if(E=!0,e)throw new Error("[IAB plugin] : "+e);t&&t.gdprApplies&&(R=t.consentString,w=t.hasConsentChangedSinceLastCmpPull?1:0),m(),v()}function g(e,t){if(E=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(R=t.consentString,w=t.hasConsentChangedSinceLastCmpPull?1:0),P.init(),v()}function f(){j.optIn.isComplete&&(j.optIn.isApproved(j.optIn.Categories.ECID)?P.configs.isIabContext?j.optIn.execute({command:"iabPlugin.fetchConsentData",callback:g}):(P.init(),v()):P.configs.isIabContext?j.optIn.execute({command:"iabPlugin.fetchConsentData",callback:p}):(b(),v()))}function v(){j.optIn.off("complete",f)}if(!a||a.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var P=this,j=window.adobe,R="",w=0,E=!1,y=!1;P.version="5.3.0";var T=h,I=T.Visitor;I.version=P.version,I.AuthState=C.AUTH_STATE,I.OptOut=C.OPT_OUT,T.s_c_in||(T.s_c_il=[],T.s_c_in=0),P._c="Visitor",P._il=T.s_c_il,P._in=T.s_c_in,P._il[P._in]=P,T.s_c_in++,P._instanceType="regular",P._log={requests:[]},P.marketingCloudOrgID=t,P.cookieName="AMCV_"+t,P.sessionCookieName="AMCVS_"+t;var _={};s&&s.secureCookie&&s.sameSiteCookie&&(_={sameSite:s.sameSiteCookie,secure:s.secureCookie}),P.cookieDomain=P.useLocalStorage?"":H(null,_),P.loadSSL=!0,P.loadTimeout=3e4,P.CORSErrors=[],P.marketingCloudServer=P.audienceManagerServer="dpm.demdex.net",P.sdidParamExpiry=30;var x=null,A="MC",O="MCMID",L="MCIDTS",D="A",V="MCAID",M="AAM",F="MCAAMB",N="NONE",B=function(e){return!Object.prototype[e]},z=J(P);P.FIELDS=C.FIELDS,P.cookieRead=function(e){return P.useLocalStorage?e===P.sessionCookieName?sessionStorage.getItem(e):localStorage.getItem(e):q.get(e)},P.cookieWrite=function(e,t,s){var a=""+t;if(P.useLocalStorage)return e===P.sessionCookieName?sessionStorage.setItem(e,a):localStorage.setItem(e,a);var o=P.cookieLifetime?(""+P.cookieLifetime).toUpperCase():"",n={expires:s,domain:P.cookieDomain,cookieLifetime:o};return P.configs&&P.configs.secureCookie&&"https:"===location.protocol&&(n.secure=!0),P.configs&&P.configs.sameSiteCookie&&"https:"===location.protocol&&(n.sameSite=C.SAME_SITE_VALUES[P.configs.sameSiteCookie.toUpperCase()]||"Lax"),q.set(e,a,n)},P.removeCookie=function(e){if(P.useLocalStorage)return e===P.sessionCookieName?sessionStorage.removeItem(e):localStorage.removeItem(e);var t={domain:P.cookieDomain};return P.configs&&P.configs.secureCookie&&"https:"===location.protocol&&(t.secure=!0),P.configs&&P.configs.sameSiteCookie&&"https:"===location.protocol&&(t.sameSite=C.SAME_SITE_VALUES[P.configs.sameSiteCookie.toUpperCase()]||"Lax"),q.remove(e,t)},P.resetState=function(e){e?P._mergeServerState(e):i()},P._isAllowedDone=!1,P._isAllowedFlag=!1,P.isAllowed=function(){return P._isAllowedDone||(P._isAllowedDone=!0,(P.cookieRead(P.cookieName)||P.cookieWrite(P.cookieName,"T",1))&&(P._isAllowedFlag=!0)),"T"===P.cookieRead(P.cookieName)&&P.removeCookie(P.cookieName),P._isAllowedFlag},P.setMarketingCloudVisitorID=function(e){P._setMarketingCloudFields(e)},P._use1stPartyMarketingCloudServer=!1,P.getMarketingCloudVisitorID=function(e,t){P.marketingCloudServer&&P.marketingCloudServer.indexOf(".demdex.net")<0&&(P._use1stPartyMarketingCloudServer=!0);var s=P._getAudienceManagerURLData("_setMarketingCloudFields"),a=s.url;return P._getRemoteField(O,a,e,t,s)};var Q=function(e,t){var s={};P.getMarketingCloudVisitorID((function(){t.forEach((function(e){s[e]=P._getField(e,!0)})),-1!==t.indexOf("MCOPTOUT")?P.isOptedOut((function(t){s.MCOPTOUT=t,e(s)}),null,!0):e(s)}),!0)};P.getVisitorValues=function(e,t){var s={MCMID:{fn:P.getMarketingCloudVisitorID,args:[!0],context:P},MCOPTOUT:{fn:P.isOptedOut,args:[void 0,!0],context:P},MCAID:{fn:P.getAnalyticsVisitorID,args:[!0],context:P},MCAAMLH:{fn:P.getAudienceManagerLocationHint,args:[!0],context:P},MCAAMB:{fn:P.getAudienceManagerBlob,args:[!0],context:P}},a=t&&t.length?k.pluck(s,t):s;t&&-1===t.indexOf("MCAID")?Q(e,t):G(a,e)},P._currentCustomerIDs={},P._customerIDsHashChanged=!1,P._newCustomerIDsHash="",P.setCustomerIDs=function(t,s){if(!P.isOptedOut()&&t){if(!k.isObject(t)||k.isObjectEmpty(t))return!1;var a,n,r,i;for(a in P._readVisitor(),t)if(B(a)&&(P._currentCustomerIDs.dataSources=P._currentCustomerIDs.dataSources||{},s=(n=t[a]).hasOwnProperty("hashType")?n.hashType:s,n))if("object"===e(n)){var c={};if(n.id){if(s){if(!(i=Ve(Me(n.id),s)))return;n.id=i,c.hashType=s}c.id=n.id}null!=n.authState&&(c.authState=n.authState),P._currentCustomerIDs.dataSources[a]=c}else if(s){if(!(i=Ve(Me(n),s)))return;P._currentCustomerIDs.dataSources[a]={id:i,hashType:s}}else P._currentCustomerIDs.dataSources[a]={id:n};var d=P.getCustomerIDs(!0),l=P._getField("MCCIDH"),u="";for(r in l||(l=0),d){var b=d[r];if(!k.isObjectEmpty(b))for(a in b)B(a)&&(u+=(u?"|":"")+a+"|"+((n=b[a]).id?n.id:"")+(n.authState?n.authState:""))}P._newCustomerIDsHash=String(P._hash(u)),P._newCustomerIDsHash!==l&&(P._customerIDsHashChanged=!0,P._mapCustomerIDs(o))}},P.syncIdentity=function(t,s){if(!P.isOptedOut()&&t){if(!k.isObject(t)||k.isObjectEmpty(t))return!1;var a,n,r,i,c;for(a in P._readVisitor(),t)if(B(a)&&(P._currentCustomerIDs.nameSpaces=P._currentCustomerIDs.nameSpaces||{},s=(n=t[a]).hasOwnProperty("hashType")?n.hashType:s,n&&"object"===e(n))){var d={};if(n.id){if(s){if(!(r=Ve(Me(n.id),s)))return;n.id=r,d.hashType=s}d.id=n.id}null!=n.authState&&(d.authState=n.authState),n.dataSource&&(P._currentCustomerIDs.dataSources=P._currentCustomerIDs.dataSources||{},i=n.dataSource,P._currentCustomerIDs.dataSources[i]=d),P._currentCustomerIDs.nameSpaces[a]=d}var l=P.getCustomerIDs(!0),u=P._getField("MCCIDH"),b="";for(c in u||(u="0"),l){var m=l[c];if(!k.isObjectEmpty(m))for(a in m)B(a)&&(b+=(b?"|":"")+a+"|"+((n=m[a]).id?n.id:"")+(n.authState?n.authState:""))}P._newCustomerIDsHash=String(P._hash(b)),P._newCustomerIDsHash!==u&&(P._customerIDsHashChanged=!0,P._mapCustomerIDs(o))}},P.getCustomerIDs=function(e){P._readVisitor();var t,s,a={dataSources:{},nameSpaces:{}},o=P._currentCustomerIDs.dataSources;for(t in o)B(t)&&(s=o[t]).id&&(a.dataSources[t]||(a.dataSources[t]={}),a.dataSources[t].id=s.id,null!=s.authState?a.dataSources[t].authState=s.authState:a.dataSources[t].authState=I.AuthState.UNKNOWN,s.hashType&&(a.dataSources[t].hashType=s.hashType));var n=P._currentCustomerIDs.nameSpaces;for(t in n)B(t)&&(s=n[t]).id&&(a.nameSpaces[t]||(a.nameSpaces[t]={}),a.nameSpaces[t].id=s.id,null!=s.authState?a.nameSpaces[t].authState=s.authState:a.nameSpaces[t].authState=I.AuthState.UNKNOWN,s.hashType&&(a.nameSpaces[t].hashType=s.hashType));return e?a:a.dataSources},P.setAnalyticsVisitorID=function(e){P._setAnalyticsFields(e)},P.getAnalyticsVisitorID=function(e,t,s){if(!te.isTrackingServerPopulated()&&!s)return P._callCallback(e,[""]),"";var a="";if(s||(a=P.getMarketingCloudVisitorID((function(){P.getAnalyticsVisitorID(e,!0)}))),a||s){var o=s?P.marketingCloudServer:P.trackingServer,n="";P.loadSSL&&(s?P.marketingCloudServerSecure&&(o=P.marketingCloudServerSecure):P.trackingServerSecure&&(o=P.trackingServerSecure));var r={};if(o){var i="http"+(P.loadSSL?"s":"")+"://"+o+"/id",c="d_visid_ver="+P.version+"&mcorgid="+encodeURIComponent(P.marketingCloudOrgID)+(a?"&mid="+encodeURIComponent(a):"")+(P.idSyncDisable3rdPartySyncing||P.disableThirdPartyCookies?"&d_coppa=true":""),d=["s_c_il",P._in,"_set"+(s?"MarketingCloud":"Analytics")+"Fields"];n=i+"?"+c+"&callback=s_c_il%5B"+P._in+"%5D._set"+(s?"MarketingCloud":"Analytics")+"Fields",r.corsUrl=i+"?"+c,r.callback=d}return r.url=n,P._getRemoteField(s?O:V,n,e,t,r)}return""},P.getAudienceManagerLocationHint=function(e,t){if(P.getMarketingCloudVisitorID((function(){P.getAudienceManagerLocationHint(e,!0)}))){var s=P._getField(V);if(!s&&te.isTrackingServerPopulated()&&(s=P.getAnalyticsVisitorID((function(){P.getAudienceManagerLocationHint(e,!0)}))),s||!te.isTrackingServerPopulated()){var a=P._getAudienceManagerURLData(),o=a.url;return P._getRemoteField("MCAAMLH",o,e,t,a)}}return""},P.getLocationHint=P.getAudienceManagerLocationHint,P.getAudienceManagerBlob=function(e,t){if(P.getMarketingCloudVisitorID((function(){P.getAudienceManagerBlob(e,!0)}))){var s=P._getField(V);if(!s&&te.isTrackingServerPopulated()&&(s=P.getAnalyticsVisitorID((function(){P.getAudienceManagerBlob(e,!0)}))),s||!te.isTrackingServerPopulated()){var a=P._getAudienceManagerURLData(),o=a.url;return P._customerIDsHashChanged&&P._setFieldExpire(F,-1),P._getRemoteField(F,o,e,t,a)}}return""},P._supplementalDataIDCurrent="",P._supplementalDataIDCurrentConsumed={},P._supplementalDataIDLast="",P._supplementalDataIDLastConsumed={},P.getSupplementalDataID=function(e,t){P._supplementalDataIDCurrent||t||(P._supplementalDataIDCurrent=P._generateID(1));var s=P._supplementalDataIDCurrent;return P._supplementalDataIDLast&&!P._supplementalDataIDLastConsumed[e]?(s=P._supplementalDataIDLast,P._supplementalDataIDLastConsumed[e]=!0):s&&(P._supplementalDataIDCurrentConsumed[e]&&(P._supplementalDataIDLast=P._supplementalDataIDCurrent,P._supplementalDataIDLastConsumed=P._supplementalDataIDCurrentConsumed,P._supplementalDataIDCurrent=s=t?"":P._generateID(1),P._supplementalDataIDCurrentConsumed={}),s&&(P._supplementalDataIDCurrentConsumed[e]=!0)),s};var X=!1;P._liberatedOptOut=null,P.getOptOut=function(e,t){var s=P._getAudienceManagerURLData("_setMarketingCloudFields"),a=s.url;if(u())return P._getRemoteField("MCOPTOUT",a,e,t,s);if(P._registerCallback("liberatedOptOut",e),null!==P._liberatedOptOut)return P._callAllCallbacks("liberatedOptOut",[P._liberatedOptOut]),X=!1,P._liberatedOptOut;if(X)return null;X=!0;var o="liberatedGetOptOut";return s.corsUrl=s.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),s.callback=[o],h[o]=function(e){if(e===Object(e)){var t,s,a=k.parseOptOut(e,t,N);t=a.optOut,s=1e3*a.d_ottl,P._liberatedOptOut=t,setTimeout((function(){P._liberatedOptOut=null}),s)}P._callAllCallbacks("liberatedOptOut",[t]),X=!1},z.fireCORS(s),null},P.isOptedOut=function(e,t,s){t||(t=I.OptOut.GLOBAL);var a=P.getOptOut((function(s){var a=s===I.OptOut.GLOBAL||s.indexOf(t)>=0;P._callCallback(e,[a])}),s);return a?a===I.OptOut.GLOBAL||a.indexOf(t)>=0:null};var ee={subscribed:!1,callbacks:[]};P.onReceiveEcid=function(e){if(u())return P.getMarketingCloudVisitorID(e,!0);ee.subscribed=!0,e&&"function"==typeof e&&ee.callbacks.push(e)},P._fields=null,P._fieldsExpired=null,P._hash=function(e){var t,s=0;if(e)for(t=0;t<e.length;t++)s=(s<<5)-s+e.charCodeAt(t),s&=s;return s},P._generateID=Y,P._generateLocalMID=function(){var e=P._generateID(0);return oe.isClientSideMarketingCloudVisitorID=!0,e},P._callbackList=null,P._callCallback=function(e,t){try{"function"==typeof e?e.apply(T,t):e[1].apply(e[0],t)}catch(e){}},P._registerCallback=function(e,t){t&&(null==P._callbackList&&(P._callbackList={}),null==P._callbackList[e]&&(P._callbackList[e]=[]),P._callbackList[e].push(t))},P._callAllCallbacks=function(e,t){if(null!=P._callbackList){var s=P._callbackList[e];if(s)for(;s.length>0;)P._callCallback(s.shift(),t)}},P._addQuerystringParam=function(e,t,s,a){var o=encodeURIComponent(t)+"="+encodeURIComponent(s),n=te.parseHash(e),r=te.hashlessUrl(e);if(-1===r.indexOf("?"))return r+"?"+o+n;var i=r.split("?"),c=i[0]+"?",d=i[1];return c+te.addQueryParamAtLocation(d,o,a)+n},P._extractParamFromUri=function(e,t){var s=new RegExp("[\\?&#]"+t+"=([^&#]*)").exec(e);if(s&&s.length)return decodeURIComponent(s[1])},P._parseAdobeMcFromUrl=n(Z.ADOBE_MC),P._parseAdobeMcSdidFromUrl=n(Z.ADOBE_MC_SDID),P._attemptToPopulateSdidFromUrl=function(e){var s=P._parseAdobeMcSdidFromUrl(e),a=1e9;s&&s.TS&&(a=te.getTimestampInSeconds()-s.TS),s&&s.SDID&&s.MCORGID===t&&a<P.sdidParamExpiry&&(P._supplementalDataIDCurrent=s.SDID,P._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},P._attemptToPopulateIdsFromUrl=function(){var e=P._parseAdobeMcFromUrl();if(e&&e.TS){var s=te.getTimestampInSeconds()-e.TS;if(Math.floor(s/60)>Z.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;r(e)}},P._mergeServerState=function(e){if(e)try{if((e=function(e){return te.isObject(e)?e:JSON.parse(e)}(e))[P.marketingCloudOrgID]){var t=e[P.marketingCloudOrgID];!function(e){te.isObject(e)&&P.setCustomerIDs(e)}(t.customerIDs),i(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.")}},P._timeout=null,P._loadData=function(e,t,s,a){t=P._addQuerystringParam(t,"d_fieldgroup",e,1),a.url=P._addQuerystringParam(a.url,"d_fieldgroup",e,1),a.corsUrl=P._addQuerystringParam(a.corsUrl,"d_fieldgroup",e,1),oe.fieldGroupObj[e]=!0,a===Object(a)&&a.corsUrl&&"XMLHttpRequest"===z.corsMetadata.corsType&&z.fireCORS(a,s,e)},P._clearTimeout=function(e){null!=P._timeout&&P._timeout[e]&&(clearTimeout(P._timeout[e]),P._timeout[e]=0)},P._settingsDigest=0,P._getSettingsDigest=function(){if(!P._settingsDigest){var e=P.version;P.audienceManagerServer&&(e+="|"+P.audienceManagerServer),P.audienceManagerServerSecure&&(e+="|"+P.audienceManagerServerSecure),P._settingsDigest=P._hash(e)}return P._settingsDigest},P._readVisitorDone=!1,P._readVisitor=function(){if(!P._readVisitorDone){P._readVisitorDone=!0;var e,t,s,a,o,n,r=P._getSettingsDigest(),i=!1,c=P.cookieRead(P.cookieName),d=new Date;if(c||y||P.discardTrackingServerECID||(c=P.cookieRead(Z.FIRST_PARTY_SERVER_COOKIE)),null==P._fields&&(P._fields={}),c&&"T"!==c)for((c=c.split("|"))[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==r&&(i=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)s=(t=c[e].split("-"))[0],a=c[e+1],t.length>1?(o=parseInt(t[1],10),n=t[1].indexOf("s")>0):(o=0,n=!1),i&&("MCCIDH"===s&&(a=""),o>0&&(o=d.getTime()/1e3-60)),s&&a&&(P._setField(s,a,1),o>0&&(P._fields["expire"+s]=o+(n?"s":""),(d.getTime()>=1e3*o||n&&!P.cookieRead(P.sessionCookieName))&&(P._fieldsExpired||(P._fieldsExpired={}),P._fieldsExpired[s]=!0)));!P._getField(V)&&te.isTrackingServerPopulated()&&(c=P.cookieRead("s_vi"))&&(c=c.split("|")).length>1&&c[0].indexOf("v1")>=0&&((e=(a=c[1]).indexOf("["))>=0&&(a=a.substring(0,e)),a&&a.match(Z.VALID_VISITOR_ID_REGEX)&&P._setField(V,a))}},P._appendVersionTo=function(e){var t="vVersion|"+P.version,s=e?P._getCookieVersion(e):null;return s?K.areVersionsDifferent(s,P.version)&&(e=e.replace(Z.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},P._writeVisitor=function(){var e,t,s=P._getSettingsDigest();for(e in P._fields)B(e)&&P._fields[e]&&"expire"!==e.substring(0,6)&&(t=P._fields[e],s+=(s?"|":"")+e+(P._fields["expire"+e]?"-"+P._fields["expire"+e]:"")+"|"+t);s=P._appendVersionTo(s),P.cookieWrite(P.cookieName,s,1)},P._getField=function(e,t){return null==P._fields||!t&&P._fieldsExpired&&P._fieldsExpired[e]?null:P._fields[e]},P._setField=function(e,t,s){null==P._fields&&(P._fields={}),P._fields[e]=t,s||P._writeVisitor()},P._getFieldList=function(e,t){var s=P._getField(e,t);return s?s.split("*"):null},P._setFieldList=function(e,t,s){P._setField(e,t?t.join("*"):"",s)},P._getFieldMap=function(e,t){var s=P._getFieldList(e,t);if(s){var a,o={};for(a=0;a<s.length;a+=2)o[s[a]]=s[a+1];return o}return null},P._setFieldMap=function(e,t,s){var a,o=null;if(t)for(a in o=[],t)B(a)&&(o.push(a),o.push(t[a]));P._setFieldList(e,o,s)},P._setFieldExpire=function(e,t,s){var a=new Date;a.setTime(a.getTime()+1e3*t),null==P._fields&&(P._fields={}),P._fields["expire"+e]=Math.floor(a.getTime()/1e3)+(s?"s":""),t<0?(P._fieldsExpired||(P._fieldsExpired={}),P._fieldsExpired[e]=!0):P._fieldsExpired&&(P._fieldsExpired[e]=!1),s&&(P.cookieRead(P.sessionCookieName)||P.cookieWrite(P.sessionCookieName,"1"))},P._findVisitorID=function(t){return t&&("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=N),t&&(t===N||t.match(Z.VALID_VISITOR_ID_REGEX))||(t="")),t},P._setFields=function(t,s){if(P._clearTimeout(t),null!=P._loading&&(P._loading[t]=!1),oe.fieldGroupObj[t]&&oe.setState(t,!1),t===A){!0!==oe.isClientSideMarketingCloudVisitorID&&(oe.isClientSideMarketingCloudVisitorID=!1);var a=P._getField(O);if(!a||P.overwriteCrossDomainMCIDAndAID){if(!(a="object"===e(s)&&s.mid?s.mid:P._findVisitorID(s))){if(P._use1stPartyMarketingCloudServer&&!P.tried1stPartyMarketingCloudServer)return P.tried1stPartyMarketingCloudServer=!0,void P.getAnalyticsVisitorID(null,!1,!0);a=P._generateLocalMID()}P._setField(O,a)}a&&a!==N||(a=""),"object"===e(s)&&((s.d_region||s.dcs_region||s.d_blob||s.blob)&&P._setFields(M,s),P._use1stPartyMarketingCloudServer&&s.mid&&P._setFields(D,{id:s.id})),P._callAllCallbacks(O,[a])}if(t===M&&"object"===e(s)){var o=604800;null!=s.id_sync_ttl&&s.id_sync_ttl&&(o=parseInt(s.id_sync_ttl,10));var n=se.getRegionAndCheckIfChanged(s,o);P._callAllCallbacks("MCAAMLH",[n]);var r=P._getField(F);(s.d_blob||s.blob)&&((r=s.d_blob)||(r=s.blob),P._setFieldExpire(F,o),P._setField(F,r)),r||(r=""),P._callAllCallbacks(F,[r]),!s.error_msg&&P._newCustomerIDsHash&&P._setField("MCCIDH",P._newCustomerIDsHash)}if(t===D){var i=P._getField(V);i&&!P.overwriteCrossDomainMCIDAndAID||((i=P._findVisitorID(s))?i!==N&&P._setFieldExpire(F,-1):i=N,P._setField(V,i)),i&&i!==N||(i=""),P._callAllCallbacks(V,[i])}if(P.idSyncDisableSyncs||P.disableIdSyncs)se.idCallNotProcesssed=!0;else{se.idCallNotProcesssed=!1;var c={};c.ibs=s.ibs,c.subdomain=s.subdomain,se.processIDCallData(c)}if(s===Object(s)){var d,l;u()&&P.isAllowed()&&(d=P._getField("MCOPTOUT"));var b=k.parseOptOut(s,d,N);d=b.optOut,l=b.d_ottl,P._setFieldExpire("MCOPTOUT",l,!0),P._setField("MCOPTOUT",d),P._callAllCallbacks("MCOPTOUT",[d])}},P._loading=null,P._getRemoteField=function(e,t,s,a,o){var n,r="",i=te.isFirstPartyAnalyticsVisitorIDCall(e),c={MCAAMLH:!0,MCAAMB:!0};if(u()&&P.isAllowed())if(P._readVisitor(),!(!(r=P._getField(e,!0===c[e]))||P._fieldsExpired&&P._fieldsExpired[e])||P.disableThirdPartyCalls&&!i)r||(e===O?(P._registerCallback(e,s),r=P._generateLocalMID(),P.setMarketingCloudVisitorID(r)):e===V?(P._registerCallback(e,s),r="",P.setAnalyticsVisitorID(r)):(r="",a=!0));else if(e===O||"MCOPTOUT"===e?n=A:"MCAAMLH"===e||e===F?n=M:e===V&&(n=D),n)return!t||null!=P._loading&&P._loading[n]||(null==P._loading&&(P._loading={}),P._loading[n]=!0,n===M&&(w=0),P._loadData(n,t,(function(t){if(!P._getField(e)){t&&oe.setState(n,!0);var s="";e===O?s=P._generateLocalMID():n===M&&(s={error_msg:"timeout"}),P._setFields(n,s)}}),o)),P._registerCallback(e,s),r||(t||P._setFields(n,{id:N}),"");return e!==O&&e!==V||r!==N||(r="",a=!0),s&&a&&P._callCallback(s,[r]),e===O&&ee.subscribed&&(ee.callbacks&&ee.callbacks.length&&ee.callbacks.forEach((function(e){P._callCallback(e,[r])})),ee.subscribed=!1,ee.callbacks.length=0),r},P._setMarketingCloudFields=function(e){P._readVisitor(),P._setFields(A,e)},P._mapCustomerIDs=function(e){P.getAudienceManagerBlob(e,!0)},P._setAnalyticsFields=function(e){P._readVisitor(),P._setFields(D,e)},P._setAudienceManagerFields=function(e){P._readVisitor(),P._setFields(M,e)},P._getAudienceManagerURLData=function(e){var t=P.audienceManagerServer,s="",a=P._getField(O),o=P._getField(F,!0),n=P._getField(V),r=n&&n!==N?"&d_cid_ic=AVID%01"+encodeURIComponent(n):"";if(P.loadSSL&&P.audienceManagerServerSecure&&(t=P.audienceManagerServerSecure),t){var i,c,d,l=P.getCustomerIDs(!0);if(l)for(c in l){var u=l[c];if(!k.isObjectEmpty(u)){var b="nameSpaces"===c?"&d_cid_ns=":"&d_cid_ic=";for(i in u)B(i)&&(d=u[i],r+=b+encodeURIComponent(i)+"%01"+encodeURIComponent(d.id?d.id:"")+(d.authState?"%01"+d.authState:""))}}e||(e="_setAudienceManagerFields");var m="http"+(P.loadSSL?"s":"")+"://"+t+"/id",p="d_visid_ver="+P.version+(R&&-1!==m.indexOf("demdex.net")?"&gdpr=1&gdpr_consent="+R:"")+(w&&-1!==m.indexOf("demdex.net")?"&d_cf="+w:"")+"&d_rtbd=json&d_ver=2"+(!a&&P._use1stPartyMarketingCloudServer?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(P.marketingCloudOrgID)+"&d_nsid="+(P.idSyncContainerID||0)+(a?"&d_mid="+encodeURIComponent(a):"")+(P.idSyncDisable3rdPartySyncing||P.disableThirdPartyCookies?"&d_coppa=true":"")+(!0===x?"&d_coop_safe=1":!1===x?"&d_coop_unsafe=1":"")+(o?"&d_blob="+encodeURIComponent(o):"")+r,g=["s_c_il",P._in,e];return{url:s=m+"?"+p+"&d_cb=s_c_il%5B"+P._in+"%5D."+e,corsUrl:m+"?"+p,callback:g}}return{url:s}},P.appendVisitorIDsTo=function(e){try{var t=[[O,P._getField(O)],[V,P._getField(V)],["MCORGID",P.marketingCloudOrgID]]
;return P._addQuerystringParam(e,Z.ADOBE_MC,c(t))}catch(t){return e}},P.appendSupplementalDataIDTo=function(e,t){if(!(t=t||P.getSupplementalDataID(te.generateRandomString(),!0)))return e;try{var s=c([["SDID",t],["MCORGID",P.marketingCloudOrgID]]);return P._addQuerystringParam(e,Z.ADOBE_MC_SDID,s)}catch(t){return e}};var te={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,t,s){var a=e.split("&");return s=null!=s?s:a.length,a.splice(s,0,t),a.join("&")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,s){return e===V&&(t||(t=P.trackingServer),s||(s=P.trackingServerSecure),!("string"!=typeof(a=P.loadSSL?s:t)||!a.length)&&a.indexOf("2o7.net")<0&&a.indexOf("omtrdc.net")<0);var a},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){q.remove(e,{domain:P.cookieDomain})},isTrackingServerPopulated:function(){return!!P.trackingServer||!!P.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1e3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce((function(e,t){var s=t.split("=");return e[s[0]]=decodeURIComponent(s[1]),e}),{})},generateRandomString:function(e){e=e||5;for(var t="",s="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=s[Math.floor(Math.random()*s.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var s in e)e.hasOwnProperty(s)&&"function"==typeof e[s]&&(e[s]=t);return e}};P._helpers=te;var se=$(P,I);P._destinationPublishing=se,P.timeoutMetricsLog=[];var ae,oe={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case A:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case D:!1===t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case M:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};P.isClientSideMarketingCloudVisitorID=function(){return oe.isClientSideMarketingCloudVisitorID},P.MCIDCallTimedOut=function(){return oe.MCIDCallTimedOut},P.AnalyticsIDCallTimedOut=function(){return oe.AnalyticsIDCallTimedOut},P.AAMIDCallTimedOut=function(){return oe.AAMIDCallTimedOut},P.idSyncGetOnPageSyncInfo=function(){return P._readVisitor(),P._getField("MCSYNCSOP")},P.idSyncByURL=function(e){if(!P.isOptedOut()){var t=d(e||{});if(t.error)return t.error;var s,a,o=e.url,n=encodeURIComponent,r=se;return o=o.replace(/^https:/,"").replace(/^http:/,""),s=k.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),a=["ibs",n(e.dpid),"img",n(o),t.ttl,"",s],r.addMessage(a.join("|")),r.requestToProcess(),"Successfully queued"}},P.idSyncByDataSource=function(e){if(!P.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&e.dpuuid.length?(e.url="//dpm.demdex.net/ibs:dpid="+e.dpid+"&dpuuid="+e.dpuuid,P.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Se(P,se),P._getCookieVersion=function(e){e=e||P.cookieRead(P.cookieName);var t=Z.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},P._resetAmcvCookie=function(e){var t=P._getCookieVersion();t&&!K.isLessThan(t,e)||P.removeCookie(P.cookieName)},P.setAsCoopSafe=function(){x=!0},P.setAsCoopUnsafe=function(){x=!1},function(){if(P.configs=Object.create(null),te.isObject(s))for(var e in s)B(e)&&(P[e]=s[e],P.configs[e]=s[e])}(),b(),P.init=function(){l()&&(j.optIn.fetchPermissions(f,!0),!j.optIn.isApproved(j.optIn.Categories.ECID))||ae||(ae=!0,function(){if(te.isObject(s)){P.idSyncContainerID=P.idSyncContainerID||0,x="boolean"==typeof P.isCoopSafe?P.isCoopSafe:te.parseBoolean(P.isCoopSafe),P.resetBeforeVersion&&P._resetAmcvCookie(P.resetBeforeVersion),P._attemptToPopulateIdsFromUrl(),P._attemptToPopulateSdidFromUrl(),P._readVisitor();var e=P._getField(L),t=Math.ceil((new Date).getTime()/Z.MILLIS_PER_DAY);P.idSyncDisableSyncs||P.disableIdSyncs||!se.canMakeSyncIDCall(e,t)||(P._setFieldExpire(F,-1),P._setField(L,t)),P.getMarketingCloudVisitorID(),P.getAudienceManagerLocationHint(),P.getAudienceManagerBlob(),P._mergeServerState(P.serverState)}else P._attemptToPopulateIdsFromUrl(),P._attemptToPopulateSdidFromUrl()}(),function(){if(!P.idSyncDisableSyncs&&!P.disableIdSyncs){se.checkDPIframeSrc();var e=function(){var e=se;e.readyToAttachIframe()&&e.attachIframe()};T.addEventListener("load",(function(){I.windowLoaded=!0,e()}));try{W.receiveMessage((function(e){se.receiveMessage(e.data)}),se.iframeHost)}catch(e){}}}(),P.whitelistIframeDomains&&Z.POST_MESSAGE_ENABLED&&(P.whitelistIframeDomains=P.whitelistIframeDomains instanceof Array?P.whitelistIframeDomains:[P.whitelistIframeDomains],P.whitelistIframeDomains.forEach((function(e){var s=new S(t,e),a=U(P,s);W.receiveMessage(a,e)}))))}};Ne.config=X,h.Visitor=Ne;var Be=Ne,Ue=function(e){if(k.isObject(e))return Object.keys(e).filter((function(t){return""!==e[t]&&X.getConfigs()[t]})).reduce((function(t,s){var a=X.normalizeConfig(s,e[s]),o=k.normalizeBoolean(a);return t[s]=o,t}),Object.create(null))},Ge=Le.OptIn,qe=Le.IabPlugin;Be.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var s=function(){var t=h.s_c_il;if(t)for(var s=0;s<t.length;s++){var a=t[s];if(a&&"Visitor"===a._c&&a.marketingCloudOrgID===e)return a}}();if(s)return s;var a=Ue(t)||{};!function(e){h.adobe.optIn=h.adobe.optIn||function(){var t=k.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext","sameSiteCookie","secureCookie"]),s=e.optInCookieDomain||e.cookieDomain;s=(s=s||H())===window.location.hostname?"":s,t.optInCookieDomain=s;var a=new Ge(t,{cookies:q});if(t.isIabContext&&t.doesOptInApply){var o=new qe;a.registerPlugin(o)}return a}()}(a||{});var o=e.split("").reverse().join(""),n=new Be(e,null,o);a.cookieDomain&&(n.cookieDomain=a.cookieDomain),a.sameSiteCookie&&a.secureCookie&&(n.configs={sameSiteCookie:a.sameSiteCookie,secureCookie:a.secureCookie}),h.s_c_il.splice(--h.s_c_in,1);var r=k.getIeVersion();if("number"==typeof r&&r<10)return n._helpers.replaceMethodsWithFunction(n,(function(){}));var i=function(){try{return h.self!==h.parent}catch(e){return!0}}()&&(!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e.removeCookie("TEST_AMCV_COOKIE"),!0)}(n)||k.isFirefox())&&h.parent?new V(e,a,n,h.parent):new Be(e,a,o);return n=null,i.init(),i},function(){function e(){Be.windowLoaded=!0}h.addEventListener?h.addEventListener("load",e):h.attachEvent&&h.attachEvent("onload",e),Be.codeLoadEnd=(new Date).getTime()}()}(),Visitor)}},"adobe-mcid/src/view/utils/timeUnits.js":{script:function(e){var t={Hours:3600,Days:86400,Weeks:604800,Months:2592e3,Years:31536e3};e.exports=t}}}},"bmw-group-utility-kit":{displayName:"Utility Kit",hostedLibFilesBaseUrl:"https://assets.adobedtm.com/extensions/EP2266a5c5e89a41929de2c44a88e78182/",settings:{webDL:{dataElement:"%webDL%"},privacyManager:{type:{code:function(e){return"true"===_satellite.getVar("splitConsentEnabled")?e.EPAAS_SPLIT:e.EPAAS_NON_SPLIT}},methodSettings:{code:function(){}}}},modules:{"bmw-group-utility-kit/extension-package-src/lib/dataElements/snapshotAttribute.js":{name:"snapshot-attribute",displayName:"Snapshot Attribute",script:function(e,t,s){"use strict";var a=s("../helpers/dataLayerManager");e.exports=function(e){var t=e.snapshotAttribute&&e.snapshotAttribute.path;return a.getSnapshot().get(t)}}},"bmw-group-utility-kit/extension-package-src/lib/dataElements/helperTools.js":{name:"helper-tools",displayName:"Helper Tools",script:function(e,t,s){"use strict";var a=s("../helpers/external_modules/deepFreeze.js")({cache:s("../helpers/cache.js"),hooks:s("../helpers/hooks.js"),privacyManager:s("../helpers/privacyManager.js")});e.exports=function(){return a}}},"bmw-group-utility-kit/extension-package-src/lib/dataElements/dataLayerSnapshot.js":{name:"data-layer-snapshot",displayName:"Data Layer Snapshot",script:function(e,t,s){"use strict";var a=s("../helpers/dataLayerManager");e.exports=function(){return a.getSnapshot()}}},"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js":{name:"take-snapshot",displayName:"Take Snapshot",script:function(e,t,s,a){"use strict";var o=s("../helpers/dataLayerManager"),n=a.getSharedModule("adobe-analytics","get-tracker");e.exports=function(e,t){t.detail=t.detail||{},t.detail.snapshotDL=o.takeSnapshot(t.$rule.name,t.detail.webDL),n&&n().then((function(){o.takeSnapshot(t.$rule.name,t.detail.snapshotDL.snapshot)}))}}},"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js":{name:"discard-snapshot",displayName:"Discard Snapshot",script:function(e,t,s,a){"use strict";var o=s("../helpers/dataLayerManager"),n=a.getSharedModule("adobe-analytics","get-tracker");e.exports=function(){o.removeSnapshot(),n&&n().then((function(){o.removeSnapshot()}))}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/dataLayerManager.js":{script:function(e,t,s,a){"use strict";function o(e,t,s){if(!e)throw new Error("'takenAt' is a required parameter while instantiating the Snapshot class");this.debug={takenAt:e};var o=a.getExtensionSettings().webDL&&a.getExtensionSettings().webDL.dataElement;t||o?(this.snapshot=JSON.parse(JSON.stringify(t||o)),this.debug.type=s||(t?i.PARAMETER:o?i.WEBDL:i.EMPTY)):(a.logger.warn("NOTE: Website datalayer not available while creating the snapshot"),this.snapshot={},this.debug.type=i.EMPTY)}var n,r=s("./external_modules/deepFreeze"),i={FALLBACK:"CURRENT_DATALAYER_STATE",WEBDL:"WEBSITE_DATALAYER",PARAMETER:"CUSTOM_PARAMETER",EMPTY:"EMPTY"};o.prototype.get=function(e,t){try{for(var s=["","na","not set","n/a","not available","not yet available","not selected","unknown"],o=(e=e||"").split("."),n=this.snapshot,r=0;r<o.length&&null!=n;r++)n=Array.isArray(n)&&/-[0-9]+/.test(o[r])?n[n.length-Math.abs(parseInt(o[r]))]:n[o[r]];return"string"==typeof n&&s.indexOf(n.toLowerCase())>-1?t||"datalayer field empty":n||t||"datalayer field missing"}catch(e){a.logger.error("Error:BMW Group Utility Kit:dataLayerManager:Snapshot.get()-",e)}};var c=function(){this.takeSnapshot=function(e,t){return n=new o(e,t),r(n)},this.getSnapshot=function(){return n||(a.logger.info("NOTE: No snapshot available, returning the current web datalayer, if available"),r(new o("NO_SNAPSHOT_AVAILABLE",void 0,i.FALLBACK)))},this.removeSnapshot=function(){n=void 0}};e.exports=new c}},"bmw-group-utility-kit/extension-package-src/lib/helpers/external_modules/deepFreeze.js":{script:function(e){e.exports=function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(s){!t.hasOwnProperty(s)||null===t[s]||"object"!=typeof t[s]&&"function"!=typeof t[s]||Object.isFrozen(t[s])||e(t[s])})),t}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/cache.js":{script:function(e,t,s,a){"use strict";function o(e){return i[e]}function n(e,t){void 0!==o(e)&&a.logger.log('Overwriting cache["'+e+'"]'),i[e]=t}function r(e){return delete i[e]}var i={};e.exports={get:o,set:n,remove:r}}},"bmw-group-utility-kit/extension-package-src/lib/helpers/hooks.js":{script:function(e,t,s,a){function o(e){this.action=e.action,this.type=e.type&&"string"==typeof e.type&&e.type.toLowerCase()}function n(e){this.newReference=void 0,this.reference=e.method,this.hooks=[new o(e)]}function r(){var e=[];this.find=function(t){for(var s=e.length-1;s>=0;s--)if(e[s].reference===t||e[s].newReference===t)return e[s]},this.findIndex=function(t){for(var s=e.length-1;s>=0;s--)if(e[s].reference===t||e[s].newReference===t)return s},this.add=function(t){e.push(t)},this.remove=function(t){var s=this.findIndex(t);if(s)return e.splice(s,1)[0]}}function i(){var e=new r;this.add=function(t){if("object"!=typeof t||!t.method||!t.action||!t.type)throw new Error("'hooks.add' expects an object as parameter with 'method', 'action'and 'type' as required keys");var s=e.find(t.method);return s?s.addHook(t):e.add(new n(t)),e.find(t.method).getNewDefinition()},this.remove=function(t,s){var a=e.find(t);a&&a.removeHook(s)},this.removeAll=function(t){return e.remove(t).reference},this.get=function(t){var s=e.find(t);return s?s.getHooks():[]}}o.prototype.execute=function(e,t){try{return this.action.apply(e,t)}catch(e){a.logger.error("Error:BMW Group Utility Kit:hooks:Hook.prototype.execute()-",e)}},n.prototype.removeHook=function(e){for(var t=this.hooks.length-1;t>=0;t--)this.hooks[t].action===e&&this.hooks.splice(t,1)},n.prototype.addHook=function(e){e.type&&"string"==typeof e.type&&"overwrite"===e.type.toLowerCase()?(this.hooks.length&&a.logger.warn("Following hooks will now be removed as a new 'overwrite' hook is added-",this.hooks),this.hooks=[new o(e)]):"overwrite"===this.hooks[0].type?a.logger.warn("Can't add a 'pre' OR 'post' hook type as an overwrite hook is already present- ",this.hooks[0]):this.hooks=this.hooks.concat(new o(e))},n.prototype.getHooks=function(){return this.hooks},n.prototype.executePreHooks=function(e,t){for(var s=this.hooks.filter((function(e){return"pre"===e.type})),a=0;a<s.length;a++)t=s[a].execute(e,JSON.parse(JSON.stringify(t)))||t;return t},n.prototype.executePostHooks=function(e,t){for(var s=this.hooks.filter((function(e){return"post"===e.type})),a=0;a<s.length;a++)t=s[a].execute(e,[JSON.parse(JSON.stringify(t))])||t;return t},n.prototype.getNewDefinition=function(){var e=this;return e.newReference=e.newReference||function(){var t="overwrite"===e.hooks[0].type?e.hooks[0]:void 0;if(t)return t.execute(this,arguments);var s=Array.prototype.slice.call(arguments);s=e.executePreHooks(this,s);try{var o=e.reference.apply(this,s)}catch(e){a.logger.error("Error:BMW Group Utility Kit:hooks:Method.prototype.getNewDefinition()-",e)}return o=e.executePostHooks(this,o)},e.newReference};var c=new i;e.exports=c}},"bmw-group-utility-kit/extension-package-src/lib/helpers/privacyManager.js":{script:function(e,t,s,a){function o(e){a.logger.error("UTILITY-KIT:"+e),a.logger.debug("UTILITY-KIT:Privacy Manager State-"+this.state),a.logger.debug("UTILITY-KIT:Privacy Manager Type-"+this.type)}function n(e){var t;Object.defineProperty(this,"type",{get:function(){return e}}),Object.defineProperty(this,"state",{get:function(){return t}}),Object.defineProperty(this,"ENUM_TYPE",{get:function(){return c(b)}});var s=this;this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT||this.type==b.CON_TRACKING_API?(t=m.IDENTIFIED,this.onInit((function(){t=m.INITIALIZED,s.type==b.EPAAS_SPLIT&&(i.get=d.add({method:i.get,action:consentcontroller.api.getPersistence,type:"overwrite"}),i.set=d.add({method:i.set,action:function(){return consentcontroller.api.setPersistence(arguments[0],arguments[1])},type:"overwrite"}))}))):t=m.UNKNOWN}var r=s("@adobe/reactor-window"),i=s("@adobe/reactor-cookie"),c=s("./external_modules/deepFreeze.js"),d=s("./hooks"),l=a.getExtensionSettings(),u=l&&l.privacyManager||{},b={EPAAS_SPLIT:"EPAAS_SPLIT",EPAAS_NON_SPLIT:"EPAAS_NON_SPLIT",CON_TRACKING_API:"CON_TRACKING_API",OTHERS:"OTHERS"},m={IDENTIFIED:"WEBSITE_API_IDENTIFIED:WAITING_FOR_INIT",INITIALIZED:"WEBSITE_API_INITIALIZED",UNKNOWN:"WEBSITE_API_NOT_RECOGNIZED"};n.prototype.onInit=function(e){this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT?(r.consentcontroller&&r.consentcontroller.api||r).addEventListener("consentcontroller.api.initialized",e):this.type==b.CON_TRACKING_API?r.digital&&r.digital.tracking&&null!=r.digital.tracking.dtmReady?e():r.addEventListener("digital:tracking:trackingReady",e):o.call(this,"Privacy Manager can't provide consent status: isTrackingEnabled called without overriding the method")},n.prototype.isTrackingAllowed=function(e){return this.state!=m.INITIALIZED?(a.logger.warn("UTILITY-KIT:"+this.type+" is not initialized, tracking status will be returned as false"),!1):this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT?consentcontroller.api.isUsageAllowed(e):this.type==b.CON_TRACKING_API?!r.digital.tracking.isTrackingDisabled():(o.call(this,"Privacy Manager can't provide consent status: isTrackingAllowed called without overriding the method"),!1)},n.prototype.registerOnConsentChange=function(){var e=arguments;this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT?this.onInit((function(){consentcontroller.api.registerOnUserConsentChange.apply(null,e)})):this.type==b.CON_TRACKING_API?this.onInit((function(){r.digital.tracking.registerOnConsentChange.apply(r.digital.tracking,e)})):o.call(this,"Privacy Manager can't handle consent change registration: registerOnConsentChange called without overriding the method")},n.prototype.isCookieDrawerShown=function(){return this.type==b.EPAAS_SPLIT||this.type==b.EPAAS_NON_SPLIT?this.state==m.INITIALIZED&&consentcontroller.api.showDisclaimer():this.type==b.CON_TRACKING_API?void 0===i.get("cc_ConsentCookie"):void o.call(this,"Privacy Manager can't get cookie drawer shown status: isCookieDrawerShown called without overriding the method")};try{var p;u.type&&u.type.code&&(p=u.type.code(b))}catch(e){a.logger.error("Error in Privacy Manager extension settings code while retrieving 'type'-",e)}p!==b.EPAAS_SPLIT&&p!==b.EPAAS_NON_SPLIT&&p!==b.CON_TRACKING_API&&p!==b.OTHERS&&(a.logger.error("Privacy Manager extension settings does not return 'ENUM_TYPE' value"),p=b.OTHERS);var g=new n(p);try{p===b.OTHERS&&u.methodSettings&&u.methodSettings.code&&u.methodSettings.code(g)}catch(e){a.logger.error("Error in Privacy Manager extension settings code while retrieving 'type'-",e)}e.exports=g}}}}},company:{orgId:"B52D1CFE5330949C0A490D45@AdobeOrg"},property:{name:".Next BMW NSC",settings:{domains:["bmw.co.za"],undefinedVarsReturnEmpty:!1,ruleComponentSequencingEnabled:!1},id:"PR66f9ca7b31754d7795108262c6004998"},rules:[{id:"RL89ac0f2623414b19928bf967a17f9d64",name:"TPT - AT - AEM - gTagDC- Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb97855017c8b47858fb322730ab67324-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL615aacc8a029401fbf9db02c95aa8df6",name:"TPT - RO - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbdbfa0d4f4764a3aa862ae25c86eb604-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3bcc368bb9d414880532b9736ed1be2",name:"TPT - IT - AEM - DoubleClick - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC94b401941d71420b8a8162569412a842-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4a45426368d64f2893e1dbba31403da8",name:"TPT - NL - AEM - Bing - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe0d7f2bdd86b4b3a95b41f3fe08cdbe7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a8763f04a3348e38b6a2e0146ddc0d1",name:"TPT - BG - AEM - GTagDC - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC66f190f9df264bbc85e9224353deb871-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL80ea393f90664b1da86725ea5167f9ca",name:"TPT - DK - AEM - GtagDC - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCda9a001bbf1944b7abfa273dd1291972-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5b5201822b6147bdb4e8898aea4db5fe",name:"TPT - AT - AEM - GtagDC - iFrame Forms ROI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC03ee28459c65414ab7adf12a4e409d22-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd184bf45da8c4844a2c92e090d95802a",name:"TPT - UK - AEM - GTagDC - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5089717fc24f4b9cb59e7a4456c3cb24-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL337e85d077d843aa96429636efb8ec0b",name:"TPT - DK - AEM - Adform - BrochureDownload - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4d821485c7d94a0f8f3c87b379411f83-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0ca777b3e25a4f559684df9fa0898b41",name:"TPT - AT - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3378c2b5ba5c4cb4931a82fb54b91a47-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2c19b28f8a0f4554887f4c7fef48bca4",name:"TPT - DE- AEM - Adform - SignIn - SingUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5f2da97bbc9c483dbc72aa3e31a22a6b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL256fd7c55e4347ae9864440f2e20f498",name:"TPT - FR - AEM - GTagDC - Site search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC90bdd65b6fa949608bc2dad026adc5c1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1b47282144aa4961a95b6d1cd5199ba9",name:"TPT - GR - AEM - SizmekAds - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcec6f8f2d5054a39be8739a8e9605ec3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d28a5fb04d646048f5c38e27048bf91",name:"TPT - DE UK FR KR - AEM - Usabilla - Adhoc Survey - RTF",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),s=t[t.length-1].toUpperCase();"UK"==s&&(s="GB"),"COM"==s&&(s="DE");var a={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:0,Psyma:30,Other:58}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:25,CES:0,Psyma:46,Other:29}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:80,CES:0,Psyma:0,Other:20}},KR:{buttonCode:{DESKTOP:"4583de3025fe",MOBILE:"51af9d4cb9c0"},NPS:{DESKTOP:"10ff397b6d5f",MOBILE:"95decc55e2ef"},CES:{DESKTOP:"635e47f55055",MOBILE:"93d523f3d22d"},random:{NPS:25,CES:0,Psyma:0,Other:75}}};return null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e])?(npsValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0,null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].CES[e])?(cesValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].CES[e]),cesValue=cesValue.split("/"),noCES="T"!=cesValue[0]):noCES=!0,noNPS&&noCES}catch(e){_satellite.logger.error(e)}}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("snapshotDL").get("page.pageInfo.pageName"),t=_satellite.getVar("topLevelDomain");return!("all-models"!=e&&"nsc > all-models"!=e&&"konfigurator"!=e&&"nsc > konfigurator"!=e&&"configurateur"!=e&&"nsc > configurateur"!=e&&"configurator"!=e&&"nsc > configurator"!=e&&"all-models-con-entry"!=e&&"nsc > all-models-con-entry"!=e||"bmw.de"!=t&&"bmw.co.uk"!=t&&"bmw.fr"!=t&&"bmw.co.kr"!=t||(console.log("condition fulfilled"),0))}catch(e){var s={from:"TPT",type:"Rule",name:"TPT - DE UK FR KR - AEM - Usabilla - Adhoc Survey - RTF"};_satellite.logger.error(e,s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2319ea82b76946dd90c4cb201d51c7eb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0286700129154774baf4cbc497e6821b",name:"TPT - MY- AEM - Affle - RFI Forms Submit - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/x-series/iX3/2021/keep-me-informed-confirmation.html"},{value:"/en/all-models/bmw-i/bmw-ix-new/2020/keep-me-informed-confirmation.html"}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4ebe257ea509413bbacfc0aa26de929a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb5e1a41d9b754301aae64e77755779c3",name:"TPT - NL - CON - Adwords - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3451f1d9d7ee4de8aef761911813e15f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf0c625a2309e451c9058fe654181cb4f",name:"TPT - BE - AEM - GTagDC - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC403789359c9141a2857a38a9a1f4271a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8a35a631c41c409a92d7a9d8863d3e73",name:"TPT - SI - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{bubbleStop:!1,anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0e37bb41a33949e3bd4ec1d05ed0aa54-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2e87c9d98d9647cb94058f1055d9d0de",name:"TPT - LU - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC515675051e03451d9ddfa2aaa8a859db-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6b59e98a5a2f421aaf714307cce93f81-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcc2d2207322b4ffb950c8e3716f0d760",name:"TPT - DE - AEM - Facebook - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcab82bc978d64b88809b3855c668db27-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0a6df97078d346649cf4972cfc40d9e8",name:"TPT - CZ - AEM - Adform - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5e0cd78c06b7465a8802d52a6642b545-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa95057ef51a745edba40d25668a1c77d",name:"TPT - FR - AEM - Facebook - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC18f2a3f3b8cf4e7e85062cd756599698-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL61f6b50332474eb1844da1dac2904c36",name:"TPT - NL - AEM - Bing - iFrame Forms FS RFO - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0911442a7c314c57b983ec6b25d4a872-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL66e093bdc31f443fa843940a2fbe9b88",name:"TPT - PT - AEM - Facebook - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC585e2e44bbab4983b497b05ace7c0085-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL19409a412ed64bf6a6ac51a85bb3839a",name:"TPT - FI - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe5bb1ba9211f4ba8b86c3f7bb703f37f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbe637ff989c2498f82c6967aebcf6892",name:"TPT - UK - AEM - GTagDC - TDA Form View - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd0c7c7a92a1e43599f422c48f89abd64-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb7dae4cc144a4fadabc2138f60007e17",name:"TPT - BE - AEM - Facebook - RFI - Form Success - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9d67e17a600c4a92857786f6bf24580e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL44ef5271830f4a05ade01efc7980bf3f",name:"TPT - PL - AEM - Adform - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pl/search-results.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC288446082e7c45a2a29f4bacc5963880-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc68b2799e083441f82863cca05f2007c",name:"TPT - NL - AEM - Adform - SignIn/SingUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC83f33b56e6c24b849ec642c6f5642fc3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL595eaffb768247b3bcfc14ea7edfe375",name:"TPT - BG - AEM - Adwords - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC41e00468635841d1bd38c47bea7f7654-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL38f05b0b855b4ab49b3c7ba7038d91b7",name:"TPT - DK - AEM - GTagDC - Dealer Locator - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC06458a8e356b4dd092307c469f297df9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe2c782cb98c047a6aa916c3ee9cd2172",name:"TPT - FR - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2a823efdac8942ecabfaaab0bed07a65-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe23071a3666a4c7ca4ad7b9d5c1bac17",name:"TPT - AT - AEM - GtagDC - Visualizer - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_start"},ruleOrder:100}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8dc38e9d58d54507bcd1a049cf6a6506-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL17caed5489dd4cb89e1896b7c4aed8cc",name:"TPT - BG - AEM - Adform - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3b72ebd081c8434cbc7b2735f7d805b2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd5ef76592fac43fe9465d44c1e6ac4ab",name:"TPT - SI - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC96d1b581b82846d39f2d2515f7a0d448-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf33aacca38ed42958feafb1ccfceff41",name:"TPT - PT - AEM - Adform - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0b85522390854eafa54ef4cb8eecb20f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7ed670393040492fb90f36596439b2e8",name:"TPT - RO - AEM - Adwords - Site search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC91756173ff45433ab5c71ff04be55988-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC85fd85ccba2f4e2b81fe51cf074c00e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL23be5405929848aa9b731bd6b9762d00",name:"TPT - PT - AEM - Facebook - FormTracking - TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3dabc43bc390468fa8d7e2d7e413434c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3c137e8328d410ead16f58104a0dfaf",name:"DCR - All - AA - Custom Code - TRON Error Tracking",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("TRON:electric range calculator",(function(t){_satellite.logger.log(t,"error register on Electric range calculator"),"error"==t.detail.event.name&&(_satellite.setVar("errObj",t.detail),e())})),window.addEventListener("TRON:all models list",(function(t){_satellite.logger.log(t,"error register on All Models List"),"error"==t.detail.event.name&&(_satellite.setVar("errObj",t.detail),e())})),window.addEventListener("TRON:dynamic disclaimer",(function(t){_satellite.logger.log(t,"error register on Dynamic disclaimer"),"error"==t.detail.event.name&&(_satellite.setVar("errObj",t.detail),e())})),window.addEventListener("TRON:visualizer",(function(t){_satellite.logger.log(t,"error register on Tron visualizer"),"error"==t.detail.event.name&&(_satellite.setVar("errObj",t.detail),e())}))}catch(e){_satellite.logger.error("TRON Error Event Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t),_satellite.getVar("setTronDefaultVariableGeneric",e)(t),_satellite.setVar("errObj",""),t.events=t.apl(t.events,",event931"),t.linkTrackEvents=t.apl(t.linkTrackEvents,t.events),t.linkTrackVars=t.apl(t.linkTrackVars,"events")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Error Tracking",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLe71fa30eb3b14c46a76c1a5ee5d21a8d",name:"TPT - FI - AEM - Adform - Yritysmyynti Buttons Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Premium Selection -vaihtoautot",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Lue lis\xe4\xe4 Laakkosen sivuilta",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"BMW Vakuutus",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Rakenna oma BMW",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Hinnastot ja esitteet",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Varaa huolto",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/aiheet/yhteydenotto/varaa-koeajo.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/yritysmyynti.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa714462a1af747d6ad88e0399f2345c1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLabef4d7776614527a47d1c0647e1d238",name:"TPT - GR - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC24e909b0687f4fbf926e18d0a61fab54-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3eac3419dd4c49a5b5ef8e1a14110ad3",name:"TPT - AT - AEM - GTagDC - Dealer Locator - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC564756f7eee44d308c814dc9502a814b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL09372a5bc4c545b983acb5a2ae514c18",name:"TPT - BE - AEM - Facebook - RFI - FormView - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC67c8c243abf8495ca50d6338315bd491-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcad7ca35546c427c8acaeb2b1353a4a3",name:"TPT - GR - AEM - GtagDC - form_tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9dc53e011d73445aa6fe10d3b0946084-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL070af7c5ed754658a7e413b10aab99ad",name:"TPT - PL - AEM - DoubleClick - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pl"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5199a7132d554cf9b6f4450fd580baad-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9a8301fa09624670a1eefda93795aa0b",name:"TPT - PL - AEM - GTagDC - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1c1a2a63ebe7492b9332c84abee98486-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc8d46f117a64b8490adca235eb2c919",name:"TPT - UK - AEM - GTagDC - iframe_forms_auc - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_auc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfbf744e2eb444c5d97c208f3a28eb055-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL999f0b01c7954cd499fdbbe160664c46",name:"TPT - AT - AEM - Pinterest - iFrame TDA Submit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"de/all-models/2-series/activetourer/2021/bmw-2er-active-tourer-ueberblick.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0b8562b75eac472e9cbe57f523a7927b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL70d2c9d565ca426db09056618debe747",name:"TPT - SE - AEM - AdForm - Private lease - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/hitta-kop/privat/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc3788851887b42d5a3aad489ecf73794-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb8e8dbe703e147c2b936944f20182bda",name:"TPT - BE - AEM - Adform - BrochureDownload - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/success-pool/success-page-rfid.business-forms.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1d7da09f296c4dbaabb173fdff5b5588-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2c7e084178834ee18d43cca0c29fd286",name:"TPT - AT - AEM - GtagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcac3a5f1812c4abdb113c954927a28fb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf4b67e8037fa454b94572a3542916dc4",name:"TPT - HU - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC50c22ae2db934517a71a4e16acd51a0d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc335b82a236d4960a76e811b3c4cacd2",name:"TPT - SK - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC007dd298395f46cb8be84d8a5b447b16-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb2d2be9335314a5d8eaba30022549ca6",name:"TPT - NL - AEM - Adwords - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC78e75239099347079950c9b746a023e8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3781fd69bf6843d7ae8e3f0a04fc00a7",name:"TPT - AT - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC200b92623b1c4e43b31dafbc25f512b3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb1f3d7cb5e9f443494d272b82e6c0e5b",name:"TPT - PL - AEM - Adwords - Adobe form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdff79fcf774446149044c9a54664ef3c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6ab981f38793460ba73d946bac80ea93",name:"TPT - HU - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbeb2b4635a3d4265bc91cb58cf0a5f3c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL70e6626300244cddb5d7651f0ee4b39a",name:"TPT - BE - AEM - Adform - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb5466a25b4914105aadd18daad86761c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLca10c5d47f15413fa823d829a307f652",name:"TPT - HU - AEM - Adwords - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCef43eb888c3845b2b3f0c9f7d1e34fc2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLafb0388607954d30825940355433a060",name:"TPT - PT - AEM - Adform - iFrame RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC14ef3c004f294159b08144f1d94679d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7379f5b480cc49af8a669abaed54c325",name:"TPT - NL - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.nl",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf69bd139af5b4744964ac7153b109b1e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6961d1764996427a97c9ebf093a986c6",name:"TPT - PL - AEM - AdWords - Broucher - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".ds2-sticky-sales-bar__link.ds2-tracking-js--event",elementProperties:[{name:"title",value:"RFI"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd6a6385012224b1ca8857c0d02d703aa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1662f99a558e4c5aaa325e9cd4cd2af7",name:"TPT - NO - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCced8c25af02e40e7ae9f3ee11d9276d5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b03ab6f702f4b7c96b8c7e54cdafcbc",name:"TPT - TH - AEM - GtagAW - Link to Shop - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"href",value:"shop.bmw.co.th",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC70770e365ccd454eb755cca7dc00dd71-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe1f362b02c1e4f7e8d0b97c91f52551b",name:"TPT - NO - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4bf687aac8eb4149b9d4dc925a214d7c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb4770f825cfb415793a1391a5b23dbf1",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Invoice - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_invoice"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCab89363e4032433ea85ca41d4796e7c5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLca27c481f4eb4fdf9baf0a3f21f3a047",name:"TPT - FI - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.FI",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4762a81420114919aa4ca683c0b2200b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbc902c34c94048c9ad44cae54304b3bf",name:"TPT - HU - AEM - GTagDC - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC705cbf8c389e4fe9b6ebc80852571b22-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb386699d366242a4859eb96a068499c0",name:"TPT - GR - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8b11dba46dd84694871bef406e5358cc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL73a58850a63c48a18f8da81f583a3730",name:"TPT - AT - AEM - Adwords - Adobe form - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",
settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3cb53156a47642f9b89d80716b1563c8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35c04a8c408747e4ab5426cf623b8439",name:"TPT - NL - AEM - Submit Button Pixel - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf3b86348265245b88ee0aded0e4b90b1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3df14dbfd0a943b5b882cc031a068725",name:"TPT - GR - AEM - GtagDC - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC312515387aa749f6a17bc7077c9e4f62-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfec6aeb07c4147e6a616a9942bef5e48",name:"TPT - CA - AEM - Facebook - All pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7ee61eaf4bd8444c817b0b2025271155-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8798dc06c2624774a7171051bec5b18d",name:"TPT - HU - AEM - GtagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC55ba1c2c63394b4cb5d888e5803e4718-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe813d548bc9d4413bc09a17ddbb99e4a",name:"TPT - SI - AEM - Adform - BrochureDownload - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC68e2c4636a824f9a8ee1cfddacf995bf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4df38418a7284b10943693c358d00a7a",name:"TPT - AT - AEM - gTagDC- Start Video - SCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfb7b1302280e430191a8bae79697738e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf0a372e081264a939bdfd5536dec0c70",name:"TPT - AT - AEM - Adform - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6bb3f07036344afeb623a2ee6a001b49-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe82c7034f8704c7d8de728d4c5886e6b",name:"TPT - BE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC772840f444e64818b61f4acd17ad0809-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7c28251a9c954c16bc02dd211394883e",name:"TPT - DK - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCefd264600ad342e094e86fc33bf556bc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6be1d25190ef4ad3bfb238f3d6f50419",name:"TPT - IT - AEM - Floodlight - Make Appointment - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8098e73c8e0d4528a29991e630f85952-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa61bf9a22c37497ab48a606230c4314b",name:"TPT - NL - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href $= "pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa71976f26ed748a99963d4ebe23ee4ac-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcbf6c833f388434ea0c97b09855658ef",name:"TPT - BE - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6cbf066f67084ec9b45bf02d79583925-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3165ffc137cd40b5b4225ff105571d22",name:"TPT - BE - AEM - GtagDC - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCee841e465d8c43c6b52f3997448ec352-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3c6d0a5c8043463ea20fa967267e6295",name:"TPT - RO - AEM - Adwords - form_tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5ddde7205f664a48893acba3b3fe202a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa50466a0fbba40a0b4f70465baedf229-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2f83f86eadab40be8b51b8499f170835",name:"TPT - FR - AEM - Facebook - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC619217c26c0b49eebdd9f0563a92d3fc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3899e170065a4b8e88c3791792f638cc",name:"TPT - SI - AEM - Adform - form_tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7d0cdbf5ac47487fb6e23460b6d72d9d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0ad4dbaa2a6c43fa83e1ae6995c0e598",name:"TPT - LU - AEM - Adform - Multiple - Form - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9504710071464e13bd34b8d63cd94005-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL30701a0649ae4100b22a89adfa123959",name:"TPT - SK - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC613a64b20ba74fd3855c5f608bfe8a8f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL11d5513b8b9744c6acf0766fb75b53df",name:"TPT - LU - AEM - Facebook - DCS Form View - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf70735a4bc76463aa45c621ef39bb0b2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL26f5d2af67fc4302be2e17992aa4c740",name:"TPT - BE - AEM - Facebook - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fr/configurateur",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC93839f4f794346db907bce670f17693b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbc79519cc1044982ab372b655d12a6a4",name:"TPT - FI - AEM - GTagDC - Dealer Locator - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2ed4afbe87ba4a408fc027f5c5cfd780-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5eb5db3abe8140c4be645e34350cc023",name:"TPT - IE - AEM - Gtag_DC - Build Now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en_IE/configure/G30",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/5-series/sedan/2020/highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2b743d9b3ee942f988a25a5596657615-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdb2880ba51d44997b093f20d8ffb9e1c",name:"TPT - FR - AEM - GtagDC - DCS Form PV - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8d14a2cd8d3842dd81f571b67642670a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc790437607604e1d8cd707211e658ba4",name:"TPT - RO - AEM - Adwords - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1ad2f7e0ab5e456db8ac435fd070e540-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf303d24047204caea2e941b05d97d843-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1ca4a1f056ed46e9836b3f5db25f896f",name:"TPT - SI - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC357a6ba8d4b743cd8996d13541d371f9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL87ed8465db764d0ea42157e2b0708aba",name:"TPT - PT - AEM - GtagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6175644305674b83bbde678bc64f5f73-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL794db145df4a4a3f8aeaba7b7a7ee121",name:"TPT - SI - AEM - Adform - SignIn - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC60aef52c43f64d978dc8f266bf6220a0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL06587a166b224d5ebeb208e91d4f8268",name:"TPT - HU - AEM - Adform - Adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC67e6535c835e4ad89fee832a7d61a07d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d1b75e4389847b9a3b93e77826d03ef",name:"TPT - PT - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5510f176a9684147b2ef33538b424b33-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3caada4e35984762abf01c42e2ac4c5e",name:"TPT - DK - AEM - Adform - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC11a6f428cf3a425ba61488d73f12254a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL83b82ee18b4442afbe0f63ab147a2024",name:"TPT - GR - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf2fcf85b86794747a6ef30d6cbf2efa8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL132294f924c146209b8f35f1f8c5dad5",name:"TPT - IT - AEM - ContentSquare - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0dbb83efe18b41108149f9e35792e5cb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc5f3ab94d20240b99e108f2cca59d27c",name:"TPT - DK - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1ba548ffdef94bad95aa6e3ef7bfcd27-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL478c97c0fbac44269249fe1df581fab9",name:"TPT - RO - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCec6355ca7fc24affababb79fc2e1615b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL55415dd993a346f88e7b3ac28f32d892",name:"TPT - BG - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb56023c6fe364f49b64b821b3f1a3b29-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaf6aabe0ba6749ecb0fae481c0435702",name:"TPT - UK - AEM - GTagDC - RFI Form View - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCaed45251a8cd4bb296741cb563a8af89-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe843d72a1ebb4749b21b14eff968d6e2",name:"TPT - SI - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcae9c846abcf4aa99b66b3d07b9622f9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdb2199c32ddc4253981b697b5424e716",name:"TPT - HU - AEM - Doubleclick - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC759945981ed44119aa0a7a0b2e9dbcc7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb8301ccef7b0406792eb67abca2e07e5",name:"TPT - DK - AEM - Adform - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb2e0d27b06c54648b847cc0f1b669be5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL73d826bbdd754ee39d899e0b0d7747a0",name:"TPT - ZA - AEM - VeInteractive - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/1-series/5-door/2015/start.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6058920dd2b145349af8bced397b421b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc7833daa9b564076a3abaf9c976a9700",name:"TPT - SE - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbb278568ea16489b8c185132ab07570a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7f58e75fe6344a4388793abb12024da4",name:"TPT - BE - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf24ceb197e0d4ad6acbdd438e9b94017-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4f765638e79f4558b598bc9fae1dcd92",name:"TPT - CZ - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd54d6c8323474f7588cb8a2bb20fb61d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc4c8537f1bba48d1a2008e8d0728fd9b",name:"TPT - AT - AEM - Facebook - EV CTAs - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/fascination-bmw/electromobility2020/elektroautos.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC634be61a065548d5b1a219371cb335dd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3277a66bf2e34cf097feea693fe66301",name:"TPT - HU - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCee50b4cf05b845dd9997907dd028282b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL590cfc17058e4f709797d830a557531e",name:"TPT - CZ - AEM - Adform - DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf1d47395cc784b329916532cab4d5f0c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5b5c93e9b9a14329abf1e4d6ee10c6eb",name:"TPT - IN - AEM - TDA Form Submit/ Success - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1c96b10397974cda9213d68934555bfe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe09a913abcec47358a68e4ad7ac2a8ea",name:"TPT - SI - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf3dd9ca150704f80b3e2bd9fc399b00d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa3183a0fa0b24e7d8415cd2b3251d474",name:"TPT - NZ - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5efa295a697b40f5b99750e99a9ae953-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLea3bb6abc5d04584be79e699443d6213",name:"TPT - LU - AEM - Adform - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa7db3f14e488499cb0dfd473bc367d2a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9bd95850cfa74d458ba2212abe0a94d5",name:"TPT - FI - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbddff9e8d60045b086e6301c214234b4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc9d8df675b104ffd90d4ac3e34143460",name:"TPT - CH - AEM - Doubelclick - SubmitContactDealerForm - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/requests/rfo-bmw"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdca882fb3aa141b39f4fa3376b98d3ad-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC27c5bd3a86194abe8f85f931ae820372-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1d63718dad7d48f899faf4681a9fd7e0",name:"TPT - IE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd4543ee93f8e4b7f9b8e247924b3242a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL59bddae00c134b24b47977a49bc92fff",
name:"TPT - ZA - AEM - Facebook meta - All Pages - PLR",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {( window.p15r = window.p15r || []).push({\n  processingId: \'fbPagePixel\',\n  action: \'register\',\n  callback: function (pid, paramObj, cfg) {\n    var fbtag = document.createElement(\'meta\');\n    fbtag.setAttribute("name", "facebook-domain-verification");\n    fbtag.setAttribute("content", "1snyqu31xgy02et8pgcptjeibn92rx");\n    var firstScript = document.getElementsByTagName(\'script\')[0];\n    firstScript.parentNode.insertBefore(fbtag, firstScript);\n    },\n  config: { defCat: "advertising" }\n}, {processingId: \'fbPagePixel\', action: "execute"})\n  \n} catch (e) {\n    _satellite.logger.error("TPT - ZA - AEM - Facebook meta - All Pages - PLR"+ e);\n}\n   \n\n\n\n',language:"javascript"}}]},{id:"RLf1050d18ddb24de182160079c1615a2b",name:"TPT - CZ - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb35e2a4cf6114d8a8181c4684f21efbe-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8e44d0fb07e042bb83154a111d4b7457-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa66d331aad144c9f92de145cb199db77",name:"TPT - FR - AEM - Facebook - DCS Form View - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC88e944cb6a0f4eaa8fc3c3e40c70b3d0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL921d8d0f8e7a4f439b5b84be6966b427",name:"TPT - SK - AEM - Adfrom - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];console.log(s),console.log(a),"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC284e1299d6c94566aacc1914e668b0b6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL46dff87b44aa4c4f805bfaeb97fda091",name:"TPT - NL - AEM - Bing - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb69bf8d5e9bc4a3eac019472f2052c6f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6b42be2d98744db6896827eb7e7117a4",name:"TPT - PT - AEM - Adwords - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC942b734c4d164eafa6c638ede9717a9b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a09fa9c6458464bb09e63e84bc3a0b9",name:"TPT - PL - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc03de6327ffa43c2a6c6aded6b8a8933-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6fb3fabef01d4085824a0bb932162036-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL635c3c1312fe4b068d626009520c09d5",name:"TPT - DE - AEM - ContentSquare - MINI DCS - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/shop/dcs/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCed6f53390a894287930fd505d464c1e6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL44e4a981dc3a4c07a300247f9c205dee",name:"TPT - BE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd2cd20bf931048408f332fd271f24f76-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL178ec0fb341f4328b12089a9ae278c2a",name:"TPT - IT - AEM - Floodlight - Search - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC062d00a072ed458c9e2bbd5ceaa010b6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL19fb0d3cfdd0402da5ee19c707762c47",name:"TPT - PT - AEM - Facebook - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC18e761f88e7e45d9bf1970b8ec02ccb8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6b0b382758bf4d629aa0356d93f1ce64",name:"TPT - IT - AEM - Floodlight - Form Tracking - RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfcc298c107304c998f26070d9b58a5ed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL365a937a9b65400895640e46c848e648",name:"TPT - SE - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4eb81f83a9164617977667db225e5f37-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9c087edfd56246b5ad57c833c2dd4162",name:"TPT - BE - AEM - Adform - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf1e5b71d9be34ca39ada57f895f1366c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf80240f1556d47dfa86303a33fbdaa24",name:"TPT - AT - AEM - GTagDC - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCef8565d7bf0949d39b64bb263c2ea36c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa05099e4e47d4c9e84f084239fe8a6eb",name:"TPT - IT - AEM - Floodlight - Form Tracking - TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"second",count:3}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC784d5f10fd834dd69566372bd0d49bc9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfa49030cf504423889f022b578146d42",name:"TPT - NL - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC911229996fe5465e8f4bf1f75bc966a4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8125d5b338f14891ba690b081ee3fe37",name:"TPT - AT - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe8b83e60665149ceac6d2b6fa630ce82-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLad2ef82b7d2a43149c40c9251f7851f8",name:"TPT - AT - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa8d0c9024ddb40feb1dedf75f187d7a3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0e708628c8c848c3bad62ee4a36f3569",name:"TPT - GR - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4abbfcfbefdc407182a60df9d817f513-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb820a77da21249c8be98b407252262a6",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli BMW Bus Demo - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_bmw_bus_demo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa0d9b30f272f4cdca88eb248077b7c81-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL75548836656f4ac7a000c367aa81422a",name:"TPT - JP - AEM - WebChat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC20a65b596e824746a28b906c6491ef88-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1a3a8c535d774f9e8451894e5805bdea-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6144b5473925457bab298cf812bbc462",name:"TPT - ES - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n    window._uxa = window._uxa || [];\n    try {\n        if (typeof digitalData !== 'undefined') {\n            if (typeof digitalData.pages !== 'undefined') {\n                for (var i = 0; i < digitalData.pages.length; i++) {\n                    if (typeof digitalData.pages[i].page !== 'undefined') {\n                        if (typeof digitalData.pages[i].page.category !== 'undefined') {\n\n                                            if (typeof dataLayer.pages[i].page.category.subCategory03 !== 'undefined') {\n                                                window._uxa.push(['setCustomVariable', 4, 'subCategory3', dataLayer.pages[i].page.category.subCategory03, 3]);\n                                            }\n                        }\n                    }\n                }\n            }\n        }\n    } catch (e) {\n        console.log(e);\n    }\n    (window.p15r = window.p15r || []).push({\n      processingId: ['ContentSquare'],\n      action: 'preload',\n      params: {\n        accountId: '213f1e844dc32'\n      }\n    })\n} catch (err) {\n    _satellite.logger.error(\"TPT - ES - AEM - ContentSquare - All Pages - PLR - p15r[c]\" + err);\n}",language:"javascript"}}]},{id:"RLc874eb2ca56249a19f878adc20813c34",name:"TPT - ES - AEM - Adform - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC891c62185f5a4575b9136f437ca0b699-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc190c808bff5499784e63043f0f24e65",name:"TPT - HU - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC78f8b1ccdc6c4b6f83ca20b27844e067-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL81cedbf5b3024484b2479f8b576a9a72",name:"TPT - CZ - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5f50fd003f9e4445a32fe545b6ab5d5f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL820b2f3d0cbd4a6db06d314e7111e137",name:"TPT - SK - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5752957853b8471e9e0a7a6e39859f53-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1f018d3cd4994e668bd44a08382cf6f2",name:"TPT - AT - AEM - Adform - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7b9bc01126b34de29cefd03ecb553f8e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b2e3357cd24412b8c7cd6da8852d09d",name:"TPT - SE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfc629e9c1884475fb9ef592c6b387b56-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL350fa2e6105f4b9f9b3e545a7159384b",name:"TPT - UK - AEM - Xandr - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC54552ce5e53743269e8b18ca266fd094-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3e989a9ad1a74a34a9b10fa03d1a62f9",name:"TPT - ES - AEM - Sizmek - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9e1a0270599c40b1994242412a03a86b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9e78220dff0d494c91a6a900305eba6c",name:"TPT - DE - AEM - Adwords - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe2f56183cd664689990202ee899f1f28-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc1d096a253a34a86b8ea39e23041ecfe",name:"TPT - DE - AEM - GTagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc80421baf104457c8e3e60299717a442-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9af214adc5cd4b2f8690001a770a8c5a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL326ffea9145a444cb7f0a632940d27c0",name:"TPT - UK - AEM - Facebook - iFrame Form ROI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC092d5f19c70d43bc891e18239306488a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL84eb669c09e84b96b309e039b863b869",name:"TPT - SG - AEM - Adform - Price list Download - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".is-sticky.ds2-sticky-sales-bar--uxn.is-visible > ul > li:nth-child(3) > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC440e1d303d7547f0a29e6f04d03230ba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbcd642111d044ef884db3245e4db44f0",name:"TPT - RO - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9066cd30b6584398896a6eb487574cc5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL29f43c0bf8de46d1a4306b8a8c584fe7",name:"TPT - FI - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4b55087bd0a642cf961faa74bc9a0a50-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL395f03c9abd047cbb972813a14cf7718",name:"TPT - PT - AEM - Facebook - FormTracking - RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC113c4b8cdc9f40a5a48ce5d399e212d6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2fbca158eb3243e5aee169c4b6039271",name:"TPT - CZ - AEM - Sklik - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfab5c1092e1f47e1ba486ce6910a500e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL54ee21ac7a7e46ae982e18a7601ca734",name:"TPT - CH - AEM - DoubleClick - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.successpagerfidownload__base > form > div > div > ul > li > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC22f770dbd9c44f1f996d3e39a19585c1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL85754f3f9f5e433fb682bcb752ed1312",name:"TPT - UK - AEM - ContentSquare - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC460c27c0f3d74df3afbb909d5550333b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfa00b2480687449ab17fad5de7a6f116-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL63b1a31649954f0a8fdb718716a46e5f",name:"TPT - HU - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCffc837d8f09743b79e31a51f503475bb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL07bba52068b34724b0dcfcd4edded52e",name:"DCR - All - IFrame - AA - Local Forms 3CT",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.effect"),n=(s.get("event.-1.eventInfo.cause"),s.get("event.-1.eventInfo.eventPoints"),s.get("event.-1.eventInfo.type")),r=s.get("event.-1.category.subCategory1"),i=s.get("event.-1.category.subCategory2"),c=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t),t.prop1=t.pageName=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.eVar34=o,t.eVar9=s.get("iframeURL");var d,l={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"]},u=l[n.toLowerCase()],b=l[r.toLowerCase()],m=l[i.toLowerCase()];"nsc > form started"==o||"local > form started"==o?(d=t.apl(d,"event3,event4"),null!=m&&(d=t.apl(d,m[0])),null!=u&&(d=t.apl(d,u[0])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n&&"fs rfo"!=n&&"roi"!=n&&"rfi"!=n||null!=b&&(d=t.apl(d,b[0]))):"nsc > form finished"==o||"local > form finished"==o?(d=t.apl(d,"event15,event16"),null!=m&&(d=t.apl(d,m[1])),null!=u&&(d=t.apl(d,u[1])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n&&"fs rfo"!=n&&"rfi"!=n&&"roi"!=n||null!=b&&(d=t.apl(d,b[1]))):"nsc > form finish intention"==o||"form finish intension"==o||"local > form finish intention"==o?d=t.apl(d,"event917,event918,event13,event14"):"first form interaction"==o||"local > first form interaction"==o?d=t.apl(d,"event917,event918,event5,event6"):"form interaction"==o||"local > form interaction"==o?d=t.apl(d,"event917,event918,event9,event10"):o.indexOf("form step")>-1?d=t.apl(d,"event7,event8"):"form impression"==o?d=t.apl(d,"event925,event926"):"error"==a&&(d=t.apl(d,"event931,event932"));var p=s.get("event.-1.attributes.leadTime","0");d=t.apl(d,"event977="+p),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d),t.eVar137=s.get("component.-1.category.application","aem6"),t.prop55=s.get("event.-1.category.subCategory1",s.get("event.-1.attributes.errorCode")),t.eVar23=s.get("page.attributes.marketingConsent"),t.prop6=t.prop53=t.prop54="local form",t.prop7=s.get("event.-1.category.subCategory1"),t.prop8=o,t.prop8.indexOf("local > ")>-1&&(t.prop8=t.prop8.replace("local > ","")),t.prop9=s.get("page.category.subCategory1"),t.prop10=s.get("page.category.subCategory2"),t.prop11=n,t.prop16=s.get("page.pageInfo.pageName"),t.prop17=s.get("event.-1.attributes.form.rfxID"),t.prop18=s.get("event.-1.category.subCategory2",s.get("event.-1.category.subCategory02")),t.eVar41=s.get("dealer.-1.dealerInfo.dealerGroupName"),t.eVar42=s.get("dealer.-1.dealerInfo.dealerGroupID"),t.eVar39=s.get("dealer.-1.dealerInfo.dealerOutletName"),t.eVar40=s.get("dealer.-1.dealerInfo.dealerOutletID"),t.prop42="locally developed",t.prop43="forms",t.prop56="form","form"==t.prop56&&(t.prop53=t.prop11),("form"!=s.get("component.-1.category.subCategory01")&&"form"!=s.get("component.-1.category.subCategory1")||"aem6"!=s.get("component.-1.category.application"))&&"nsc > form finish intention"!=s.get("event.-1.eventInfo.effect")||"interaction"==a&&(t.prop6=t.prop53="adobe form"),"datalayer field missing"!=t.prop7&&"datalayer field empty"!=t.prop7||"form"==t.prop56&&(t.prop53=s.get("event.-1.eventInfo.type"),t.prop11=n,t.prop7="generic"),
"datalayer field missing"!=t.prop55&&"datalayer field empty"!=t.prop55||"form"==t.prop56&&(t.prop53=s.get("event.-1.eventInfo.type"),t.prop11=n,t.prop55="generic"),"error"==a&&(t.prop56="error",t.prop6="",t.prop8="",t.prop11="",t.prop55=s.get("event.-1.category.subCategory1"),t.prop53=s.get("event.-1.eventInfo.type"),t.eVar34=s.get("event.-1.eventInfo.effect"),t.prop52=s.get("event.-1.eventInfo.cause")),t.prop19="local form",t.eVar136=s.get("version"),t.linkTrackVars=t.apl(t.linkTrackVars,"products,eVar23,eVar136,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%AA-eventType%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLf7302135208f4755bc474728b381d2ec",name:"TPT - AT - AEM - Facebook - BMW Card CTA - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="//www.bmwcard.at/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/finanzierung-versicherung/bmw-card.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe554dd196c1841b486ecdf28c6d8bf06-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe9ade5ea17f649fa84db0f3275b6612d",name:"TPT - PL - AEM - LiveChat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2fc3a659160b4663ac605b719199e849-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b54ec2db6f54f7f883d1aa9a4fe85aa",name:"TPT - FR - AEM - Facebook - Mini DCS Form View - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8b992ea57c4f4aa19d8d78a37bdee9a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL72afea84b64b4c2d9a3b5219df972a85",name:"TPT - RU - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0a8c5b9e99e047c6ba63370b83e05f46-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL60d3396386844f62b61bd011c9200ee0",name:"TPT - PT - AEM - GTagDC - Shop - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7c3a2f05650f4f8db24d7e018a6bfb4d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd3d8d94c4ed54ea2ae966783b926c77b",name:"TPT - SK - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0c66b601acd1443896d82b680e989d14-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL490600e6722f4c2ba906adf598a7633c",name:"TPT - DE - AEM - Adobe Campaign Pixel - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC39d5a6a56a4b4adbbe24b03f0f86a418-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9823ca9b95f4473da535e3982f077579",name:"TPT - DK - AEM - DoubleClick - Find BMW Accessories - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://bmwtilbehorsportal.bmw.dk/s/r?id=151"].button.expand.buttonLarge.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"bmw-efterar-vinter-tilbehor.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCabb65e526a87479da3697890154bbe08-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL11478ea12ab34f31851490587a4af766",name:"TPT - NL- CON - Adwords - Configuration_Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"gtag_adwords_configuration_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl/nl_NL/configure/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5fae92dd9d7f4beeb286eb695a2e08f8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf608af682e7c4797a2fd3b55d14e8acf",name:"TPT - CA - AEM - Facebook - Configure Now Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.button.standard.expand.ds2-tracking-js--event.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/topics/details/bmw-ukl.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe9c69065ebaf4e5db0b5f33a3baba381-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLef84023a85c04fb5887a7d1a4c1145ed",name:"TPT - KR - AEM - Mathtag - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.kr"}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC80ca5a555e8c4d1a8aeb10b7463d1176-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4c0f740aa2ba49d99baa33a9f3bcbe16",name:"TPT - DE - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC278a95763b09450aa280b7903ac3dea7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb1a96f09711845a9bf267f70a47607ea",name:"TPT - UK - AEM - Xandr - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5b33ae05186a4ca685b1be2baed972f0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3697ef2ed1b94fde9dc0ed763672fa56",name:"TPT - PL - AEM - Facebook - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC12bd5c2698044264b2bd6bf1899b1b29-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8972b1dd7cf44a2ca81c19db8a5e316a",name:"TPT - UK - AEM - QuantCast - iFrame RFI Download Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC08a4a91233ef4cb8a34179c72886be86-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7261bf84472844f19baf0568e5b78707",name:"TPT - DK - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb5614fbb4ad943d69c8cb75e49c0797c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL852972e7498c459e919091d221060002",name:"TPT - DK- AEM - Adform - SignIn - SingUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf5d909e60fdd43628d1ec41ee95c0a19-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9030bd835d8349729146ed0eb738bc31",name:"TPT - FR - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfe7e845635db4225bd618c0b29489979-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL057014d9f744412c8de8c57cc3183799",name:"TPT - BG - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7bb61fe2dc5b421ca9f40b0e1910d55f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe8ec2cbaa1724c33ab14e6fd2fd6118b",name:"TPT - FI - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1dd4ead5ec2d4e60a7a5ce6c8cf9add1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1c932065bad84b7cb34bb545eac4675f",name:"TPT - DE - AEM - Criteo Pixel - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2ae48ac478614a9ca1124dbcab4b88c8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7be3d29b124347fc980102aedf05327e",name:"TPT - ES - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC570ce817c651479bba972075caa96a05-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL218970c4c64b4a20b969f925faf8dd64",name:"TPT - PL - AEM - Facebook - View Content - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa898e402865e409194169aec43601381-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL76000adaa29a4ed4be793feca7d2f852",name:"TPT - SK - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd215321e8fd2417fa68e5cbfff651110-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLeb9b2061be4a41f89ae9c422f39cedda",name:"TPT - CZ - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdc6ae7019e1a487099f74559e3319b30-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdea622ada4744f9a9ed33615dfb970ed",name:"TPT - BR - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb6046b75deba4a518940200d4b4bd132-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL228537bcc9a848f192c5c79562080c3a",name:"TPT - UK - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC978e1a4cddbf407ba2e891551fc9f172-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2209e2548a9f48cda1a9be23fde8d05f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9328e64fcd724851bf82784ccff83407",name:"TPT - SE - AEM - Adform - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd9e07e2db0744f98a72b6ba40ccde15e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL392e5c4373e04465a85ed4394d91b8e9",name:"TPT - ZA - AEM - Adform - X3 Inspire Test Drive - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#top-of-content > div.ds2-component.ds2-stage-presentation.ds2-disclaimer--asterix-on.ds2-contentnavigation > div.ds2-stage-presentation--keyvisual > div > div.ds2-stage-presentation--keyvisual-cta.show-for-large-up > div > div > div.show-for-large-up > ul > li:nth-child(1) > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/x-series/X3/2019/bmw-x3-inspire",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4a953f343d6b406494de30a94a86abe1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL08f962b89b7c4c2c9324dd6063cea9f1",name:"TPT - FI - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/tarjoukset/kampanjat.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC992b6a0e2d1149e789d10aa40c47726f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7f0a5c6ff7849e7ae1079e2ed0df18e",name:"TPT - PL - AEM - Adform - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC13210ff089ac4b37824fbb025e5eb64c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL286c41a4f43b40768f7c6ee72f277795",name:"TPT - CH - AEM - DoubleClick - ContactForm-Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC839ed62163f445a18fe941e732aaa431-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3c3b3cb0ce8f4965b275619c7082db25",name:"TPT - DK - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd8a2c70cbcbe4fa5bea20c429e1ce149-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL725fa171f34c4a6e83a8f5fe57331259",name:"TPT - AT - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC24ff9d2cab4e4d2b86b4e3dbf833ab28-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL914fbf4278554034b10ecf42bc76d937",name:"TPT - HU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1b2902418e394401a1f76fb8f3297d0a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7f4906b4bfe544cfa1987de3993a5657",name:"TPT - PT - AEM - Adform - iFrame RFC Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3266d94a63de46fab75478f69cebc7de-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLac1663c5ad4f4e29b5de9f1c856f2023",name:"TPT - NL - AEM - IgnitionOne - iFrame RFI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0273bfb4f38a45e390e5143ed9bc0299-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42683e162ba0468982d149cf08849acd",name:"HT - All - NSC - Multiple - Fire Mbox",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(t){try{return Boolean(_satellite.getVar("AT-property"))||new RegExp(/^m\d{3}\.bmw-int\d{1,2}\.com$/).test(window.location.hostname)}catch(a){var s={from:"Condition",type:"Rule",name:t.$rule.name};_satellite.logger.error(e,s)}}}},{modulePath:"core/src/lib/conditions/variable.js",settings:{name:"window.navigator.userAgent",value:"Googlebot",valueIsRegex:!0},negate:!0}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-target-v2/lib/loadTarget.js",settings:{}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"if (_satellite.getVar('topLevelDomain') !== 'bmw.de' && _satellite.getVar('topLevelDomain') !== 'bmw.it'&& _satellite.getVar('topLevelDomain') !== 'bmw.fr'&& _satellite.getVar('topLevelDomain') !== 'bmw.co.uk')\n    return; //Don't run the CS integration script on non-whitelisted markets\n\n/*\n *Name: Adobe Target CS Integration\n *Version: 1.5\n */\n(function() {\n    var tvp = \"AB_AT_\";\n    var tokens = \"\";\n\n    function sendToCS(csKey, csValue) {\n        csKey = tvp + csKey;\n\n        _uxa.push([\"trackDynamicVariable\", {\n            key: csKey,\n            value: csValue\n        }]);\n    }\n\n    function removeDuplicates(myArr, prop) {\n        var mappedObj = {};\n        return myArr.filter(function(obj, pos, arr) {\n            var val = obj[prop]\n            if (mappedObj[val]) {\n                return false;\n            }\n            return (mappedObj[val] = true);\n        });\n    }\n\n    function init() {\n        if (window.CS_CONF) {\n\n            CS_CONF.integrations_handler = CS_CONF.integrations_handler || {};\n            CS_CONF.integrations_handler.adobe_target_tokens = [];\n\n            var uniqueTokens = removeDuplicates(tokens, \"activity.name\");\n            if (uniqueTokens) {\n                uniqueTokens.forEach(function(token) {\n                    var campaignName = token[\"activity.name\"];\n                    var experienceName = token[\"experience.name\"];\n\n                    CS_CONF.integrations_handler.adobe_target_tokens.push({\n                        'CampaignName': campaignName,\n                        'ExperienceName': experienceName\n                    });\n\n                    sendToCS(campaignName, experienceName);\n                });\n            }\n        }\n    }\n\n    function callback() {\n        if (!disableCallback) {\n            disableCallback = true;\n            init();\n\n            if (window.CS_CONF) {\n                CS_CONF.integrations = CS_CONF.integrations || [];\n                CS_CONF.integrations.push(\"Adobe Target\");\n            }\n        }\n    }\n\n    var disableCallback = false;\n\n    function getEventData(e) {\n        if (e && e.detail && e.detail.responseTokens) {\n            tokens = e.detail.responseTokens;\n\n            window._uxa = window._uxa || [];\n            _uxa.push([\"afterPageView\", callback]);\n        }\n    }\n\n    document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, getEventData);\n})();\n//Adobe Target CS Integration End",language:"javascript"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"var targetParamsManager = _satellite.getVar('AT-TargetParamsManager');\n\ntargetParamsManager.mergeParams({\n    'at_property': _satellite.getVar('AT-property')\n});\n\n// The data element 'AT-AffinityParams' returns a custom object containing categories defined by BMW for calulating the affinity using profile scripts\nvar affinityParams = _satellite.getVar('AT-AffinityParams');\n//The second parameter to mergeParams sets \"once\" : \"true\" meaning that the values will be sent via only one target call\ntargetParamsManager.mergeParams(affinityParams , true);\n\nwindow.targetPageParamsAll = function() {\n    return targetParamsManager.getParams();\n}",language:"javascript"}},{modulePath:"adobe-target-v2/lib/firePageLoad.js",settings:{bodyHiddenStyle:"body{opacity:0px}",bodyHidingEnabled:!1}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL42353bd57cfc4b71ac9e960d917aeeca",name:"TPT - RO - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa421f74af5a34a71a651fb557327eef3-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe42e149fe0b74dc18d94b53cfa673e9a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb97d5b0562de4e1680914ccd968bd57c",name:"TPT - FR - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfabd02909e9b454da211aae2c689f230-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6cd10756c510464f8cfac3bd64eef394",name:"TPT - FI - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fI",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbd65e7fa93ba499d977cb0960fe223b7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa074968f0d1b41129d273b111ee10d4d",name:"TPT - NL - AEM - IgnitionOne - iFrame RFI Forms - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC33fbe22bf2784f59a680100f1a175b07-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a3b17c89d1f412d87474d28360a740b",name:"TPT - FR - AEM - Adform - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb313d1a29e404f3eaee7e3417a4159fc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL70852c5bfa3d4b43abd929272912bf7a",name:"TPT - SK - AEM - RTB - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf08fe6302301403397ac64b4bd798a4a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC18b86773130a434b8d88a53d463f187b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb9429b32d4bb478294ad6dffb7c432bc",name:"TPT - NL - AEM - Adform - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",
settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC52ec6c1e202145ca834f135dc1c84326-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8b548127b1be40f8b87a08aacd5e0219",name:"DCR - ALL - NSC - AA - Visualizer Component",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"visualizer_interactions"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier);var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.effect"),n=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),r="",i="nsc > ";t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",_satellite.getVar("setDefaultVariables",e)(t),("datalayer field missing"!=s.get("product")&&"datalayer field empty"!=s.get("product")&&s.get("product")!=[]||"datalayer field empty"!=s.get("product.-1.productInfo.productName")&&"datalayer field missing"!=s.get("product.-1.productInfo.productName"))&&_satellite.getVar("setProductString")(t),t.prop42="configuration",t.prop19=t.prop54="visualizer",t.prop56="interaction",t.prop53="ux","visualizer start"==a.toLowerCase()||"visualizer finish"==a.toLowerCase()?t.prop53="success":"inactivity"==a.toLowerCase()||"error"==a.toLowerCase()?t.prop53="3rd party backend":"buildability conflict"==a.toLowerCase()&&(t.prop53="automatic"),t.eVar134="web",t.eVar34=a&&"object"!=typeof a?a:"datalayer field missing",t.eVar34.indexOf(i)<0&&(t.eVar34=i+t.eVar34),["change roof top color","change interior trims","change interior upholstery","change exterior mirror caps","change exterior wheels","change exterior color","change view","visualizer finish","visualizer start"].indexOf(a.toLowerCase())>-1?t.eVar34=s.get("event.-1.eventInfo.effect"):["inactivity","error","buildability conflict"].indexOf(a.toLowerCase())>-1&&(t.eVar34=s.get("event.-1.eventInfo.cause")),t.prop55=s.get("event.-1.category.subCategory01"),t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop55=s.get("event.-1.category.subCategory01"),"360 rotate"==a.toLowerCase()||"roof top close"==a.toLowerCase()||"roof top open"==a.toLowerCase()?t.prop51=s.get("event.-1.eventInfo.effect"):t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop50=s.get("event.-1.eventInfo.element"),t.eVar71=s.get("event.-1.eventInfo.target"),t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.prop2=s.get("page.category.pageType"),t.prop3=s.get("page.category.primaryCategory"),t.prop4=s.get("page.category.subCategory01"),t.prop5=s.get("page.category.subCategory02"),t.prop1=s.get("page.pageInfo.pageName"),t.prop1.indexOf(i)<0&&(t.prop1=i+t.prop1),t.prop28=s.get("page.attributes.virtualPage"),t.prop29=s.get("page.pageInfo.version"),t.linkTrackVars+="prop42,prop19,prop54,prop56,prop53,eVar134,eVar34,prop55,prop51,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar10,prop43,prop2,prop3,prop4,prop5,prop1,prop28,prop29",r="event917,event918","visualizer"==n&&(r+=",event313,event314"),"visualizer finish"==a&&(r+=",event315,event316"),"visualizer start"==a.toLowerCase()&&(r+=",event311,event312"),["inactivity","error","buildability conflict"].indexOf(a.toLowerCase())<0&&(r+=",event313,event314"),["Inactivity","Error"].indexOf(a)>-1&&["Page","Popup","Inline message"].indexOf(o)>-1&&(r="event931,event932"),t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),t.events="",t.events=t.apl(t.events,r),t.linkTrackEvents=t.apl(t.linkTrackEvents,r),_satellite.getVar("smartPreviousValueManager").update("pageName",t.prop1)}catch(s){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(s)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL8d5a925b77a84cca877d53911f845217",name:"TPT - DE - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCce5567711a5747ffbceacb590549886c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL88d01c6a6c2141f8a2658580d35f5908",name:"TPT - SE - AEM - WebChat - All Pages- PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC675ec83f933b41dea45d7d3a4be6d9ff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL89dc90cf0696481fa605b7c96f8ee38f",name:"TPT - AT - AEM - Pinterest - TDA - FormSubmit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/publicPools/success-pool/success-page-tda.business-forms.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2dc3c41a3ae347848ba79972b1396d01-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL646094f98ad34768abb7c25bc2a137c6",name:"TPT - DE - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb890100506854a47b7f532acd99eff96-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf60cb7231f5e41718af97853d7527d52",name:"TPT - IE - AEM - Adwords - Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/requests/brand-switch-tda/tda-bmw.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/forms/tda/test-drive-appointment.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9087dabaa9fe4bc2850e2b77cd6a584a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc2aaebd31b374d6db7031adcbd29d580",name:"TPT - MY - AEM - Korex - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6696e4a96b3b417da23cce2a5a3c7f42-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL25862b9404d6458f84aab15a13777406",name:"TPT - SK - AEM - Adform - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd38b45470e9d4d20a6783ab8a06ba489-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLde74efe3a62e49e9bded9b286d0adfae",name:"TPT - DK - AEM - AdobeCampaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7ac918eab2434865afa99cd03037decb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa034d2147059452e89e0ae4d34f78745",name:"TPT - AT - AEM - Facebook - Zum ConnectedDrive Store - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.ds2-accessibility > a[href="https://www.bmw-connecteddrive.at/app/index.html#/portal/store"].button.standard.expand.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4b8c177cea9d437aa4c8f71323c2a044-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc56081c3b3314208907bff2f2508a1b0",name:"TPT - IT - AEM - GTagDC - Stock Locator Multiple Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbc173f7845b0433184342433d96bb5cb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL80bb15e8c62a4691bf8d90ee286e4971",name:"TPT - AT - AEM - Facebook - BMW Prime - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://meinprime.bmw.at"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/bmw-prime/prime.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0cf8e2c9b2e44816b20f74defb7f9773-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL13250c9db0684652bf3c1a548d058485",name:"TPT - NO - AEM - Adform - Kampanjer Other Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-buttonlist--item.ds2-buttonlist--max-width",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Oversikt over alle BMW (i |)kampanjer",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Kontakt din forhandler",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/tilbud/kampanjer.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8e33edaf1ca545509eb6896eff925d80-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd1f7c8eb9c0747029c67df0003b914c6",name:"TPT - CZ - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdf4c336be7fb4cf684c6244504d0658e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL33c1892182f34f2abe723f417d75633d",name:"TPT - MY - AEM - Sizmek - History Change - EBR",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1317bbcf73df46dcb195a083cf73aaf8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6f9c82310992496f8d15e5fe1a5bee49",name:"DCR - ALL - AEM - AA - ZSO Interaction",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"zso_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.linkTrackVars="events,",t.linkTrackEvents="",t.events="";var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.eventAction"),n=s.get("event.-1.eventInfo.cause"),r=s.get("event.-1.eventInfo.effect"),i=s.get("component.-1.componentInfo.componentName"),c=(s.get("component.-1.category.subCategory01"),s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"))),d=_satellite.getVar("setDefaultProductVariables"),l=_satellite.getVar("setDefaultProductVariables");function u(){t.prop56="search",t.prop53="accessory",t.eVar34=-1==o.indexOf("nsc >")?"nsc > "+o:o,t.prop54=i,t.prop55="ZSO Select series"==a?n:r,t.prop51=a,t.prop52="default",t.linkTrackVars=t.apl(t.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52")}function b(){var e;switch(l.category="search",l.id="search",a){case"ZSO Select series":e="series";break;case"ZSO Select Modell range":e="model";break;case"ZSO Select Categories":e="category";break;case"ZSO Select Product":e="product"}l.merchEvars.eVar30="datalayer field missing",l.merchEvars.eVar31="user selected",l.merchEvars.eVar32=e,l.merchEvars.eVar33=r,d.append(l),t.products=d.toString(),t.prop57="drop down menu",t.prop24=n,t.linkTrackVars=t.apl(t.linkTrackVars,"prop53,prop57,prop24,products"),t.prop24=n}_satellite.getVar("setDefaultVariables",e)(t),t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timestamp"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.prop50=s.get("event.-1.eventInfo.element"),t.eVar71=s.get("event.-1.eventInfo.target"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 ZSO_accessories",t.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),t.eVar55=s.get("product.-1.category.subCategory01"),t.eVar65=s.get("event.-1.attributes.productName"),t.prop27=s.get("page.pageInfo.pageID");var m=s.get("page.pageInstanceId",s.get("pageInstanceId")),p=s.get("page.category.primaryCategory");new RegExp("([a-z]{2}_[A-Z]{2})").test(p)?m.indexOf("index-prod")>-1?t.prop3="homepage":m.indexOf("all-models")>-1?t.prop3="showroom":t.prop3=m.split("/")[6]:t.prop3=m,t.prop19=i,t.prop42="nsc website",t.prop43="accessories",t.prop5=s.get("page.category.subCategory02"),t.prop2=s.get("page.category.pageType"),t.prop28=s.get("page.attributes.virtualPage"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.prop1=t.pageName=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.linkTrackVars=t.apl(t.linkTrackVars,"prop1,eVar136,eVar17,prop27,prop3,prop5,prop2,prop28,prop57,prop58,prop12,prop50,eVar71,pageName,eVar60,eVar55,eVar65,prop19,prop42,prop43,prop44");var g=s.get("event.-1.category.mmdr",s.get("product.-1.attributes.mmdr"));if(d.id=g,d.category="vehicle",l.merchEvars.eVar10=g,l.merchEvars.eVar53="new car",l.merchEvars.eVar54="build to order",t.products=d.toString(),"undefined"!=t.products){var f="",v=0,h="",P="";v=(f=t.products).indexOf("eVar"),h=f.substring(v,f.length),P=f.substring(0,v),v>0&&h.length>0&&(t.products=P+h.replaceAll(/[,]/g," "))}switch(t.linkTrackVars=t.apl(t.linkTrackVars,"products"),a){case"ZSO Select series":"select series"==o&&(t.events=t.apl(t.events,"event917,event918,event251,event252,event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event251,event252,event253,event254"),u(),b());break;case"ZSO Select Modell range":"select model range"==o&&(t.events=t.apl(t.events,"event917,event918,event253,event254,event257"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event253,event254,event257"),u(),b());break;case"ZSO Select Categories":"select categories"==o&&(t.events=t.apl(t.events,"event917,event918,event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event253,event254"),u(),b());break;case"ZSO Select Product":"select product"==o&&(t.events=t.apl(t.events,"event917,event918,event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event253,event254"),u(),b())}}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"ZSO Interaction",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL8f7bd6ec666c404199b4dd2aa716df68",name:"TPT - ID - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC629b42808c3f41578b04a0e2a1463abd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3b2dafb63cb4c51a422e60344cdbbba",name:"TPT - SG - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0e5c0791164a4f96b459f1217c83057e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL64c0956a78ff4acea707ad60c3da26d0",name:"TPT - BG - AEM - Adwords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd18c52edff744aabb55b3ec904c5b913-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5ba30da1444746b9877156745dfad987",name:"TPT - SI - AEM - Adform - Site Search - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4df9f237ae2e490dba384d9a267641d3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2bcbc73f75cf4d4fb4a8e6a769703e24",name:"TPT - NL - AEM - Facebook - iFrame - RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf42e16996bf3411cacfdab941b891aa0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa8ed4ec31fc3467e98a839ee0ceaf23b",name:"TPT - AT - AEM - Facebook - Pricelist Download - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",elementProperties:[{name:"href",value:".*\\/pricelists\\/.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pricelist-brochure-download.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd321065c69b34851bb33c78fb3654fd4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL74b2dd3102f6410d8e5378abb29ab81f",name:" TPT - IE - AEM - Gtag_DC - iX3 Build and Price Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.buttonLarge.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/x-series/iX3/2021/bmw-ix3-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcf224f2f3fe840e0879787f293381e94-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfd065c1dcfa5444b8029726ab99fb771",name:"TPT - AT - AEM - SalesforceChat - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdb3e4a82e6d5461ab7fc65f9158a812c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5ac4176d88994c709457599e84fc9659",name:"TPT - ES - AEM - Twitter - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc1e6b49a76c5402f994fc5dd006b2822-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL65726a68d6894c008a513f9300477bdc",name:"TPT - ZA - AEM - MediaMath - Multiple - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7080313ab32e40f2b43639b3de05e9d9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa1a926bdfc724ee2ae987a4ea3be695e",name:"TPT - ES - AEM - Ignition One - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"ES"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/",valueIsRegex:!0},{value:"/es/campanas/plan-moves-2020.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbb14273116c74a87ba50632e538fb0e1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd59081569b614630883ed79a06dee2e8",name:"TPT - ZA - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCedce8781ab4b41f5b78bc3fb0e277439-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL630d31d9fe334332808713596a91e454",name:"TPT - NO - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf9ad9c9597a04a288a385836f20d74d5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7ffe239976a84d19bdbe0696caf8b663",name:"TPT - DE- AEM - Adform - Start Video - SCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6d7c212d22a440bb8e9f9711c27ae174-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLed33ce8686744698ade6f77f2e2faf8e",name:"TPT - DE - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC81aab06a47bb48d7988c8bd1751c1eff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6777b6a52b834a1a972f015c9da005e3",name:"TPT - PT - AEM - GtagDC - Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbb299a0b98034557bf00840d7389d454-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa65f29c8bdea4c8f985ce61a563ce87c",name:"TPT - GR - AEM - IgnitionOne - Forms Simulated Page - DCR - p15r[l]",events:[{
modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7f8a025542a84706a3abd1bdf5869139-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL960de13723084b06969c49cbaf354650",name:"TPT - MY - AEM - Sizmek - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4c733dff3f2f4091bba8cebdd1369b2a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC182e07e3e9ee4b22adfea968eb7959e9-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6fdf1114edc349c1901174df42352731-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC81ab0072ed634b71a9ce1ac0d02c325b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL94cf268242fc4347962a72bd7282d9b5",name:"TPT - IE - AEM - Gtag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IE"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe4f89fc934614a9db5887a2845995f25-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0fe931f5bc6c462d8e0de924e5a282fb",name:"TPT - RO - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC73d53da543fc481889078525644e0818-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9dcf7ee3831248fabbc6a27c1bdc6534",name:"PLR - All - AEM - AA - Trigger Central Forms",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:51}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCefa42b73039543e08579d1f3eff85a9b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5634825412b24f6691d85a0951eff94d",name:"TPT - JP - AEM - Line - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6861b689844f4da6b7d3a23c2bb3e0d3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8e6a38076dcb48529a917ef2c3761a68",name:"TPT - ZA - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe367b51d41514540a5afc0cd5841d55e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9529e4e4e6604fac96fbc030d006d5e0",name:"TPT - NO - AEM - Adobe Campaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa53ad535f1984b4381635c1859a85f68-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd40e916d45ec4500a54b38e23685888a",name:"TPT - SK - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCacb3ac2795da4791a752d340d7cf69e9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL077989701f95431e87a3b407641aad6a",name:"TPT - AU - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6207bd9f8a1444238ec7aa98b6b26573-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL72f6fc17e72d4f228547ec8262c0e64e",name:"TPT - NL - AEM - Facebook - iFrame ROI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0a96a00f482d49479b94a66b72e01723-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb1a4544c34a3417889d37347bad78509",name:"TPT - BR - AEM - DoubleClick - Packages and Services - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Veja mais informa\xe7\xf5es"===this.innerHTML}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCde90277f4baf476a9bae3fdff0e939e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL773203811c3b45d89582af3a68fa978b",name:"TPT - IE - AEM - DoubleClick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%pa_cat_subCategory01%",rightOperand:"TDA"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdbaeeb46d7f14ed9a420a9347a09f8f7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7265eb0f0df24faab246f0b7ac9d5ef4",name:"TPT - PL - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0af0f530b42245e58de83da8002d9ae9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8d80a1fdad3040a4b175f37a51d466f2",name:"TPT - SE - AEM - AdForm - Customer Supportr / After Sales - Accessories - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/avdelning/tj%C3%A4nster/tillbeh%C3%B6r/bmw-faelgar-daeck.html|/sv/avdelning/tj%C3%A4nster/tillbeh%C3%B6r/original-bmw-accessories-spring-summer.html|/sv/avdelning/tj%C3%A4nster/tillbeh%C3%B6r/bmw-hoest-vinter-tillbehoer.html|/sv/avdelning/tj%C3%A4nster/tillbeh%C3%B6r/lifestyle.html|/sv_SE/topics/service-and-accessories/bmw-tillbehor.html|/sv/avdelning/tj%C3%A4nster/tillbeh%C3%B6r/m-performance-parts.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCac7febfcf3c54ab4ac30b4a9169c9204-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4ef3d58648eb416b8387b365b39a8dc7",name:"TPT - DE - AEM - Nero - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de$",valueIsRegex:!0},{value:"m14.bmw-int1.com"},{value:"m156.bmw-int.+.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd0df5c42f1bc48a990924096ec2b75ae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4a2f347c0b564c8990e7d6a0dffeef6d",name:"TPT - NL - AEM - Bing - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC70a7faa9d6f24e30adb8d503548912fb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2720eb10ee074bf78a529886503d1874",name:"TPT - IE - AEM - Gtag_DC - 1 Series Book a Video Consultation - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/book-a-video-consultation.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/1-series/5-door/2019/bmw-1-series-inspire.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0e923d74fdc64b77adf0db418bf03bc9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8312401abd27461cb0fbf58d5d0a9ef8",name:"DCR - ALL - NSC - AA - Ignition One Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"ignitionOneTracking"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier);var s=e.detail&&e.detail.ignitionOneData?e.detail.ignitionOneData.eventType:window.ignitionone.eventType,a=e.detail&&e.detail.ignitionOneData?e.detail.ignitionOneData.formType:window.ignitionone.formType;a=a&&"contact"==a.toLowerCase()?"RFC":a,window.ignitionone.previousFormType=window.ignitionone.formType,window.ignitionOne=window.ignitionOne||{},window.ignitionOne=Object.assign(window.ignitionOne,window.ignitionone),delete window.ignitionone.previousFormType,_satellite.getVar("setDefaultVariables",e)(t);var o=_satellite.getVar("snapshotDL");switch(t.prop5="dedicated forms",t.prop6="ignitionOne",t.prop9="step 1/1",t.prop10=window.ignitionOne.isCombo?"combo forms":"dedicated forms",t.prop41="pop-up",t.prop42="locally developed",t.prop43="forms",t.prop53="ignitionOne",t.prop56="form","Impression"!=s&&"impression"!=s||(t.prop8="form started",t.prop16="ignitionOne form",t.eVar34="nsc > form started"),"Start"!=s&&"start"!=s||(t.prop8="first form interaction",t.prop16="ignitionOne form",t.eVar34="nsc > first form interaction"),"End"!=s&&"end"!=s||(t.prop8="form finished",t.prop16="request success",t.eVar34="nsc > form finished"),t.prop1=o.get("page.pageInfo.pageName").indexOf("nsc > ")>-1?o.get("page.pageInfo.pageName"):"nsc > "+o.get("page.pageInfo.pageName"),t.prop2="form",t.prop3=a,t.prop7="generic",t.prop11=a,t.prop19=a,t.prop28="virtual page",t.prop29=o.get("page.pageInfo.version"),t.prop54=a,t.eVar4=o.get("page.pageInfo.destinationUrl"),t.eVar135=o.get("page.pageInfo.devEnv"),s){case"Start":var n={TDA:"event5,event6",RFI:"event5,event6",RFC:"event5,event6",RFO:"event5,event6",ROI:"event5,event6","FS RFO":"event33,event34","not set":""};t.events=t.apl(t.events,n[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,n[a]);break;case"Impression":var r={TDA:"event3,event4,event85,event86",RFI:"event3,event4,event45,event46",RFC:"event3,event4,event33,event34",RFO:"event3,event4,event61,event62",ROI:"event3,event4","FS RFO":"event3,event4,event102,event103","not set":""};t.events=t.apl(t.events,r[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,r[a]);break;case"End":var i={TDA:"event15,event16,event87,event88",RFI:"event15,event16,event47,event48",RFC:"event15,event16,event35,event36",RFO:"event15,event16,event63,event64",ROI:"event15,event16","FS RFO":"event15,event16,event104,event105","not set":""};t.events=t.apl(t.events,i[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,i[a])}t.linkTrackVars+="prop1,prop2,prop3,prop5,prop6,prop7,prop8,prop9,prop10,prop11,prop16,prop19,prop28,prop29,prop41,prop42,prop43,prop53,prop54,prop56,eVar4,eVar7,eVar8,eVar34,eVar135,prop33,eVar28,prop31,eVar14"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Ignition One",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL1d0a6b26d721474e8e0cff03c54ca0b2",name:"TPT - TH- AEM - Taboola - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC824292e9748046dab8f2cc41015ad48d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2aa681a86cb64adbbfc2b25b84d710be",name:"TPT - ES - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC87bb0556dfad48d09a5f951d9f870974-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe0d0fc12f7194f9b80766886ec1286ba",name:"TPT - SG - AEM - Adwords - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4ab46b24100e4014b7c8d3f493b1bce0-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4f090d609ee547d1b19b1d86d28f8b9f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4ac22f21b0b64daa9e30c1e47aa84e3d",name:"TPT - FI - AEM - Adwords - Open Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbb001c41c0d24802933cdcf1940849e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1e9a1ac33f464d4aa9d0bb284e8dc4e9",name:"TPT - SK - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC424970148d544765959d1984ff9616ed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5c02f79043bf497fa21e5301ae7701c9",name:"TPT - SE - AEM - AdForm - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/avdelning/erbjudanden-varum%C3%A4rken/elbilar-plugin-hybrider/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0555dd5b6a104d7ebd48ad568d7cb0a5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL47a5f30d48494edca2e2ff0f41c3c883",name:"TPT - CZ - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2351560851a74d54b931ac3ff0b72cca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL83769b04f33d40b6a789445b6598a292",name:"TPT - DE - AEM - GTagDC - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2522b6ef4f494c12b30e7ebe6b860542-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb05ad9d3e5c048cfb30ecc78802b1e99",name:"TPT - ZA - AEM - Twitter - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC61c668cb0455467f9def99e01e0d8d45-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbc9826d8ce4e41e3bdd4ed30f6a2a2ce",name:"TPT - AR - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd68765cdb058423d83edb3e03324b0e7-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC63b561bf17a4463cbfa218680c372b32-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a60d2fce84443d2b851db11de0cbd1f",name:"TPT - BE - AEM - Facebook - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0894c7d0f415421abafa1608d747c1bd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL219d9668d48242128ecb521e228a2255",name:" TPT - IE - AEM - Gtag_DC - PHEV Dealer Locator Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/fastlane/dealer-locator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3cd1976061a34b7c952e1d0a7d651c05-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6ce97e2f669e4197b00f56472c3521d9",name:"TPT - IN - AEM - Lotame - Download Brochure - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdd16695a5f1a45a2b97babc49fce8324-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2bcf225a47f1473a97b67d86bfb9cd78",name:"TPT - BG - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb1a3ec2c0ae1488db3710d40bc5a6a5e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL26a1b209c1a249f0b6dbc1a9bfe5155e",name:"TPT - RU - AEM - DoubleClick - Started Configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC61cbf786d9b5464e8e540abb28592a35-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7eb3cfd473eb4f55b5fc46743c0a571f",name:"TPT - RU - AEM - DoubleClick - Started TDA - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0422\u0435\u0441\u0442-\u0434\u0440\u0430\u0439\u0432"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2b077265fa7c457e82e4eda7558baa56-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL04a6a04308454bc7ae45c669c1ea6640",name:"TPT - PT - AEM - Livechat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC09f26e80ad524f34adc02b7763664b38-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLabd6da1b19eb42b1b79a9f6f0a18ee0f",name:"TPT - NZ - AEM - ContentSquare - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/configurator.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6e72c26fe60d430da3845bcb2192b879-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL900fa6c2046b48fca660a64ffb76cb8b",name:"TPT - IT - AEM - GTag DC/AW - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd13d0d8a73924218bd5e78ce5865d1b0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa25d7963d38e4c998f655b053ebdc981",name:"TPT - ES - AEM - MediaMath - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfc619fe875db493dace0997c54f85ea0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7f66f5e290cb4bf89f4f99841ff595bc",name:"TPT - DE- AEM - Adform - DLO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4e05fbacd51e4176bfde14843eb01cca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL14213c8cd7bb4162a46eb7fa635b3ac1",name:"TPT - DE - AEM - ContentSquare - Popup Save configuration - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"popup_save_configuration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe4c4bdcca28d44368f07d4271dd80630-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL014651e04ff1491ab03d6e7d57772573",name:"TPT - SE - AEM - AdForm - BMW ix3 showroom overblick- PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/alla-modeller/x/iX3/2020/overblick.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC66a664604f7b431c9f1cd6e637e827bc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9ff506e0c6874f21a978299f5bee034f",name:"TPT - JP - AEM - Pardot - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4bba540ec6844ed7a4fc708b47296c69-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLafafba3dc5ea4876816aa445429299ae",name:"TPT - SK - AEM - Doubleclick - DBM_Tag_Configurator_Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.error("TPT - SK - DBM Tag Configurator Steps err \n",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC96f4614fd76347d9bf8c67b8d7bbe8d9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc4ea2278f4bf4e8982d3c5700000a9b9",name:"TPT - AR - AEM - Adwords - Click bot\xf3n mail Contact us - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"es/footer/footer-section/contact-us.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbf9c4eec5ba94a52a8d12b91e9ca596e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL51272c07928440ea9e45e9eb4a1106ba",name:"TPT - AT - AEM - Pinterest - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0036b6008b1d499ebe8c242915244b39-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9d40e2ad33bf45e9b5ffc41849472154",name:"TPT - CH - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa854f98ba5f840e4a49ac590fbcbb5ab-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL98567c2a39f348f78e9daccc225b362a",name:"TPT - BG - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC051d210ac6ff4aa2b444094ef8bec07d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcaaf266f91af4ef294f413ee875177cb",name:"TPT - NL - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC779d5190da5840c899ee5caaea106c62-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcf8da7cf276140ff94dd7d028409babb",name:"TPT - DE - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbbcb861f18294eaba1f14c78a5c3dd80-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1af9b95241c747429ed2c2a468cf40cb",name:"TPT - BE - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC322083255a9a4f1285785d4798bb317f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL89bb637004e34f749dfa7ac6b9703725",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS General - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_general"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf47997b97d614e4c994f9cc4a37a5fa7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL33843f7488f545acb7190bb44543a492",name:"TPT - NL - AEM - Gtag AW - iFrame - RFS Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6707da6dee6945219ecbf7e530b4b6ed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9979925e0b10438f9eecd9ae6e6cf054",name:"TPT - NL - AEM - Facebook - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9deaa540c7c0413fb6dfb9e79056300d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b45067ff042464faf191f6abfd40982",name:"HT - All - NSC - AA - Initialize Plugins",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetTimeParting.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeApl.js",settings:{}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeGetPreviousValue.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.getPercentPageViewed=function(e,t){var s=this,a=s.c_r("s_ppv");(a=-1<a.indexOf(",")?a.split(","):[])[0]=s.unescape(a[0]),e=e||(s.pageName?s.pageName:document.location.href),s.ppvChange=void 0===t||1==t,void 0!==s.linkType&&"o"===s.linkType||(s.ppvID&&s.ppvID===e||(s.ppvID=e,s.c_w("s_ppv",""),s.handlePPVevents()),s.p_fo("s_gppvLoad")&&window.addEventListener&&(window.addEventListener("load",s.handlePPVevents,!1),window.addEventListener("click",s.handlePPVevents,!1),window.addEventListener("scroll",s.handlePPVevents,!1)),s._ppvPreviousPage=a[0]?a[0]:"",s._ppvHighestPercentViewed=a[1]?a[1]:"",s._ppvInitialPercentViewed=a[2]?a[2]:"",s._ppvHighestPixelsSeen=a[3]?a[3]:"",s._ppvFoldsSeen=a[4]?a[4]:"",s._ppvFoldsAvailable=a[5]?a[5]:"")},t.handlePPVevents=function(){if("undefined"!=typeof s_c_il&&"true"==_satellite.getVar("isAdobeAnalyticsAllowed")){for(var e=0,t=s_c_il.length;e<t;e++)if(s_c_il[e]&&(s_c_il[e].getPercentPageViewed||s_c_il[e].getPreviousPageActivity)){var s=s_c_il[e];break}if(s&&s.ppvID){var a=Math.max(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight)),o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e=(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+o,t=Math.min(Math.round(e/a*100),100);var n=Math.floor(e/o);o=Math.floor(a/o);var r="";if(!s.c_r("s_tp")||s.unescape(s.c_r("s_ppv").split(",")[0])!==s.ppvID||s.p_fo(s.ppvID)||1==s.ppvChange&&s.c_r("s_tp")&&a!=s.c_r("s_tp")){if((s.unescape(s.c_r("s_ppv").split(",")[0])!==s.ppvID||s.p_fo(s.ppvID+"1"))&&s.c_w("s_ips",e),s.c_r("s_tp")&&s.unescape(s.c_r("s_ppv").split(",")[0])===s.ppvID){s.c_r("s_tp");var i=-1<(r=s.c_r("s_ppv")).indexOf(",")?r.split(","):[];r=i[0]?i[0]:"",i=i[3]?i[3]:"";var c=s.c_r("s_ips");r=r+","+Math.min(Math.round(i/a*100),100)+","+Math.min(Math.round(c/a*100),100)+","+i+","+n}s.c_w("s_tp",a)}else r=s.c_r("s_ppv");var d=r&&-1<r.indexOf(",")?r.split(",",6):[];a=0<d.length?d[0]:escape(s.ppvID),i=1<d.length?parseInt(d[1]):t,c=2<d.length?parseInt(d[2]):t;var l=3<d.length?parseInt(d[3]):e,u=4<d.length?parseInt(d[4]):n;d=5<d.length?parseInt(d[5]):o,0<t&&(r=a+","+(t>i?t:i)+","+c+","+(document.body.scrollHeight==(window.pageYOffset||window.document.documentElement.scrollTop||window.document.body.scrollTop)+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)||e>l?e:l)+","+(n>u?n:u)+","+(o>d?o:d)),"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&s.c_w("s_ppv",r)}}},t.p_fo=function(e){var t=this;return t.__fo||(t.__fo={}),!t.__fo[e]&&(t.__fo[e]={},!0)}}catch(e){var s={from:"AA",type:"PLR",name:"Initialize Plugins"};_satellite.logger.error(e,s)}}},trackerProperties:{}}},{modulePath:"common-analytics-plugins/src/lib/actions/initializeRfl.js",settings:{}}]},{id:"RL8628eebc2b2f49ac8889c87635d025a9",name:"TPT - IE - AEM - Gtag_DC - PHEV View Offer Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/bmwoffers/bmw-3-phev/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe662d734e7a64c5f88774d782bab87c5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8d7940b782be4510ae8288f19028b1ec",name:"TPT - FI - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC01e59d49379c4a3a93b2809f3934628b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL70dfa5774d5d427199ba4f463be8b461",name:"TPT - SE - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC485dafb4257b4f41b359b83ac151287f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL12e54f3f8ea94cfa90ce2476b78bdeb0",name:"TPT - IT - AEM - Gtag AW - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC01370ff50c784783b2b92928b0503e69-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8cd33558f54e445fa992a778b38dbaff",name:"TPT - RU - AEM - DoubleClick - Configurator Last Page - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div",elementProperties:[{name:"className",value:"h5vco-table-cell needsclick h5vco-nav-description h5vco-bold h5vco-clickable-text ng-binding"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0fa60ec6c8534e73935ed2959dd7bb14-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL74e76a7a740e4610b1d71f86aa6112de",name:"TPT - NL - AEM - Adwords - Dealer Search Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.button-blue",elementProperties:[{name:"title",value:"Zoeken"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4452da1406774129abc2153191e9c3b9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL87f85b65d8a64cf0bf98fe10e6f58977",name:"TPT - NL - AEM - Submit Button Pixel - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC256de0a187634f359a966705d1cb9ead-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5edeb1d76ea9419e9f09d617dcd8a40a",name:"TPT - NO - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf143ecf2a8554bc292bbdcee472973a9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9cf90f58053e43b399bd33c50785754c",name:"TPT - AT - AEM - Facebook - 141g CTAs - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-button--responsive-line",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/fascination-bmw/corporate-direct-sales/modelle-141g.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0a09cc43ab9043239cbdaa40804c5758-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc01c1d62b35416b9f3128b0911a6b59",name:"TPT - BG - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"BG"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8cc6701f689e4da49db4950a88361706-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCad01c6b1d10e4c8f9207d44223d7ba30-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2c21c049a0684da19aff35ee3066277f",name:"TPT - RO - AEM - DoubleClick - iFrame RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9d529252da0649649f92fb82345db039-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4a1a933e964946cba81c7b3bebe0ecab",name:"TPT - AT - AEM - Facebook - Catalog Download - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a.ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",elementProperties:[{name:"href",value:".*\\/brochures\\/.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pricelist-brochure-download.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC549c5e2db34740d98a42cf596b787c98-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2cac2682beac4b0c85e5e57d69511076",name:"TPT - AT - AEM - Facebook - Contant Number Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-contact-item--phone.ds2-tracking-js--event",elementProperties:[{name:"href",value:"tel.*",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/footer/metanavigation/contact.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4a4c305265c548ecb91590c1cde14c67-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL51435cb5b20b4f2ba017599a3e06553a",name:"TPT - PT - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8f2f1bf9ea7e4f81adc18d2e0209f3cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7f9bd43f1417453b975cab4f74ead94d",name:"TPT - RU - AEM - DoubleClick - Need Analyzer Extended - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5fa6aa4f26d64577b8f2c35d358ddb16-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb884c6dde3ab4d078bdb9270cc904eb1",name:"TPT - NL - AEM - Bing - iFrame NSF Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf3a5e9ea4bf04aeea89f22d50bc7968e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL01391c68d2a149a8b4b9d6b4203da80f",name:"TPT - SE - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf72597a46ff94f1ea380e7ad9a8edbd5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcc3634e18f204248bb0a5950d5ec65be",name:"TPT - DE - AEM - Linkedin - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2cbd7482026845219e4e76b2607ed1df-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb27971ca8ced47b782a825cd5ab4ca1f",name:"TPT - NL - AEM - Adwords - iFrame RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd260c0c6a83a4a57a43a17b49d6344ef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd0b4c849905c4903b0ff38522aaaba36",name:"TPT - TH - AEM - GtagAW - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe2fe8acbfffc44398394d74d2386f87f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL056e32b045064fa593f566b55a03892c",name:"TPT - DE - AEM - GTagDC - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC46ca3618ecd841808b1a6a64faf842ed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa519310e131245948b20388493761e75",name:"TPT - IT - AEM - ContentSquare - Stock Locator Filter - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1bd41cb0df574718b29aad706550b38e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL234bc6acde2543d8ae31a35ddbcd32cc",name:"DCR - ALL - NSC - AA - UXN Navigation and Generic Click Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"email"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"call"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_video"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_image"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_tooltip"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tap_hover"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"salesbar"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier);for(var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.effect"),n=s.get("event.-1.attributes.videoLength"),r=a&&"object"!=typeof a?a.split("L").length:0,i=t.Util.cookieRead("gcdmToken"),c="",d=s.get("event.-1.attributes.relatedComponent.category.primaryCategory",s.get("event.-1.attributes.relatedComponent.category.primaryCatergory")),l=s.get("event.-1.category.primaryCategory"),u="nsc > ",b=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),m=s.get("event.-1.category.primaryCategory"),p=s.get("component"),g=0;g<p.length;g++)if(Object.keys(p[g]).length>0&&p[g].componentInfo.componentID===s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"))return void(t.abort="true");if(["line_component","multicontent","new_pre_configuration","offers","new_gallery","uxs-highlight","all-models-list"].indexOf(b)>-1)return void(t.abort="true");t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",_satellite.getVar("setDefaultVariables",e)(t),("tap_and_hold"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&"datalayer field missing"!=s.get("product")&&"datalayer field empty"!=s.get("product")&&s.get("product")!=[]||"datalayer field empty"!=s.get("product.-1.productInfo.productName")&&"datalayer field missing"!=s.get("product.-1.productInfo.productName"))&&_satellite.getVar("setProductString")(t),t.prop42="nsc website",t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.prop2=s.get("page.category.pageType"),t.prop3=s.get("page.category.primaryCategory"),t.prop4=s.get("page.category.subCategory01"),t.prop5=s.get("page.category.subCategory02"),t.prop1=s.get("page.pageInfo.pageName"),"digital > new car stock locator"==s.get("component.-1.componentInfo.componentName")?t.prop1.indexOf("sl >")<0?t.prop1="stock > "+t.prop1:t.prop1=t.prop1.replace("sl >","stock > "):t.prop1.indexOf(u)<0&&(t.prop1=u+t.prop1),t.prop28=s.get("page.attributes.virtualPage"),t.prop29=s.get("page.pageInfo.version");try{i&&(t.prop40="logged-in"),""==i&&(t.prop40="not logged-in")}catch(e){}if(t.prop56="interaction",t.eVar34=a&&"object"!=typeof a?a:"datalayer field missing",t.eVar34.indexOf(u)<0&&(t.eVar34=u+t.eVar34),t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timeStamp"),t.prop54=s.get("event.-1.category.primaryCategory",s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),t.prop55=s.get("event.-1.category.subCategory01"),t.prop50=s.get("event.-1.eventInfo.element"),t.eVar71=s.get("event.-1.eventInfo.target"),d&&"Navigation"==d&&"Navigation"==l?(t.prop52=s.get("event.-1.eventInfo.cause"),t.eVar136="2020 - 06- 15 user_centric_navigation",t.eVar137="AEM6",t.prop53="ux",t.linkTrackVars+="prop74,prop42,prop43,prop56,prop19,prop2,prop3,prop4,prop5,prop1,referrer,eVar6,prop28,prop29,prop40,eVar136,eVar137,prop53,eVar34,prop57,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"):(t.prop52=s.get("event.-1.eventInfo.eventType",s.get("event.-1.category.eventType")),t.prop53="open_content"==e.identifier||"open_image"==e.identifier||"open_tooltip"==e.identifier||"tap_hover"==e.identifier?"ux":"success",
t.linkTrackVars+="prop74,prop42,prop43,prop56,prop19,prop2,prop3,prop4,prop5,prop1,referrer,eVar6,prop28,prop29,prop40,prop53,eVar34,prop57,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"),"open_navigation"==e.identifier&&2==r&&"Navigation"==d)c="event917,event918,event919,event920";else if("internal_click"==e.identifier&&2==r&&"Navigation"==d&&"Navigation"==l)c="event917,event918,event919,event920";else switch(c="event917,event918",e.identifier){case"start_video":c+=",event351";break;case"email":c+=",event901,event902";break;case"call":c+=",event913,event914";break;case"tap_hover":if(o&&parseInt(o)&&n&&parseInt(n)){var f=parseInt(o)/parseInt(n);f>=.1&&(c+=",event352"),f>=.25&&(c+=",event353"),f>=.5&&(c+=",event354"),f>=.75&&(c+=",event355"),f>=.95&&(c+=",event356")}c+=",event351,event909,event910";break;case"open_image":if("tap_and_hold"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")){c+=",event909,event910";break}}if("user_centric_navigation"==t.prop19&&(c+=",event919,event920"),"close_layer"!=e.identifier&&"open_layer"!=e.identifier&&"open_navigation"!=e.identifier||("visualizer"==s.get("event.-1.attributes.relatedComponentName")?(t.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),t.prop19=t.prop54="visualizer",t.prop42="configuration",t.prop53="ux",t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop52=s.get("event.-1.eventInfo.cause"),t.linkTrackVars+=",prop51",["inactivity","error","buildability conflict"].indexOf(a.toLowerCase())<0&&(c+=",event313,event314")):"model_navigation_hp"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(t.prop56="interaction",t.prop53="ux",t.prop43="navigation",t.eVar34=a+" clicked",t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop19=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),t.prop42="nsc website",t.prop13="bmw",t.prop44=s.get("component.-1.componentInfo.componentName"),t.eVar134="web",t.prop27=s.get("page.pageInfo.pageID"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.prop3=s.get("component.-1.componentInfo.componentName"),t.eVar135=s.get("page.pageInfo.devEnv"),t.eVar71=s.get("event.-1.eventInfo.target"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),t.eVar136="2020 - 06- 15 model_navigation_hp",t.linkTrackVars+=",prop51")),("Outbound click"!=s.get("event.-1.eventInfo.eventAction")&&"Internal click"!=s.get("event.-1.eventInfo.eventAction")||"salesbar"!=s.get("event.-1.attributes.relatedComponentName")&&"sticky_sales_bar"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))&&"salesbar"!=e.identifier||(c="event917,event918,event921,event922",t.prop43="navigation",t.prop56="interaction",t.eVar34=a+" clicked",t.prop52="default",t.prop53="ux",t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.prop13="bmw",t.eVar134="web",t.prop27=s.get("page.pageInfo.pageID"),t.eVar71=s.get("event.-1.eventInfo.target"),t.prop3=s.get("component.-1.componentInfo.componentName"),t.prop2=s.get("page.category.pageType"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.eVar135=s.get("page.pageInfo.devEnv"),"new car"==s.get("product.-1.category.primaryCategory")&&(t.eVar54="build to order"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),"Outbound click"==s.get("event.-1.eventInfo.eventAction")&&a.indexOf("test")>-1&&a.indexOf("drive")>-1&&(t.prop11="tda",t.prop8="form start intention",t.linkTrackVars+=",prop11,prop8",c+=",event1,event2"),t.eVar136="2020 - 06- 15 salesbar",t.linkTrackVars+=",prop51,prop2,prop3,prop52,prop19,prop44,prop13,eVar34,eVar134,prop27,eVar135,eVar54,eVar17,eVar136,prop53"),"tap_and_hold"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&("tap_hover"==e.identifier||"open_image"==e.identifier)){t.eVar34=t.eVar34+" clicked",t.prop3=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop52="default",t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop42="nsc website",t.prop43="content",t.prop13="bmw",t.eVar134="web",t.prop27=s.get("page.pageInfo.pageID"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.eVar135=s.get("page.pageInfo.devEnv"),"new car"==s.get("product.-1.category.primaryCategory")&&(t.eVar54="build to order"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 tap_and_hold","tap_hover"==e.identifier&&(t.prop38="video",t.prop39=s.get("event.-1.attributes.videoLength"));var v=_satellite.getVar("setDefaultProductVariables");v.category="new vehicle",v.id=s.get("product.-1.productInfo.productId",s.get("event.-1.category.mmdr"));var h=s.get("event.-1.category.mmdr");v.merchEvars.eVar10=h,v.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),v.merchEvars.eVar52=s.get("product.-1.productInfo.productName"),v.merchEvars.eVar53="new car",t.products=v.toString(),t.linkTrackVars+=",prop51,prop52,prop38,prop39,prop42,prop43,prop44,eVar135,eVar54,eVar55,eVar51,eVar48,eVar17,eVar136,products"}"visualizer"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(t.eVar34=s.get("event.-1.eventInfo.eventName.en")),"visualizer"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")&&(t.eVar34=s.get("event.-1.eventInfo.eventName.en")),t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),"Precon Overlay"===m&&(t.prop53="",t.prop54="",t.eVar34=""),t.events=t.apl(t.events,c),t.linkTrackEvents=t.apl(t.linkTrackEvents,c),_satellite.getVar("smartPreviousValueManager").update("pageName",t.prop1),t.prop74="bmw .next - nsc|dcr - all - nsc - aa - uxn navigation and generic click tracking"}catch(s){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(s)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL9561b0beee824502929f15103af494f2",name:"TPT - HU - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe4b4314188c4433c95aecd64f46e4ee1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL284e46fb206a4ff78cb31920e60af0e3",name:"TPT - SE - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4e761588a3fb4a6e96339609f8aba4b7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLae62cf5654284da88eb9b6e9090cf166",name:"TPT - DE - AEM - Adwords - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC028841dfe0094d218859d810fa6c9807-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7eb7a35045443aca1b49419cb557f8b",name:"TPT - NZ - AEM - LinkedIn - All Pages - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb0e7a32a8beb457ca2dc50bbd2d5ec3e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbd88bb7d390c4f13a02129e9765d9a71",name:"TPT - SE - AEM - AdForm - BMW i4 Showroom- PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/alla-modeller/bmw-i/i4/2021/bmw-i4-oversikt.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC281f99d18dc6441f8b8e914a4a4bff52-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL58a077c2c419448fa15b3e0f48b20eef",name:"TPT - JP - AEM - Adform - iFrame RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3abc87e24e7342c3b1f3578021d65734-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe900ca4db9014f82845610602ab273e7",name:"TPT - UK - AEM - GtagDC - iFrame RFC Forms- DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC762f2f0aa7754cb0bf2f280e9b4cdc9f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC53bc6eaef05044259c46fe0407d702e7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0785287718ce4d2eb92d06b651fa2f08",name:"TPT - IT - AEM - Adwords - Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.col-sm-3 a.car-version,div.col-sm-3 a.car-version span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/test-drive-now/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCacc75916f9e5450ea117934c28ce6d92-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdbf401b3d2d549d1835327fc1d7fb485",name:"TPT - SE - AEM - Live Chat - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(avdelning\\/tj%C3%A4nster\\/finansiera|finansiering$)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC547dbc51cb464c08938f08b6cc82dcf8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe742001b57594cd1916fb4da1716d7a7",name:" TPT - IE - AEM - Gtag_DC - PHEV Enquire Now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/redirect/retailer-enquiry.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1d56f69a771d45dba5ff67e21ade95ab-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLac547657937f496f8c6b53f0ffba17fc",name:"TPT - NL - AEM - Gtag DC/AW - RFI - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/specials/prijslijst-brochure.html",valueIsRegex:!0},{value:"/nl/ssl/aanvraag/brochure-prijslijst.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb6d4efcc2794436b824dc45923396387-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL82806139cd08426aae413f9a117d9eff",name:"TPT - UK - AEM - GTagDC -iFrame Forms Oli FS Payment - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_payment"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC839d3ac13ea1441f88fae643192f702a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL02d0540b0b2742dfb4d9884b50c4e6c1",name:"TPT - DE - AEM - Facebook - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb7b5d97eebe34ab896b910aaa62fe7b0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9aa03664c5ca40bf93b7f708198c3c68",name:"TPT - DE - AEM - Facebook - Outbound Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2f8eaf4e08804f4295ae70f1cc561f31-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7bcba8825b6345728339983993b62707",name:"PLR - All - AEM - Custom Code - Performance timing",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(){try{if("hidden"!=document.visibilityState){window.perfTime=window.perfTime||[];var e=a();if("ok"==e||"unavailable"==e)o();else var t=0,s=setInterval((function(){t++,"ok"==(e=a())||"unavailable"==e?(clearInterval(s),o()):t>100&&clearInterval(s)}),50);function a(){try{var e=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;return"unavailable"!=(e||"unavailable")?e.getEntriesByType("navigation")[0].duration>0?"ok":"wait":"unavailable"}catch(e){var t={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,t)}}function o(){try{var e=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;_satellite.logger.info(e);var t,s,a,o,n,r,i,c,d,l={};"unavailable"!=(e||"unavailable")&&(t="ok",_satellite.logger.info("SATELLITE : performance tracking : "+t),s=document.location.protocol+"//"+document.location.hostname+document.location.pathname,a=document.location.search,o=document.location.hash,n=e.getEntriesByType("navigation")[0].requestStart,r=e.getEntriesByType("navigation")[0].responseStart,i=e.getEntriesByType("navigation")[0].domInteractive,c=e.getEntriesByName("first-contentful-paint")[0].startTime,(d=e.getEntriesByType("navigation")[0].duration)<0&&(d=0),l={status:t,path:s,query:a,hash:o,timeServer:n,timeServerReact:r,timeDOM:i,timeContent:c,timePageReady:d},(n<0||n>6e4||r<0||r>6e4||i<1||d<0||c<0||i>1e5||c>1e5||d>2e5)&&(l.status="error"),"true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&window.epaas.api.setPersistence("bmwdtm_hq_perf",JSON.stringify(l)))}catch(e){var u={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,u)}}}else"hidden"==document.visibilityState&&_satellite.logger.log("khubruy performance timing hidden!!")}catch(e){var n={from:"AA",type:"Rule",name:"PLR - All - AEM - Custom Code - Performance timing"};_satellite.logger.error(e,n)}}},trackerProperties:{}}}]},{id:"RL71aa6148cd0c455992605da67d7c2f20",name:"TPT - NO - AEM - Adform - Used Car Search - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"BMW bruktbils\xf8k",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC79e2f11bd66d430397cd216932f65cbb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLadc8944fe78943fa97050be610ba4c99",name:"W - All - AEM - AA - BMW Registration Start",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#loginform > div > div > ul > li.small-12.medium-6.columns.s-order-2 > a > span, a.ds2-login-js--to-register > font, a.login-box__button-secondary > span > font > font,a.login-box__button-secondary,a.ds2-login-js--to-register,#loginform > div > div.login-box__container.login-box__bullet-container.column > ul.ds2-buttonlist.row > li > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!1},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));if(_satellite.getVar("setDefaultVariables",e)(t),t.prop1=t.pageName=-1==a.indexOf("nsc >")?"nsc > "+a:a,t.prop11="Registration",t.prop8="form started",t.eVar34="nsc > form started",t.prop19="registration",t.prop6=t.prop53="central form",t.prop7=t.prop55="My BMW Registration",t.prop17=s.get("transaction.-1.transactionID"),t.prop54="registration",t.prop56="form",t.prop10="dedicated forms",0!=s.get("product").length){var o=s.get("event.-1.category.mmdr"),n=_satellite.getVar("setDefaultProductVariables");if(n.id=s.get("event.-1.category.mmdr"),n.category="vehicle",n.merchEvars.eVar10=o,t.products=n.toString(),"undefined"!=t.products){var r="",i=0,c="",d="";i=(r=t.products).indexOf("eVar"),c=r.substring(i,r.length),d=r.substring(0,i),i>0&&c.length>0&&(t.products=d+c.replaceAll(/[,]/g," "))}}t.events=t.apl(t.events,"event93,event94,event3,event4"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event93,event94,event3,event4"),t.linkTrackVars=t.apl(t.linkTrackVars,"prop1,eVar34,prop11,prop8,prop19,prop6,prop53,prop7,prop55,prop17,prop54,prop56,prop10,products")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"regi_Start",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL3a1568201b09455788018bce28e2e0da",name:"TPT - NO - AEM - Adform - Kampanjer offer click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".pagelink.basecomponent.ds2-linklist--item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NO"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!0,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0c9b036c4850438890df8dd54c8b4818-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL27fbc1798e434c53967eb83a61992429",name:"TPT - ZA - AEM - GTagDC - google_site_tag_ZA_TestDriveSubmit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"google_site_tag_ZA_TestDriveSubmit"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2fd3fcb7d2f5430db18d608dd6dd407f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe8fa523f0ae84c58bd0511360967b766",name:"TPT - DE - AEM - Adwords - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfdf7595b08574ea69fcbb3dd6c5d7b42-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLddf61f4e765247709a650969969b161e",name:"TPT - LU - AEM - DoubleClick - History Change Configurator Steps & Save Event - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.error("TPT - LU - Programmatic - History Change"+e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC995110e0ceea4ba2a1dd4a1cb9289f08-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLca1c4fa41c504a4fa93b5ff5bd912296",name:"TPT - IE - AEM - Gtag_DC - CON_Open_Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6493dfde5bbb4b519d1abe20191bdd64-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL997f8bcc08eb443594fb8341348688d9",name:"TPT - NO - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa413564a4eba426783090b0cb4f488cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8a59dea17db245a29204065f8765bad7",name:"TPT - NO - AEM - Adwords - Accessories - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/no/topics/offers-and-services/bmw-tilbehor.html"].button.expand.buttonLarge.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/autumn-winter-accessories.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC97ce47bcd3184bfdacad0cc4f90538f6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4178838e9412464fa7c0b53d42e2b7d4",name:"TPT - RU - AEM - Floodlight - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC717a6f521b2841d2b9356b0bd6dce312-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL78f779f3433545d0a6269e15becf821a",name:"TPT - PL - AEM - Facebook - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb76d3066e7a74885a95f48745031b744-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1f625673ca2f433585178b4f5a18198c",name:"TPT - AT - AEM - Facebook - iFrame TDA Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa3dba74cb3ba4c9682b1013e47ccb258-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL71d664bdaec949699a6274d8c3bece1e",name:"EBR - DE - AEM - AA - Finance Calculator",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("tracking:fs showroom",(function(t){t.detail&&(_satellite.setVar("financeEvent",t.detail),e())}))}catch(e){_satellite.logger.error("EBR: Finance Calculator",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("financeEvent"),a=s.event[0].eventInfo.eventAction,o=s.event[0].eventInfo.eventName,n=s.event[0].eventInfo.type,r=s.event[0].eventInfo.timeStamp,i=s.event[0].eventInfo.cause,c=s.event[0].eventInfo.effect,d=s.event[0].eventInfo.eventPoints,l=s.component[0].componentInfo.componentName||"fs showroom",u=s.component[0].componentInfo.componentID||"fin > finance > fs showroom",b=s.component[0].componentInfo.componentType||"native in-page",m=s.component[0].componentInfo.primaryCategory||"finance",p=s.component[0].componentInfo.subCategory1||"offers",g=s.custom[0].product.productInfo.productName,f=_satellite.getVar("snapshotDL");t.prop1="nsc > "+f.get("page.pageInfo.pageName"),t.prop2=f.get("page.category.pageType"),t.prop19=l,t.prop41=b,t.prop42=m,t.prop43=p,t.prop44=u,t.prop56=o,t.prop57=a,(d="na"==d?"datalayer field empty":d)&&parseInt(d)&&!isNaN(parseInt(d))?(parseInt(d)>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(d)<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+d,",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=d,t.prop53=n,t.prop12=r,t.prop52=i,t.eVar34=c,t.eVar17=f.get("user.-1.profileInfo.visitorID"),t.prop74=_satellite.property.name+"|EBR - DE - AEM - AA - Finance Calculator";var v=f.get("product.-1.attributes.mmdr"),h=_satellite.getVar("setDefaultProductVariables");h.id=f.get("product.-1.attributes.mmdr"),h.category="vehicle",h.merchEvars.eVar52=g,h.merchEvars.eVar60=f.get("product.-1.productInfo.manufacturer"),h.merchEvars.eVar10=v,h.merchEvars.eVar51=f.get("product.-1.attributes.bodyType"),h.merchEvars.eVar48=f.get("product.-1.attributes.modelCode"),h.merchEvars.eVar65=f.get("product.-1.attributes.modelName"),t.products=h.toString(),t.linkTrackVars+="prop1,prop2,prop41,prop42,prop43,prop44,prop19,prop56,prop57,prop58,prop53,prop12,prop52,eVar34,products,prop74,eVar17"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"finance_calculator",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL0fa7d3c900ac43f3baf8c7cffeca07d7",name:"TPT - AT - AEM - Facebook - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC34f949d4ab9f4f0c9932e1da18261fc5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLddc9e78f7abe4288a73d2dabe84eccca",name:"TPT - IT - AEM - GTagDC - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{
modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcfb72cf7d76d4678b3b96fb0838168d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL808411d2420a4603813c39def86e5cbc",name:"TPT - NL - AEM - GTag_DC - iFrame_NSF_Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8c8c4bcc207d4b809d44d9b586efda65-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b050941d79e4e62aaa49c852cb57b6f",name:"TPT - SG - AEM - Verizon - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfaa5a779f4b7408b9b6e8edbfbd7caf1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe46bd147ac13499facd0d3754df8d4bf",name:"TPT - JP - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7cc9da79f1804d4294eca6512df39fe3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2275d5458b554380988f5a2799e9e7ac",name:"TPT - NL - AEM - Bing - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5b882fab83084540bd0cc9ae0711639b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5e7bf3f157dc4f9abb9ea404ec52652c",name:"TPT - UK - AEM - Facebook - iFrame RFC Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC00bfc883b9184d969754414d178add74-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2fcea1a9ee524358a42d887d172ec050",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Collect - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_collect"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa9e6194d6c18456ab9e5791a6117e536-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd71fc8b798d549599124ed0052ee24e7",name:"TPT - ES - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd7ba7570661442de980b43ef03d7bc89-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL00914f8f547941d29a10a57eccc5b03d",name:"TPT - RU - AEM - Netrox - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbe03ab3b191d48bab139c6a321c52903-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1a9d5307505148fd9e8d96e766b453d9",name:"TPT - MX - AEM - Facebook - Multiple - PLR -p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3b7cf42c9e4645afaad78f557b849603-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLde95450b94d64b18a9669aab4ee1216a",name:"TPT - IT - AEM - Facebook - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC12008676136e445695273f626a44dc2d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9d92c25f44eb41e291ae2864d3f96067",name:"TPT - MY - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC135e40effd2f47ea835528105a0957e8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6f0b844c286a401ea0fd415798a133be",name:"TPT - DE - AEM - Criteo Pixel - Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4599555a7b5641c394d674cbb907f0ca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1eb7e6c0d5c546ed95a6ff90852668b4",name:"TPT - SI - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC94bf531a709743b29c20b1c023154b9d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL81409c64fd024ab7bf0c866e67a38023",name:"TPT - NZ - AEM - DoubleClick - iFrame Form TDA - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb607727c1c49459b9763041319393b84-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb16194155cf44c9992dc9ba0cc6c1158",name:"TPT - JP - AEM - Twitter - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa22cfa6e03024280b24854b421e8da8b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL318ba1616ce7430fb76534d86584a807",name:"DCR - All - NSC - AA - Dealer Locator",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_integrated"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_switch_map"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a="nsc > ",o=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));_satellite.getVar("setDefaultVariables",e)(t);var n,r,c,d,l,u,b,m,p,g,f,v,h,P=s.get("product.-1.attributes.mmdr"),j=_satellite.getVar("setDefaultProductVariables");j.id=s.get("product.-1.attributes.mmdr"),j.category="new vehicle",j.merchEvars.eVar52=s.get("product.-1.attributes.modelName"),j.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),j.merchEvars.eVar10=P,j.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),t.products=j.toString();var C=s.get("event.-1.attributes.relatedComponentID");for(i=0;i<s.get("component").length;i++){var R=i.toString();s.get("component."+R+".componentInfo.componentID")!=C&&s.get("component."+R+".componentInfo.componentId")!=C||(_satellite.logger.log("related component - "+R),r=s.get("component."+R+".componentInfo.componentName",s.get("event.-1.attributes.relatedComponentName",s.get("product.-1.attributes.relatedComponentName"))),n=s.get("component."+R+".componentInfo.componentID",s.get("component."+R+".componentInfo.componentId")),s.get("component."+R+".category.subCategory01"),c=s.get("component."+R+".category.componentType",s.get("component."+R+".componentInfo.componentType")),d=s.get("component."+R+".attributes.errorMessage"),l=s.get("component."+R+".attributes.errorID"),u=s.get("component."+R+".attributes.onsiteSearchBrand",s.get("component."+R+".attributes.onSiteSearchBrand")),b=s.get("component."+R+".attributes.onsiteSearchTerm",s.get("component."+R+".attributes.onSiteSearchTerm")),m=s.get("component."+R+".attributes.onsiteSearchResults"),p=s.get("component."+R+".attributes.onsiteSearchResultsFilters"),s.get("component."+R+".attributes.onsiteSearchResultsType"),g=s.get("component."+R+".attributes.distanceFromDealer"),h=s.get("component."+R+".attributes.dealerName"),f=s.get("component."+R+".attributes.outletID"),v=s.get("component."+R+".attributes.dealerID"),variant=s.get("component."+R+".attributes.variant"))}var w,E=s.get("event.-1.eventInfo.eventName"),y=s.get("event.-1.eventInfo.effect"),T=s.get("event.-1.category.subCategory01"),I=s.get("event.-1.eventInfo.eventAction"),_=s.get("event.-1.eventInfo.cause"),x=s.get("event.-1.eventInfo.target");if("home dealer locator teaser impression"==E||"home dealer locator teaser click"==E)t.eVar34="home dealer locator teaser click"==E?a+y:a+E,t.eVar136="2020 - 06 - 15  dealer locator teaser",t.prop43="teaser",t.prop51="home dealer locator teaser click"==E?E:y,t.prop55=T;else{var k,A="",O=_satellite.getVar("searchDefaultProduct"),L="DLO Errors"==E?"datalayer field empty":"user selected";O=_satellite.getVar("searchDefaultProduct"),"datalayer field missing"==u&&"datalayer field empty"==u||(k="search;search;;;;"+O+"eVar30=datalayer field missing|eVar31="+L+"|eVar32=brand|eVar33="+u,A=t.apl(A,k)),"datalayer field missing"==p&&"datalayer field empty"==p||"string"==typeof p&&p.indexOf(",")>-1&&(k="search;search;;;;"+O+"eVar30=datalayer field missing|eVar31="+L+"|eVar32="+(p=p.replace(/"/g,"")).replace(/,/g,"~")+"|eVar33="+b.replace(/,/g,"~"),A=t.apl(A,k)),""!=A&&(_satellite.logger.log("dlo search - inside s.Products",A),t.products=t.apl(t.products,A)),t.eVar34="DLO Errors"==E?a+d:a+y,t.eVar40=f,t.eVar41=h,t.eVar42=v,t.eVar136="2020 - 06 - 15 Dealer Locator",t.prop43="search",t.prop50=T,t.prop51=g,t.prop55="DLO Errors"==E?l:m}t.prop1=t.pageName=-1==o.indexOf("nsc >")?"nsc > "+o:o,t.prop3=r,t.prop19=r,t.prop53="dealer",t.prop24=m,t.prop41=c,t.prop42="nsc website",t.prop44=n,t.prop27=s.get("page.pageInfo.pageID"),t.prop4=s.get("page.category.subCategory01"),t.prop5=s.get("page.category.subCategory02"),t.prop2=s.get("page.category.pageType"),t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop54=s.get("event.-1.category.primaryCategory"),t.eVar71=s.get("event.-1.eventInfo.target"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),"DLO Errors"==E?(t.prop56="error",t.prop53="backend 3rd party"):(t.prop56=1==("Select Dealer"==E||"Dealer Interaction"==E||"home dealer locator teaser impression"==E)?"interaction":"search",t.prop53=1==("Select Dealer"==E||"Dealer Interaction"==E||"home dealer locator teaser impression"==E)?"ux":"dealer"),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar31,prop57,eVar17,prop58,prop52,prop54,eVar71,prop1,prop2,prop4,prop5,prop27,prop41,pageName,products,eVar32,eVar33,eVar34,eVar40,eVar41,eVar42,eVar136,prop19,prop24,prop42,prop43,prop50,prop51,prop53,prop56,prop55");var S={"DLO Errors":"event931,event932","Brand Selection":"event917,event918","DLO Start":"event271,event272","Select Dealer":"event277,event278,event917,event918","Select Preferred Dealer":"event285,event286,event917,event918","Delete Preferred Dealer":"event917,event918","Dealer Interaction":"event917,event918","home dealer locator teaser impression":"event925,event926","home dealer locator teaser click":"event907,event908,event917,event918","find dealer":"event271,event272,event275,event276","visit dealer":"event277,event288"};w=t.apl(w,S[E]),w=t.apl(w,S[y]),"DLO Start"==E&&(t.prop56="interaction",t.eVar34="nsc > "+y,t.prop53="success",t.prop52="automatic",t.prop57=I,t.prop55=T),"Select Dealer"!=E&&"Select Preferred Dealer"!=E||(t.prop56="interaction",t.eVar34="nsc > "+y,t.prop53="ux",t.prop52=_,t.prop57=I,t.prop55=T),"DLO Search"==E&&(t.prop56="search",t.eVar34="nsc > "+y,t.eVar32=t.prop53="dealer",t.prop52=_,x&&x.indexOf("type=")>-1&&(t.prop57=x.split("type=")[1].split("&")[0]),x&&x.indexOf("term=")>-1&&(t.eVar33=x.split("term=")[1].split("&")[0]),t.prop55=m,(p=p.toString()).indexOf("Location")>-1?w=t.apl(w,"event273,event274"):p.indexOf("Dealer")>-1&&(w=t.apl(w,"event275,event276"))),"Dealer Interaction"==E&&(t.prop56="interaction",t.eVar34="nsc > "+y,y&&y.indexOf("@")>-1&&(t.eVar34="nsc > dealer e-address clicked"),y&&0==/[a-zA-Z]+/.test(y)&&(t.eVar34="nsc > dealer phn number clicked"),t.prop53="ux",t.prop52=_,t.prop57=I,t.prop55=T,"Contact Information Show"==y||y.indexOf("@")>-1||y.indexOf("http")>-1?(w=t.apl(w,"event279, event280"),t.eVar34="nsc > value-rejected"):"Plan Route"==y?w=t.apl(w,"event281,event282"):"DLO Online appointment"==y?w=t.apl(w,"event283,event284"):"07322 96390"==y&&(t.eVar34="nsc > value-rejected")),t.events=w,t.linkTrackEvents=t.apl(t.linkTrackEvents,w)}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DLO",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLf82ebb6d6e1246bbb827aacad6a20b07",name:"TPT - MY - AEM - Sizmek - Financing Rates From 0.33% (Test Drive Click) - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Test Drive",valueIsRegex:!1}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/exclusive-offers/attractive-financing-rates.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf72f2d43983645a48b4d1a65f30802a1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6c4173fcca264c72b7c516e035ca931e",name:"TPT - IT - AEM  - Bing - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(window.location.href.indexOf("bmw.it")>=0)return!0}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC97006bf2967042938d5e7f40e4516978-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe5475bcc38ae4e49b8abfdbd48822f4e",name:"PLR - All - AEM - AA - 3rd Party Event Listener",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{document.addEventListener("tracking: fs offer widget",(function(t){t.detail&&(_satellite.setVar("StockLocatorEvent",t.detail),e())})),window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking:recall-search")>-1){var s=JSON.parse(t.data);"tracking:recall-search"==s.methodName&&(_satellite.setVar("StockLocatorEvent",s.detail),e())}}))}catch(e){_satellite.logger.error("PLR - All - AEM - AA - Stock locator Event Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("StockLocatorEvent");t.prop44=s.component[0].componentInfo.componentID,t.prop19=s.component[0].componentInfo.componentName,t.prop41=s.component[0].category.componentType,t.prop42=s.component[0].category.primaryCategory,t.prop43=s.component[0].category.subCategory1,t.prop56=s.event[0].eventInfo.eventName,t.prop57=s.event[0].eventInfo.eventAction,t.prop58=s.event[0].eventInfo.eventPoints,t.prop53=s.event[0].eventInfo.type,t.prop12=s.event[0].eventInfo.timeStamp,t.prop52=s.event[0].eventInfo.cause,t.eVar34=s.event[0].eventInfo.effect,"stock > sl > vehicle"===t.pageName&&(t.pageName="stock > vehicle");var a=_satellite.getVar("setDefaultProductVariables");void 0!==s.custom.product&&(a.id=s.custom.product[0].productInfo.productID,a.category=s.custom.product[0].category.productType,a.merchEvars.eVar53=s.custom.product[0].category.primaryCategory,a.merchEvars.eVar54=s.custom.product[0].category.subCategory1,a.merchEvars.eVar52=s.custom.product[0].productInfo.productName,t.products+=","+a.toString()),t.linkTrackVars+="prop41,prop42,prop43,prop19,prop44,prop56,prop57,prop58,prop12,prop52,eVar34,products,pageName"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{props:[{name:"prop1",type:"value",value:"stock >  vehicle"}],pageName:"stock >  vehicle"}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"3rd party component (3CT)",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RL8470c92f14aa4c37bac8a445acdd1b48",name:"TPT - UK - AEM - GTagDC - Download App Button Click - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"//b.mw/mybmwapp",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/owners/bmw-apps/my-bmw-app-overview.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0f62db234b5845fcaeed79fff556b69b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5c22e9d36abe40458f1e10c2a9517bb7",name:"TPT - AU - AEM - GTagDC - Motorrad Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw-motorrad.com.au/en/offers/bmw-motorrad-corporate.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc154408e3287411fa9cff8d028012acc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL87b46e3890134b8ea256b0ca482327ec",name:"TPT - BE - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9d3f8ba281b74485875a8aea23e29f66-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb453d866d4d7425ab8817eb7d3047a4c",name:"TPT - ZA - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6deb59f717e14ae5a6d963d1eaa4c87f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3718259fe0994cd8a59a4d03474f063c",name:"TPT - CZ - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbee91e5298bb44479f3c05ed60fcde82-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL133692cca57e492e8eb0b71a2d97191e",name:"TPT - MX - AEM - GoogleSearch - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd5f2989fd1004a818f49f3901f073077-source.min.js",language:"html",isExternal:!0}}]},{id:"RL2a1e853382a04644bef4d4ab05341f59",name:"TPT - SE - AEM - Adwords - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.se/sv/ssl/sok-aterforsaljare-serviceverkstad.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/bmw-hoest-vinter-tillbehoer.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC69a2f207d77d46dbb6942d7d6dc114c4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe996784492134060be89ed780bd0424a",name:"TPT - ID - AEM - Yellow Messenger Chat - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa8e473478263468d8f209fac4ccb4ba0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7c04db6fdb664f119976bffa2cbb03da",name:"TPT - NL - AEM - GTagDC - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCde891ce4e51c4447ae11611e85164a13-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8e88096e506a498cb64461100296a507",name:"TPT - BG - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1aee2bb6ba434b39acb4b6e1fad8aa07-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8a7268a0bbd448a9a8fc8089030fe09d",name:"TPT - IE - AEM - Adwords - View Offer Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href^="https://discover.bmw.ie/bmwoffers/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4866f02b6f6243c599a44ef642fdd712-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc7877460bce049799a366fd1f7b42622",name:"TPT - RU - AEM - IgnitionOne - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC95b7d68993394400b71035d53c0d72df-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL04de55d1df1e4fb2b0808e16402b3a1b",name:"TPT - IE - AEM - Gtag_DC - 5 Series Dealer Locator Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/fastlane/dealer-locator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC049b198f5e714f6484b3839502707d60-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbb473faf9106401f8de60c55b71a2719",name:"TPT - DE - AEM - Adform - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/publicPools/success-pool/success-page-rfi.business-forms.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0f8dcc07ba5d41c5b9162cf182907082-source.min.js",language:"javascript",isExternal:!0
}}]},{id:"RL9cc688d40b654d9bb96ac8d67c6c429b",name:"TPT - SG - AEM - Lightning  Bolt - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2c7c2a76cc4548e8966337671c06a29b-source.min.js",language:"html",isExternal:!0}}]},{id:"RLf15e60e94bc6477fbbde1a33ed8cbdbe",name:"TPT - FR - AEM - Sizmek - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC629a8c0c6c1248a2af605795f2530099-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4c95866db75e4a478421b145cc193e11-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf8cacf907cf14be899b85da2f8d10f82-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf4f74f75461c489e8a9eb0e2e731a25e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL273da2117613465ca91a5391eed855ea",name:"TPT - GR - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC68b4b1e66a834d3cb0df87deb9abbc91-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8424a743cabb422eb5a232ce5f254160",name:"PLR - ZA - AEM - Custom Code - Campaign String to Cookie",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var t=_satellite.getVar("consentMap");return"true"==("true"==_satellite.getVar("splitConsentEnabled")?consentcontroller.api.isUsageAllowed(t.campaignCookieTracking).toString():_satellite.getVar("isRegulationAccepted_Tags"))}catch(t){_satellite.logger.error("PLR - All - AEM - Custom Code - Campaign String to Cookie"+e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC042d4df067124dc0abc658b3adcb48eb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3175262257804d52aca1274c557be2e1",name:"TPT - DE - AEM - Pinterest - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7fd7bb5f2562448fb82a9ac635ac87e9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5892ece271844c8ba2563c737a9124af",name:"TPT - IT - AEM - Adwords - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".login-box__button-text.login-box__submit-button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6ed61a593806491d9aadac67536dd2ee-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5568ba0da4d44fa0a273825138eb70ae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2e78f881d2dc48129fd64a3390220f2f",name:"TPT - PT - AEM - DoubleClick - iFrame Form TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC135b0b9f95604cdca7fe36a9322b69c7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1084a48c257b45b68a7c48df7f83995a",name:"TPT - SK - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC24ac0c6b2f814628ab6efadc0844a21f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC23e41c421aa24b2f9f1cbf509a4d3fca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL24c4b01c08e54b3b93693558ff6a04bd",name:"TPT - ID - AEM - LinkedIn - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3d478c4764c04bdd9cb913e308745c99-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5f33ba678e7946b5822f4be72af2392c",name:"TPT - SG - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdde85982e39e442cb7c22625177a6430-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2333d47844fb4a0da5460a13ace19e4c",name:"TPT - NZ - AEM - Facebook - 2 Series Register Interest - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Register your interest']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0f303bd5df624bd8ba0ca23be6ccb681-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b3f5a44894f4610b1bc5163c600d38f",name:"TPT - SE - AEM - AdForm - Showrooms - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/alla-modeller/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC12179e583f29461ebac337e8c24bbb27-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2dc6cc2920624c56803852dcf3c848f9",name:"TPT - UK - AEM - Xandr - iFrame DC Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_dc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5403772c1ca743c6bde5a4eaa5ba182b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL589dc66ea6d04b078d77e60019cbadc5",name:"DCR - All - AEM - AA - DCS PV",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("smartPreviousValueManager");_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var a=_satellite.getVar("snapshotDL");t.prop27=a.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",a.get("page.pageInfo.pageID")),t.eVar135=a.get("page.pageInfo.sysEnv"),t.prop50="page title",t.prop17=t.prop44=t.eVar71=t.prop54=t.prop11=t.prop7=t.prop8=t.prop6=t.prop55=t.prop51=t.prop24=t.prop52=t.eVar34=t.prop57=t.prop56=t.prop58=t.prop12=t.prop53=t.eVar23=t.eVar24="","undefined"==t.products&&(t.products=""),t.prop1=a.get("page.pageInfo.pageName"),t.prop1.indexOf("sales >")<0&&(t.prop1="sales > "+t.prop1),t.pageName=t.prop1,t.prop4=a.get("page.category.subCategory1"),t.linkTrackVars+="prop4",t.eVar151=a.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"),t.eVar152=a.get("page.attributes.solutionSpecific.deliveryMethodAvailable"),t.eVar153=a.get("page.attributes.solutionSpecific.paymentMethodsAvailable"),t.eVar154=a.get("component.-1.attributes.referringComponent"),t.eVar155=a.get("cart.attributes.offerID"),t.eVar156=a.get("page.attributes.checkoutID"),s.update("pageName",t.prop1,!0),t.prop42="vehicle sales platforms",t.prop43="indirect sales",t.prop44=a.get("component.-1.componentInfo.componentID"),t.prop19="digital checkout solution",s.update("pagePrimaryCategory",t.prop19,!0),s.update("componentSubcategory1",t.prop43,!0),s.update("url",t.eVar4,!0),t.eVar14=s.get("url"),s.update("pathName",t.eVar12),t.eVar29=s.get("pathName"),t.prop31=s.get("pagePrimaryCategory"),t.prop33=s.get("pageName"),t.eVar28=s.get("componentSubcategory1")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL3269177a28294f5d859294541705745a",name:"TPT - AU - AEM - DoubleClick - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC50956cfc5fc94bb99c21b2578a6e225e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLff24d782d2664f8c966380deda11ea56",name:"PLR - ALL - NSC - AA - share MID with IUCP",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    function checkMID() {\n        if (typeof s != "undefined") {\n            if (s && s.visitor) {\n                var mid = s.visitor.getMarketingCloudVisitorID();\n                _satellite.logger.log("**INCOMING CALL TO IUCP, over**");\n                var iframeContent = document.querySelector("#iframepar__iframeadaptive");\n                if(!iframeContent){\n                  _satellite.logger.log("**sending to iframe**");\n                  iframeContent = document.querySelector("#externalContentIFrame-iframeintegrationadaptive");\n                }\n                _satellite.logger.log("**sending to iframe**", mid);\n                iframeContent.contentWindow.postMessage(mid, \'*\');\n            }\n        }\n    }\n\n    //&& self.location.href.indexOf(\'usedcar\') > -1 && (_satellite.getVar(\'topLevelDomain\') == "bmw.co.kr" || _satellite.getVar(\'topLevelDomain\') == "bmw.de")\n    if (self == top) {\n        self.addEventListener("message", function (event) {\n            //if (event.origin != "https://bps.bmw.com" && event.data != "IncomingCall") {\n            if (((event.origin.indexOf(\'bps.bmw.com\') < 0) && (event.origin.indexOf(\'mn.mini.com\') < 0)) && (event.data != "IncomingCall")) {\n                return;\n            }\n            _satellite.logger.log("**MESSAGE RECEIVED**");\n            checkMID();\n        })\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: "TPT",\n        type: "Rule",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}',language:"javascript"}}]},{id:"RL08df2290bc6f4fe999a6d262a76d56f8",name:"PLR - IT - hashedemailid - AAM",events:[{modulePath:"core/src/lib/events/change.js",settings:{elementSelector:"#email",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){if(""!=_satellite.getVar("AAM-emailid")&&null!=_satellite.getVar("AAM-emailid")&&null!=_satellite.getVar("AAM-emailid"))return!0}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCee8b3c72f30345edb8e28d285bb0d48e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc87edd354bca448ca2e9633ad1534821",name:"TPT - GR - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd2b272004217463d9f1ebda36bb6068f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8800e6f538df45c192ce09d2990b968a",name:"TPT - IE - AEM - DoubleClick - Configurator Section Tracker - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t)return _satellite.setVar("previousStepName",e),!0;if(t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.error("TPT - IE - Configurator Section Tracker \n",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9ed90e3fe2f94107aa659c5e2068c768-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5708e0dee3d245c3bd651bcc4faf7e29",name:"TPT - TH - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC93da119486264b378b868db986981f8e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfe9e0cf77d4e43c79a08c60baed299d8",name:"TPT - CH - AEM - DoubleClick - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formtda [gcdm-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2f830f12d94a4ba087a50ee4caf74f8d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLee243ac23bca4acca5191a6cdf456631",name:"TPT - PL - AEM - Adwords - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe8b56fb8a57d4308a97b43bac41e8702-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b1e30b5d523428ca214b7bdcd194262",name:"TPT - ES - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc14df1ec05df40d9b2ea367b706c3bd7-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC881fa704989f400a8718c4c9a010a5fd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL391aa6902a8d49a78fa0dedf5596e796",name:"TPT - IE - AEM - Gtag_DC - PHEV Book Virtual Appointment Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/book-a-video-consultation.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd667c84bbc4d4d659fd475fa9f0c5089-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL142837fbf8fc454191cdd758c1824208",name:"TPT - IN - AEM - Search Tag - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC82e8046923744c68a0e5f4695e9b81cc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbf6b3cab841040e9b60b607fa93a97da",name:"TPT - UK - AEM - Klick2Contact - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8088cfa4736044d6a53af689d24e05eb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL36d59df32ddd46e5a5f4d177a1e00c75",name:"DCR - All - AEM - AA - New All Models",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("snapshotDL");if(t.prop1=t.pageName=s.get("page.pageInfo.pageName"),t.prop1.indexOf("nsc >")<0&&(t.prop1="nsc > "+t.prop1),t.eVar34=s.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),t.products)t.products.indexOf("search")>-1&&(a=_satellite.getVar("setDefaultProductVariables"),t.products+=a.toString());else{var a=_satellite.getVar("setDefaultProductVariables");t.products=a.toString()}t.linkTrackVars+="prop1,eVar34,products"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"all models",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}}]},{id:"RLc12136aa1dc147e9810883fe93a08de5",name:"TPT - NL - AEM - Adwords - Form Navigation Submit Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){console.log("Reading Message - Executed");var s=JSON.parse(t.data),a=s.args[1];console.log("Reading Message - DataArg"+s),console.log("Reading Message - DataArg"+a),"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC89c91eb7358f4021865f706618ac3ed5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5d3d6112e43e45e6bb9239cb03055b57",name:"TPT - UK - AEM - Adwords - Form Submit - PLR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd1545bc3e1d04d35afa63eee6df0bf3b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7c870b1f65aa462aa616768424c97c22",name:"TPT - NO - AEM - Adform - Dealership Selected - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/fastlane/dealer-locator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb9c109f210ae4fa0aa63a93c834ed7f8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc570547cc25d4f769cb8695e170b2985",name:"TPT - IE - AEM - GTagDC - 2 Series View Offer Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(2) > a[href="/en/redirect/discover-offer-2-series-gc.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcf9840b1c4444ebbaf744d48c2b576f2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL30f5654679584cfca4ea2e6ca9a543d5",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCad9b92ce3b6845f5a7ce8c88f50d7acd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8d6d2a16dbd04b63912808a67ab358f1",name:"TPT - BR - AEM - Inbenta Chatbox - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7904b1e67f7d4304b1d15e9d2b4d251d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a10f92cd52744e1958f9da2e3ab0580",name:"TPT - DE - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neuwagensuche.html",valueIsRegex:!0},{value:"/de/publicPools/search-results/search-results.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC052d40f4e22242768794c1dfcb827e0d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9ddfa2217eba400fb4fea4c193434722-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd5da2fa8807441cf98f0f0100290d530",name:"TPT - ES - AEM - PsymaSurvey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC58a954e4dd014c7c8f6817084446611d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc8e69b0580b04c2cb4e250c9cfc7468f",name:"TPT - RU - AEM - Clever Data - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0},{value:"m122.bmw-int6.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf0e98c831f104974b424f2fa0f8caa8e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5fc0ab80dea64f1685f9def36aad5778",name:"TPT - IT - AEM - Content Square - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC597eab4dd9b748999cb81ec537c8e0f1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd73079bf49bd4be19601f97bf05d94a6",name:"TPT - SI - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC23e011a8fa8049bf8d530b49ba1e32fb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL15a1c25e141041069d7a42e22b2cd447",name:"TPT - NL - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdfda954457a84bd592e5b2b3ff180894-source.min.js",language:"javascript",isExternal:!0}}]},{
id:"RLe9ddaba55678474fa01e500a59701644",name:"TPT - UK - AEM - DoubleClick - Multiple - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div#action-bar div:nth-child(1) > div > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div#custom-dealer-container a.location__detail-website",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"title",value:"Book a service"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("URLNoParam");"www.bmw.co.uk/en/all-models"==e?_satellite.setVar("ruleType","floodlight_price_list_item"):"www.bmw.co.uk/en/footer/contact/find-a-bmw-centre.html"==e?_satellite.setVar("ruleType","floodlight_dealer_confirmation"):"www.bmw.co.uk/en/topics/owners/service-workshop/servicing/overview.html"==e&&_satellite.setVar("ruleType","floodlight_find_your_bmw")}catch(e){_satellite.logger.error("TPT FloodLight UK",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC89815b4ea07b44c18ad3ada76b59be48-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0041ba7ef380482499822169bcd83a09",name:"TPT - RO - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd2113f67d6934764b8c7c1f3b6df927b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL246c97e189564ed894cdeac5278c377f",name:"TPT - PL - AEM - DoubleClick - Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6c83c5171c24460bbb62ba4a75b83cf3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLca027e94dc034547a83905e937fa4220",name:"DCR - All - IFrame - AA - Local Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_campaign"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfp"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=_satellite.getVar("smartPreviousValueManager");if("Local-Request"!=s.get("event.-1.category.primaryCategory")&&"Local-request"!=s.get("event.-1.category.primaryCategory"))return void(t.abort="true");_satellite.getVar("setDefaultVariables",e)(t);var o=s.get("event.-1.category.subCategory01"),n=s.get("event.-1.category.subCategory02"),r=s.get("event.-1.category.subCategory03"),i=s.get("event.-1.category.subCategory04"),c=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName")),d=s.get("event.-1.attributes.dealerInfo",s.get("event.-1.attributes.dealerinfo")),l=s.get("event.-1.eventInfo.eventName"),u=s.get("event.-1.attributes.fuelType");-1!=u.indexOf("|")&&(u=u.replace(/\|/g,"~")),t.events="",t.prop19="local form",t.prop42="locally developed",t.prop43="forms",t.prop56="form",t.eVar34=-1==l.indexOf("nsc >")?"nsc > "+l:l,t.prop8=l,t.prop53=t.prop6="local form",t.prop11=o.toUpperCase(),t.prop7=n,t.prop18=r,t.prop16=s.get("event.-1.attributes.stepName"),t.eVar9=s.get("event.-1.eventInfo.target"),void 0!==d&&(t.eVar41=d.substring(0,d.indexOf("|")),t.eVar42=d.substring(d.indexOf("|")+1,d.indexOf("_")),t.eVar40=d.substring(d.indexOf("_")+1)),"form"==t.prop56&&(t.prop53=t.prop11);var b={RFS:"service",RFA:"accessory"},m=_satellite.getVar("setDefaultProductVariables");m.id=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr")),m.category=b[o]||"new vehicle";var p=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr"));if(p&&-1==p.indexOf("/")){var g=/[a-z]{1}[0-9]{2}/i,f=p.match(g);p=f&&f.length?f[0].toUpperCase():"datalayer field empty"}var v=s.get("event.-1.attributes.motorization");if(v){var h=/[0-9]{3}[a-z]{1}/i,P=/xdrive[0-9]{2}[a-z]{1}/i,j=/sdrive[0-9]{2}[a-z]{1}/i;f=v.match(h)||v.match(P)||v.match(j),v.indexOf("i3 (120 ah)")>-1||v.indexOf("i3 (120ah)")>-1||v.indexOf("i3 120ah")>-1?v="i3 (120 ah)":v.indexOf("i3s (120 ah)")>-1||v.indexOf("i3s (120ah)")>-1||v.indexOf("i3s 120ah")>-1?v="i3s (120 ah)":f&&f.length&&(v=f[0].toUpperCase())}switch(m.merchEvars.eVar53="New Cars"==i?"new car":"Used Cars"==i?"used car":"datalayer field empty",m.merchEvars.eVar52=s.get("event.-1.attributes.productName",s.get("product.-1.attributes.modelName")),m.merchEvars.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),m.merchEvars.eVar10=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr")),m.merchEvars.eVar51=s.get("event.-1.attributes.bodyType",s.get("product.-1.attributes.bodyType")),m.merchEvars.eVar57=s.get("event.-1.attributes.hybridVersion"),m.merchEvars.eVar50=s.get("event.-1.attributes.serie"),m.merchEvars.eVar56=u,m.merchEvars.eVar58=v,t.products=m.toString(),t.prop2=s.get("page.category.pageType",s.get("event.-1.attributes.relatedPageCategory.pageType")),t.prop3=s.get("page.category.primaryCategory",s.get("event.-1.attributes.relatedPageCategory.primaryCategory")),t.prop4=s.get("page.category.subCategory01",s.get("event.-1.attributes.relatedPageCategory.subCategory01")),t.prop5=s.get("event.-1.attributes.relatedPageCategory.primaryPurpose"),t.prop1=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timestamp"),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop54=t.prop55=o,t.prop50=s.get("event.-1.eventInfo.element"),t.eVar71=s.get("event.-1.eventInfo.target"),t.eVar39=s.get("page.attributes.outletName"),t.eVar20=s.get("user.-1.segment.userSelectedCountry"),t.eVar23=s.get("user.-1.segment.userSelectedPreferredContactMethod"),t.eVar24=s.get("user.-1.segment.userSelectedGender"),t.eVar25=s.get("user.-1.segment.userSelectedYearofBirth"),t.eVar26=s.get("user.-1.segment.userSelectedCurrentVehicle"),l){case"Form Start":var C={Lead:"event17,event18",Handraiser:"event21,event22",RAO:"event25,event26",RFA:"event29,event30",RFC:"event33,event34",RFCD:"event37,event38",RFD:"event41,event42",RFI:"event45,event46",Download:"event49,event50",Postal:"event57,event58",RFO:"event61,event62",RFP:"event65,event66",RFS:"event69,event70",ROI:"event73,event74",Newsletter:"event81,event82","Keep Me Informed":"event77,event78",TDA:"event85,event86","Online TDA":"event89,event90",Registration:"event93,event94",CAMPAIGN:"event97,event98","FS RFO":"event101,event102",Loan:"event105,event106","Operational Lease":"event109,event110","Private Lease":"event113,event114",Quote:"event117,event118",Insurance:"event121,event122","not set":""};t.events=t.apl(t.events,C[o]),t.linkTrackEvents=t.apl(t.linkTrackEvents,C[o]),t.events=t.apl(t.events,C[n]),t.linkTrackEvents=t.apl(t.linkTrackEvents,C[n]),t.events=t.apl(t.events,C[r]),t.linkTrackEvents=t.apl(t.linkTrackEvents,C[r]),t.events=t.apl(t.events,"event3,event4"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event3,event4"),"RFI"==o&&"Generic"==n&&(t.events=t.apl(t.events,"event53,event54"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event53,event54")),t.eVar34="nsc > form started",t.prop8="form started";break;case"Form Success":var R={Lead:"event19,event20",Handraiser:"event23,event24",RAO:"event27,event28",RFA:"event31,event32",RFC:"event35,event36",RFCD:"event39,event40",RFD:"event43,event44",RFI:"event47,event48",Download:"event51,event52",Postal:"event59,event60",RFO:"event63,event64",RFP:"event67,event68",RFS:"event71,event72",ROI:"event75,event76",Newsletter:"event83,event84","Keep Me Informed":"event79,event80",TDA:"event87,event88","Online TDA":"event91,event92",Registration:"event95,event96",CAMPAIGN:"event99,event100","FS RFO":"event103,event104",Loan:"event107,event108","Operational Lease":"event111,event112","Private Lease":"event115,event116",Quote:"event119,event120",Insurance:"event123,event124","not set":""};t.events=t.apl(t.events,R[o]),t.linkTrackEvents=t.apl(t.linkTrackEvents,R[o]),t.events=t.apl(t.events,R[n]),t.linkTrackEvents=t.apl(t.linkTrackEvents,R[n]),t.events=t.apl(t.events,R[r]),t.linkTrackEvents=t.apl(t.linkTrackEvents,R[r]),t.events=t.apl(t.events,"event15,event16"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event15,event16"),"RFI"==o&&"Generic"==n&&(t.events=t.apl(t.events,"event55,event56"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event55,event56")),t.eVar34="nsc > form finished",t.prop8="form finished";break;case"First Interaction":t.events=t.apl(t.events,"event5,event6",","),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event5,event6",","),t.eVar34="nsc > form first interaction",t.prop8="form first interaction";break;case"Form Step 1":case"Form Step 2":case"Form Step 3":case"Form Step 4":case"Form Step 5":t.events=t.apl(t.events,"event7,event8",","),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event7,event8",","),t.eVar34="nsc > "+l,t.prop8=l;break;case"Local Form Interaction":t.events=t.apl(t.events,"event9,event10",","),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event9,event10",","),t.eVar34="nsc > form interactions",t.prop8="form interactions"}a.update("pageName",t.prop1),t.linkTrackVars+="events,prop42,prop43,prop56,prop19,eVar34,prop53,eVar6,prop8,prop11,prop7,prop18,prop16,eVar9,products,prop2,prop3,prop4,prop5,prop6,prop1,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar39,eVar20,eVar23,eVar24,eVar25,eVar26,eVar41,eVar42,eVar40"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%AA-subCategory01%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLc782c6db90684691aa9dbf1636e33f09",name:"TPT - AT - AEM - Facebook - iFrame Campaign Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_campaign"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdf15c1962f1049a3a51aefc5107ef3d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2b6a58a229fe41749f0d9b99816aa0fb",name:"TPT - All - DCS Pages - AA - Usabilla Adhoc DCS",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3717e1d02dad460cb4ff73403c890174-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL504d3978a98743a9ad4fad9574f16d37",name:"TPT - FI - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3f15778139184f7ca830f13b6ae66d47-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9fd5279bf157479d82b276486c3251de",name:"PLR - All - NSC - All - Custom Code - Cookie Transfer",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-cookie-transfer",(function(){e()}))}catch(e){_satellite.logger.error("PLR: Cookie consent transfer ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=["bmw.in"],t=_satellite.getVar("topLevelDomain");return e.indexOf(t)>-1||"true"!=_satellite.getVar("splitConsentEnabled")}catch(e){var s={from:"AA",type:"Data Element",name:"AA-conWithoutConsentController"};_satellite.logger.error(e,s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC77046b650efc4a788f9c33b88ed1af3b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbb4b06583d1b4fcd97b84506b0a865b6",name:"TPT - HU - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCacb1a7f6a17846b6bf0700d936ef12c2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc4739815317946c6aa010fa948b379ad",name:"DCR - All - AEM - AA - DCS Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.effect");if(s.get("event.-1.eventInfo.eventName"),t.prop27=s.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",s.get("page.pageInfo.pageID")),t.eVar135=s.get("page.pageInfo.sysEnv"),t.prop1=s.get("page.pageInfo.pageName"),t.prop1.indexOf("sales >")<0&&(t.prop1="sales > "+t.prop1),t.pageName=t.prop1,t.prop4=s.get("page.category.subCategory1"),t.linkTrackVars+="prop4,",t.eVar34=s.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("sales >")<0&&(t.eVar34="sales > "+t.eVar34),t.eVar151=s.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"),t.eVar152=s.get("page.attributes.solutionSpecific.deliveryMethodAvailable"),t.eVar153=s.get("page.attributes.solutionSpecific.paymentMethodsAvailable"),t.eVar154=s.get("component.-1.attributes.referringComponent"),t.eVar155=s.get("cart.attributes.offerID"),t.eVar156=s.get("page.attributes.checkoutID"),t.prop42="vehicle sales platforms",t.prop43="indirect sales",t.prop19="digital checkout solution","sales > dcs: order submit success"==a){var o=s.get("page.attributes.purchaseID");t.events=t.apl(t.events,"purchase"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"purchase"),t.purchaseID=o}t.linkTrackVars+="prop27,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,,prop33,eVar28,prop31,eVar14,purchaseID"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DCS",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL3998bf6d14034e00a671829bb3be71d3",name:"TPT - IE - AEM - Adwords - Book a Video Consultation - EBR  - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/ssl/book-a-video-consultation.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcc4c21e172be45bfaa895010bcad25be-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa9b3855f6a1142b3a690085abe5933d0",name:"TPT - JP - AEM - TradeDesk - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC872554703b4d45c08c5103a1383d4a95-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2914f4384df44ea997aaaac63a0a177d",name:"TPT - RU - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3f7606c0c0dc4363b359c1a98045a29b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd2c05d1a5dd84f41a69c19af36880340",name:"TPT - DE - AEM - ContentSquare - Stock Locator Filter - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2be4097d94064e54867978097c026640-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfc264a72dbf0461e8d4caa6b978bd84a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbf1b0c98bfcc491188d989fdd9651097",name:"TPT - NO - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC410a104900ba445fbf533c235ee7301c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5ede2a76cfe54840a177ddb111b00e29",name:"TPT - AT - AEM - Facebook - Alphabet Fleet Management CTA - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="//www.alphabet.at/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/finanzierung-versicherung/fuhrparkmanagement.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6097ce2e5c264bf0861628ba7d82b4cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLef6f108bface4bebb6db8874448397cc",name:"TPT - RO - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC721e7f023b7649369acdff594f4ca39a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7cbb46e18f7443f383915c12476e2c34",name:"PLR - All - AEM - AA - DCS Event Listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=["bmw.de","bmw.it","bmw.be","bmw.fr","bmw.es","bmw.nl","bmw.lu","bmw.ch","bmw.pl","bmw.pt","bmw.at","mini.de","mini.it","mini.fr","mini.at","mini.be","mini.es","mini.nl","mini.lu","mini.ch","mini.pl","mini.pt","bmw-int4.com","bmw-int5.com","mini-int7.com"],t=_satellite.getVar("topLevelDomain");if(e.indexOf(t)>-1)return!0}catch(e){_satellite.logger.log("Error in PLR - All - AEM - AA - DCS Event Listener",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try{\n   window.addEventListener('dispatch_event',function(e){\n     _satellite.logger.log(\"Khubruy event fired for event DCS\");\n     _satellite.track('dcs');\n   });\n   window.addEventListener('dispatch_pageload',function(e){\n     _satellite.logger.log(\"Khubruy event fired for pageload DCS\");\n     _satellite.track('dcs_pv');\n   });\n}catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"DCR\",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"}}]},{id:"RL1c997bb3d01349f1850190ac37969bc3",name:"TPT - IE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC62257fcb79134d7ebc7eedf3783efd58-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC65b7f70d8a634909af09a4b415b5d4ce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa60ccf1bd7c24b3a9f5b8de7b781e6e8",name:"TPT - CA - AEM - DoubleClick - Lifestyle Find a Retailer - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".tw-no-underline tw-m-0 tw-text-grey-900 tw-px-200 tw-text-400 tw-whitespace-no-wrap",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(){return"Find a Retailer"===this.innerHTML}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/bmw-lifestyle.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC83f5442a1dc346adb9b7b9c4ba02e746-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb6c360a37ef447fd8bede6c5424e4b79",name:"TPT - NZ - AEM - ContentSquare - Simulated Page - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/configurator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC56a4e58e40f84a498b2a98a79f7e1586-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL54d6aba028ea42cbb196d33243370484",name:"TPT - HU - AEM - TradeDesk - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4d917f4d94ce4fe1a1b72f9467f4c1ab-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL74a36ffb04fc477d91843e89e52ff499",name:"TPT - ZA - AEM - Adform - All Models Buy Now - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"//buy.bmw.co.za",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/all-models/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbccd3004442946c79743a46771406d11-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0804d4d22680418d940b31c3c616aa32",name:"TPT - ZA - AEM - Adform - PriceList and Brouchure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC07897b55c7524dcb80781ebe822b00cf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb530f852a91e4208bf60114ecd2cd69d",name:"TPT - CH - AEM - GTagDC - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe8f012b459454350a1e319356112684f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL454f1ef9f54749dca5d588f3fe3d7821",name:"TPT - IT - AEM - Adwords - iFrame RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC628938c0a2fd4d57959b7e3e148d483c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL214c3c57c3bc46a8bdc1aa60d9e79f7f",name:"TPT - NZ - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC461be1bfab8a4e27bce2c53871052ee7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd6664e596c884c8795812ae577f8436a",name:"TPT - AU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC737612b93f78430daf6a42a8a207b2a4-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC098570d88beb4f2a9a47f8482d6de5bb-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf23ac0c89fa345c6ad827f9f328b8120-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9c2989fda4ce4ca3907c8334516e8beb",name:"TPT - PT - AEM - DoubleClick - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5ac2bcb73d574188920cfe873f83a393-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL55b87784680f4b8d92f3be92e5e1ed3f",name:"TPT - CZ - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",
settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC16b0223f3b4b46429c434bdea2b7bcc1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfe3a560aeea747fa98fe1d23ecde420d",name:"TPT - AT - AEM - Facebook - iFrame RFO Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8d3f9dc5853b40f282a0174b7216483c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe5e3a497215f4a9ca7b57576fed82857",name:"PLR - FR - AEM - Custom Code - Campaign String to Cookie",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCee25663319164a488f4603196039ad63-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL23637a890a1f4914a2abbcd2e4ab0dd8",name:"TPT - HU - AEM - DoubleClick - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbf6437d1cc9f4fb8979ae9b030cafffb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLefc6e59b5c5d4fa3b7ddc2c750c7b4e3",name:"TPT - ES - AEM - Doubleclick - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb72eac401aef4cdea63393b00736799f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7992007a49e48d79e4204b80e977a4f",name:"TPT - BG - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd6df5fbd792b44f2bc561b88cead25db-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbf42dd069a654127b5614c2ef75e9fa4",name:"TPT - RO - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9ba977c50aed4026b320280f0553f460-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf7cb755f91f54b56be309c9ec9e4a39f",name:"TPT - NL - AEM - Submit Button Pixel - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf5ad91e09ab6494aafe6a9fbea922852-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1f132dc780a24dc185793e2bbfed9c10",name:"TPT - BG - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1df75f386952437fad659b23a5989ef4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLeffad17afec44ca4bcbe5cf4ceac3a32",name:"TPT - UK - AEM - Adform - iFrame RFI Download Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC364628ea680142a8a4cb2fcfe6cf0d6a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfa70bec295894971b43e6e4f92058b8f",name:"TPT - NZ - AEM - TradeDesk - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC34ba5d921bc24e029e6a20f1ab977dc9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd5f1c5f21d774801ac5f643d899bc749",name:"TPT - AT - AEM - Facebook - Used Car Btn - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw-boerse.at/"].ds2-quickactions-link-js.ds2-tracking-js--event',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC738cd1fb62e8421eaabf0de2a4973ede-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL966b8ebace324ae9931c81109829dc0b",name:"TPT - GR - AEM - Doubleclick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC06574067ac2448e69beb9afb2e2c44cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL19ae6753b9b046148573dc7cff5896b4",name:"TPT - GR - AEM - Doubleclick - History change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3f39cd2241194629a2faf989072946f0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7dde861ead534eb6b42289a5d31f69b1",name:"TPT - CA - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1c6a191f47454f5fbbc0bef2bd32022e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5586dab385244866832a182770b02c74",name:"TPT - AU - AEM - Facebook - Finance Offer - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(/nosetupfees)|(/topics/offers-and-services/promotions/no-setup-fees.html)",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6d94136142da48268186c9939d4e1db2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbce50df22aab4033ae8b14db4cd806a5",name:"TPT - CH - AEM - DoubleClick - Dealer-Partner_Loctor_Selection - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc2b0fa455978469b861aab1b5bc03008-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL106e8c3a99c4467b87685eb8834e6dc1",name:"TPT - NL - AEM - IgnitionOne - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdd4b10c5ac024a1cb246ce560b9454a4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf4ecf673fcac49ccbfdd93264c75e463",name:"TPT - ZA - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe5e2fefbba8b4e62a17972f693fad2e0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL24d0b5a3c16d43b28d6129e05e4e2556",name:"TPT - CA - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1a802a808c034320989ae15af9eb7ecc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d9a2db2ad284e64a7940be60ae72640",name:"DCR - ALL - NSC - AA - Need Analyzer Component",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"need_analyzer_step"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"need_analyzer_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier),$$$;var s,a,o,n,r,c=_satellite.getVar("snapshotDL"),d=c.get("event.-1.eventInfo.eventName"),l=(c.get("event.-1.eventInfo.effect"),c.get("event.-1.eventInfo.eventAction")),u=(c.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),""),b="nsc > ";t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",_satellite.getVar("setDefaultVariables",e)(t),_satellite.getVar("setProductString")(t);var m=c.get("event.-1.attributes.relatedComponentID");if(c.get("event").length>1)for(i=0;i<c.get("component").length;i++){var p=i.toString();(c.get("component."+p+".componentInfo.componentID")==m||"datalayer field missing"==m&&"need_analyzer"==c.get("component."+p+".componentInfo.componentName"))&&(a=c.get("component."+p+".componentInfo.componentName",c.get("event.-1.attributes.relatedComponentName",c.get("product.-1.attributes.relatedComponentName"))),s=c.get("component."+p+".componentInfo.componentID",c.get("component."+p+".componentInfo.componentId")),o=c.get("component."+p+".category.subCategory01"),c.get("component."+p+".category.componentType",c.get("component."+p+".componentInfo.componentType")),n=c.get("component."+p+".category.primaryCategory"),r=c.get("component."+p+".componentInfo.componentHeadline"))}else{var g=c.get("page.attributes.relatedComponentID");for(i=0;i<c.get("component").length;i++)p=i.toString(),(c.get("component."+p+".componentInfo.componentID")==g||"datalayer field missing"==g&&"need_analyzer"==c.get("component."+p+".componentInfo.componentName"))&&(a=c.get("component."+p+".componentInfo.componentName",c.get("event.-1.attributes.relatedComponentName",c.get("product.-1.attributes.relatedComponentName"))),s=c.get("component."+p+".componentInfo.componentID",c.get("component."+p+".componentInfo.componentId")),o=c.get("component."+p+".category.subCategory01"),c.get("component."+p+".category.componentType",c.get("component."+p+".componentInfo.componentType")),n=c.get("component."+p+".category.primaryCategory"),r=c.get("component."+p+".componentInfo.componentHeadline"))}t.eVar34=d&&"object"!=typeof d?d:"datalayer field missing",t.eVar34.indexOf(b)<0&&(t.eVar34=b+t.eVar34),"error"==l.toLowerCase()?(t.prop56="error",t.prop53=d,t.eVar34=c.get("event.-1.category.primaryCategory"),t.prop52=c.get("event.-1.eventInfo.cause")):"datalayer field missing"!=l.toLowerCase()&&"datalayer field empty"!=l.toLowerCase()&&(t.prop56="interaction",t.prop53="ux",t.eVar34=t.eVar34+" clicked",t.prop52="default"),"datalayer field missing"!=d.toLowerCase()&&"datalayer field empty"!=d.toLowerCase()?(t.prop55=r||"datalayer field empty",t.prop51=c.get("event.-1.eventInfo.cause")):("error"!=d.toLowerCase()&&(t.prop55=d),["share","error"].indexOf(l.toLowerCase())>-1&&"datalayer field missing"!=d.toLowerCase()&&"datalayer field empty"!=d.toLowerCase()&&(t.prop51=c.get("event.-1.eventInfo.effect"))),["call to action","more information"].indexOf(l.toLowerCase())>-1?t.prop57="internal click":t.prop57=l,t.eVar71=c.get("event.-1.eventInfo.target"),t.eVar151=c.get("page.attributes.pageHeadline"),t.eVar152=c.get("page.attributes.currentQuestion"),t.eVar153=c.get("page.attributes.previousQuestion"),t.eVar154=c.get("page.attributes.previousAnswer"),t.eVar155=c.get("page.attributes.previousWildcards"),t.eVar156=c.get("page.attributes.entryType"),t.eVar157=c.get("page.attributes.matchType"),t.prop19=t.prop3=t.prop54=a||"datalayer field empty",t.prop42="nsc website","internal click"==l.toLowerCase()?t.prop43=n||"datalayer field empty":"need_analyzer_step"==e.identifier?t.prop43=o||"datalayer field empty":t.prop43="teaser",t.prop13="bmw",t.prop1=c.get("page.pageInfo.pageName"),t.prop1.indexOf(b)<0&&(t.prop1=b+t.prop1),t.prop4=c.get("page.category.subCategory01",c.get("event.-1.attributes.relatedPageCategory.primaryCategory")),t.prop44=s||"datalayer field empty",t.eVar134="web",t.prop27=c.get("page.pageInfo.pageID"),t.prop5=c.get("page.category.subCategory02",c.get("event.-1.attributes.relatedPageCategory.primaryPurpose")),t.prop2=c.get("page.category.pageType",c.get("event.-1.attributes.relatedPageCategory.pageType")),t.prop28=c.get("page.attributes.virtualPage"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.eVar135=c.get("page.pageInfo.devEnv"),c.get("event.-1.eventInfo.eventPoints")&&parseInt(c.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(c.get("event.-1.eventInfo.eventPoints")))?(parseInt(c.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(c.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+c.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=c.get("event.-1.eventInfo.eventPoints"),t.prop12=c.get("event.-1.eventInfo.timeStamp",c.get("event.-1.eventInfo.timestamp")),t.prop50=c.get("event.-1.eventInfo.element"),t.eVar65=c.get("product.-1.attributes.modelName"),t.eVar17=c.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 need analyzer",t.linkTrackVars+="prop56,prop53,prop52,prop55,prop51,prop57,eVar71,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136",u="event917,event918";var f=c.get("page.pageInfo.pageName"),v=c.get("page.pageInfo.pageTitle");"Need Analyzer: Start Page"==f||v+": "+f=="Need Analyzer: Start Page"?(u+=",event321,event322",t.linkTrackVars+="eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136"):"Need Analyzer: My Perfect Match"!=f&&v+": "+f!="Need Analyzer: My Perfect Match"||(u+=",event323",t.linkTrackVars+="eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,eVar157,prop19,prop3,prop54,prop42,prop43,prop13,prop1,prop4,prop44,eVar134,prop27,prop5,prop2,prop28,eVar135,prop58,prop12,prop50,eVar65,eVar17,eVar136"),"start again"==d.toLowerCase()&&"start again"==l.toLowerCase()&&(u+=",event321,event322"),"share"==l.toLowerCase()&&(u+=",event905,event906"),"error"==l.toLowerCase()&&(u="event931,event932"),"datalayer field missing"!=d.toLowerCase()&&"datalayer field empty"!=d.toLowerCase()&&(t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),t.linkTrackVars+=",eVar34"),t.events=t.apl(t.events,u),t.linkTrackEvents=t.apl(t.linkTrackEvents,u),_satellite.getVar("smartPreviousValueManager").update("pageName",t.prop1)}catch(s){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(s)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%event.identifier%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL2386a55aa1144cb1a6552bb7799b754d",name:"TPT - SK - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd1206e6a21524b7fabc113c07b9575cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb2b5633ae3de414a9883bf5f8e445cb9",name:"TPT - SI - AEM - Doubleclick - History Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC101e9d1b706a42dda773ffbfb72ebac9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL08d72e0107d84f81964c671d501aaf15",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Address - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_address"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb2680e0336c14fd8b9f3136d111e5b37-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a1e1dd8b5c140b59f33984da7c8d7ae",name:"TPT - HU - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC160dda6e413648dd80fc95141dfd9fbe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf6e1c56ff2214a9794636119b1ee0422",name:"TPT - BG - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe5b20ae605da4d49b0c5dbf0532cc1b6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa282355dbfb14d39b1b889ccc6e020d0",name:"TPT - NZ - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd5d822272e22490fb9ac257c89f50d7c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL39621355eb09430e93428ba255d4dfd6",name:"TPT - CH - AEM - GTagDC - RFO-SubmitContactDealerForm - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/requests/rfo-bmw"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcdb21c69b2d441eea75ccc0b6f2810f1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7b6dfb6697094c3c9d17373e9dac25da",name:"TPT - NL - AEM - Gtag DC/AW - iFrame - RFO Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCad320a5a51874628b62afaa6f7a4c542-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5ff2b93422d0433a919ceb3ffbc60a6a",name:"TPT - ES - AEM - AdWords - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC244aa39a2f504d3d88a5064492154b83-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLee8deef5e3344b49b310f59b71cfe30c",name:"TPT - IE - AEM - GTagDC - 2 Series Get Quote Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(1) > div > a[href="/en/redirect/discover-get-a-quote.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb71fa305641b42a28b822494a5e52d4a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc4d35288a34840599001961f4637b42a",name:"TPT - IT - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2483d3052d594f49b1a937bb576f7610-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7a09f0ab8be747ae8999e00cf8f559d2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa9a442e95a66493a933e4160dc0812e8",name:"TPT - PL - NSC - AA - preconfiguration interstitial page",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(e){try{return window.location.href.indexOf("icp=pl_precon-entry")>-1}catch(s){var t={from:"Condition",type:"PLR",name:e.$rule.name};_satellite.logger.error(s,t)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd802c75f26aa4b7c89af0abe1ebe2631-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL917204753371467a86184528a9de20e4",name:"TPT - BG - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3e8becdf3212403cb276068a0133a051-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5dd1107f3e1d44d895d017a140a6e8c2",name:"TPT - RO - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6eb01073acda4eb987c76832ffb99628-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2dfc6ca3a3f345ceb97f478e58a52266",name:"TPT - NO - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5a8272c82ed846dda20cd3fe8ac9d3af-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL154b61dda4f6424993cf664a497401df",name:"TPT - SG - AEM - LinkedIn - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9aa30618a0f54822828ff685a0d88b7d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2564398c37a64058aedd082b714c157e",name:"TPT - IE - AEM - TradeDesk - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"testdrive.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3e3ba4224b5f4f8ba99bcc0b9a095431-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL93778e93a1b448f4b9f34d03f0d535a1",name:"TPT - DE - AEM - Facebook - Stock Locator Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC915ce59ef40f432a92d22c114ab7d16d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbabe3f3b5d5b4a9e8627c3b41b0ccef7",name:"TPT - DK - AEM - Hotjar - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe87a9eb47cfb4850a69fa2e824e142b9-source.min.js",language:"javascript",isExternal:!0}}]},{
id:"RL5594fc56a7fa498c9a7827305cff4d63",name:"DCR - All - AEM - AA - Stock Locator Page",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("smartPreviousValueManager");_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var a=_satellite.getVar("snapshotDL");t.prop27=a.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",a.get("page.pageInfo.pageID")),t.eVar135=a.get("page.pageInfo.sysEnv"),t.prop50="page title",t.prop17=t.prop44=t.eVar71=t.prop54=t.prop11=t.prop7=t.prop8=t.prop6=t.prop55=t.prop51=t.prop24=t.prop52=t.eVar34=t.prop57=t.prop56=t.prop58=t.prop12=t.prop53=t.eVar23=t.eVar24="","undefined"==t.products&&(t.products=""),t.prop1=a.get("page.pageInfo.pageName"),t.prop1.indexOf("sl >")<0?t.prop1="stock > "+t.prop1:t.prop1=t.prop1.replace("sl >","stock > "),t.pageName=t.prop1,s.update("pageName",t.prop1,!0),t.prop42="stock locator",t.prop43=-1!=a.get("component.-1.componentInfo.componentName").indexOf("digital > used car stock locator")?"used car stock locator":_satellite.getVar("AA-componentDefaultValues").subCat;var o=a.get("component.0.componentInfo.componentName");t.prop19="digital > new car stock locator"===o?"central new\xa0car stock locator":"central used\xa0car stock locator",s.update("componentSubcategory1",t.prop43,!0),s.update("url",t.eVar4,!0),s.update("pageSubCategory01",t.prop4,!0),t.eVar14=s.get("url"),t.prop31=s.get("pagePrimaryCategory"),t.prop32=s.get("pageSubCategory01"),t.prop33=s.get("pageName"),t.eVar28=s.get("componentSubcategory1")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLd584b7a0183f4a3f9d1a31f3d74900d0",name:"TPT - CZ - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd3ee53d871304deebb45fa8e19f61b09-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLec5257df09d045418e19affb49317400",name:"TPT - DE- AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/publicPools/search-results/search-results.html|/forms/probefahrt-vereinbaren/tda.html|/de/ssl/requests/brand-switch-tda/tda-bmw.html|/de/ssl/requests/rfo-bmw.html|/forms/angebotsanfrage/angebot-anfordern.html|/rfi-download.html|/de/publicPools/success-pool/success-page-rfi.business-forms.html|/de/publicPools/success-pool/vielen-dank.business-forms.html|/rfi-download.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1c3e738cb9aa4cd6a7eace2cf3a461a6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4195b6f3b9a34fc2a4c557a80c6b4e95",name:"TPT - TH - AEM - GtagAW - RFO Form Success - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdd3943f1033e4628a15b1676337fa34f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL74191984bd22465893a92953266aadfb",name:"TPT - DE - AEM - BMW Connected Appstore Cookie Drawer (without p15r) - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.de",valueIsRegex:!0},{value:"m156.bmw-int3.com",valueIsRegex:!0},{value:"m156.bmw-int9.com",valueIsRegex:!0},{value:"m14.bmw-int1.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/faszination-bmw/connecteddrive/bmw-connected"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2c79033b3b4241c2900edbead8b82843-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC22c40df6c7ae41a38c636aff72b707a6-source.min.js",language:"html",isExternal:!0}}]},{id:"RLd768f848ea9a4eff94779ef73c76fe72",name:"TPT - FR - AEM - ContentSquare - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCff0745cbd35e457694eebb82ace6801b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf76e8cfa64dd4999bd5f9450c7ee918f",name:"TPT - DE - AEM - Adwords - TDA Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf731f5754fff48ba97b9322ee36f98fd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL13cec09841b247af8202d6c6b2d1159f",name:"TPT - RU - AEM - Chatbot - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-third-party",(function(t){t.detail&&e()}))}catch(e){_satellite.logger.error("re-trigger : TPT - RU - Multiple - Chatbot",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"RU"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ru/test/bot-test-1.html",valueIsRegex:!0},{value:"/ru/test/bot-test-2.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf9a3ac30d9a242038ef042e6238f6308-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa770057cc2ef4a6b95a62be912c18018",name:"TPT - RU - AEM - Facebook - Agile Need Analyzer - EBR",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"INPUT",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6da0bab7b68e480eaac6d2d2257dae3d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL76e58043edba4fafb85cfa0882c880f1",name:"PLR - DE - Showroom page - Adobe Target - Save Models Viewed",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/neufahrzeuge/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd3e0c1483f2c4c539d36bcb51bf791bc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL903e667d09a240519a04ce0141b775a1",name:"TPT - SK - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa71b4515c670476eb57f583a30512d09-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaa98eced04e84449b129592392acfb0a",name:"TPT - IE - AEM - Adform - iFrame TDA Download Forms - DCR - p15r[l] ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/success-pool/tda-success-page.business-forms.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC69d5f3173af540cdb295c37c840b0a29-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5924e1c49fc14a70b2c268d4b5a120b0",name:"TPT - CH - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbe0346040fc24e1d8d6c5cc89f6ce2f3-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC87b871ed808042ac8fc9b1a057fcc67e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8cb8aaf488df4b54ac443e06e0f8007a",name:"TPT - CH - AEM - GTagDC - TDA-SubmitPartnerForm/SubmitAgentForm - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formtda [gcdm-form-submit]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5931eef1f65c44f48792e8a6eb7f1101-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf143d38b3415474d85a17b32c3ae16ff",name:"TPT - BG - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC883be948a6724a6aab35d400651fe49f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc2fe89e31e7648f5953b73202f2901d8",name:"TPT - RU - AEM - VK Pixel - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9e470239f43a4b71bbe5946b8d908eab-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL77d36a50b645438ca0cde5c0980ef286",name:"DCR - All - AEM - AA - My CE",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"my_ce_interaction"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"my_ce_error"},ruleOrder:50}],conditions:[],actions:[{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),o=_satellite.getVar("smartPreviousValueManager"),n=a.get("page.pageInfo.pageName");_satellite.getVar("setDefaultVariables",t)(s);var r=_satellite.getVar("setDefaultProductVariables");r.category="new vehicle",r.merchEvars.eVar53="new car",r.merchEvars.eVar54="build to order",s.products=r.toString(),s.prop59=a.get("product.-1.attributes.configID"),s.eVar59=a.get("product.-1.attributes.configLink"),s.eVar135=a.get("page.pageInfo.devEnv"),s.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,o.update("pageName",s.prop1);var i=_satellite.getVar("AA-componentDefaultValues");s.prop2=a.get("page.category.pageType"),s.prop3=a.get("page.category.primaryCategory"),s.prop5=a.get("page.category.subCategory02"),s.prop19=a.get("component.-1.componentInfo.componentName"),s.prop42=i.primaryCat||"datalayer field empty",s.prop43=i.subCat||"datalayer field empty",s.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID");var c=a.get("event.-1.eventInfo.eventName"),d=a.get("event.-1.eventInfo.effect"),l=a.get("event.-1.eventInfo.cause"),u=a.get("event.-1.eventInfo.eventAction");s.eVar18="",s.prop12=a.get("event.-1.eventInfo.timeStamp"),s.prop13="bmw",s.prop50=a.get("event.-1.eventInfo.element"),s.prop54=a.get("event.-1.category.primaryCategory"),s.prop57=u.replace("phone","p h o n e"),s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.eVar17=a.get("user.-1.profileInfo.visitorID"),s.eVar71=a.get("event.-1.attributes.requestedURL"),s.eVar136="2020 - 06- 15 MyCE","MyCE Error"==c?(s.eVar34="nsc > "+d.replace("phone","p h o n e"),s.prop51=c.replace("phone","p h o n e"),s.prop52="datalayer field missing",s.prop53="backend 3rd party",s.prop55=l.replace("phone","p h o n e"),s.prop56="error",s.events=s.apl(s.events,"event931,event932"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event931,event932")):(c=c.indexOf("click")>-1?c:c+" clicked",s.eVar34="nsc > "+c.replace("phone","p h o n e"),s.prop51=d.replace("phone","p h o n e"),s.prop52="default",s.prop53="ux",s.prop55=l.replace("phone","p h o n e"),s.prop56="interaction",s.events=s.apl(s.events,"event917,event918"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918")),s.linkTrackVars=s.apl(s.linkTrackVars,"products,eVar17,eVar34,eVar59,eVar71,eVar136,prop2,prop3,prop5,prop12,prop13,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59")}catch(a){_satellite.getVar("catchblock",t)(s,e)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%ev_eve_eventName%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLdccaf3cad8b745d6ad28a65e58c5980a",name:"TPT - ZA - AEM - ContentSquare - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0131df14608f4a9e9deb1550f9e4b882-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2dd6f043ce5f4847b338b8bbcc13290e",name:"TPT - RU - AEM - MailRU - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"RU"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0cece7b5c59b4daabd0b1dda0e89cd25-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8294bc3c159f42349fe367b2c095dcc0",name:"TPT - JP - AEM - Facebook - All Pages - PLR -p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC90c535fd6e22403d81476d06d2b5f70a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7b96c859d008488199ca3b7062d7afe1",name:"TPT - NL - AEM - Gtag DC/AW - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb1cae4f2bf89458592e8b3e672854389-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8587d8c4b65549e5a4997d1696a11fb4",name:"TPT - CH - AEM - DoubleClick - 19/20-BMW-Lead-Click-WheelConfigurator - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_steps"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC21c1fcac6a074ad68948ad0ddf99d3b5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1b8dd7d57ff0482dadebf62ff39104c2",name:"TPT - SG - AEM - Adform - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC95e9c7465a8c4b0fb8f3346086ed6122-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfaa95b09dae54a84ac9a0883e78346e3",name:"TPT - BG - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC033bdcb0f89c4027817543046f9cebc3-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC166844839d2a4831b41031494a3d9b48-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL93450adad89a4b238eaf98c50f099e0a",name:"TPT - NO - AEM - Adform - Kampanjer series click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/tilbud/kampanjer.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7fc68801e2464968ba26f3f3d3195d07-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8d81cf78de0e41329524abc4b5fed6ca",name:"TPT - FR - AEM - DLO Search Function - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"FR"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC52e08478964d42d0b2a841aebe31f260-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3bf6e1f3613648b1b7a072ad04e13f93",name:"TPT - NL - AEM - Adwords - iFrame NSF Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC56e28a4bf0594d8fa230c97ccb23ff9f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL82bc5699714e4f9bbb9f3c908535678f",name:"TPT - PL - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC42089eca222340c5a5f0e69c62ae762f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb816ed3d78014016a2d6c82a86ac1c7f",name:"TPT - LU - AEM - DoubleClick - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC047ebd657c7b49a2b760c21f6c7129ee-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL629f31f6c3ee46029f39b1fda8cf6aef",name:"TPT - FI - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC16b234600be24c7e9256dfea2eb92d17-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcb93ec418e94468286114e0ae779b0f6",name:"TPT - MY - AEM - GTag_DC - Multiple - PLR ",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/6-series/gran-turismo/2020/bmw-6-series-gran-turismo-highlights.html",valueIsRegex:!0},{value:"/en/all-models/x-series/x7/2021/bmw-x7-highlights.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"  try {\n    var gTagElem = document.createElement('script');\n    gTagElem.async = true;\n    gTagElem.src = 'https://www.googletagmanager.com/gtag/js?l=gDataLayer&id=DC-4598361';\n\n    var firstScript = document.getElementsByTagName('script')[0];\n    firstScript.parentNode.insertBefore(gTagElem, firstScript);\n\n    window.gDataLayer = window.gDataLayer || [];\n    window.gtag = function() {\n        gDataLayer.push(arguments);\n    }\n    window.gtag('js', new Date());\n    window.gtag('config', 'DC-10773170');\n    if(window.location.href.indexOf(\"https://www.bmw.com.my/en/all-models/6-series/gran-turismo/2020/bmw-6-series-gran-turismo-highlights.html\")>-1)\n    gtag('event', 'conversion', {\n        'allow_custom_scripts': true,\n       'session_id': _satellite.getVar(\"sessionID\"),\n         'send_to': 'DC-10773170/invmedia/bmw6-0+per_session'\n    });\n    if(window.location.href.indexOf(\"https://www.bmw.com.my/en/all-models/x-series/x7/2021/bmw-x7-highlights.html\")>-1)\n    gtag('event', 'conversion', {\n       'allow_custom_scripts': true,\n       'session_id': _satellite.getVar(\"sessionID\"),\n         'send_to': 'DC-10773170/invmedia/bmw7x-0+per_session'  \n      \n    });\n} catch (e) {\n    _satellite.logger.error(\"TPT - MY - AEM - GTagDC - PLR\", e);\n}\n   ",language:"javascript"}}]},{id:"RL91401c423a2b4983b057679ba40dc870",name:"PLR - All - NSC - All - Custom Code - Set TPT ExecutionFlag",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%splitConsentEnabled%",rightOperand:"false"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC05e8190bd3a5499d828caab72b4c120d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL65dc0617684745f296c3058a6f23fcb6",name:"TPT - BG - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc9d08f86d18c40f1acbd45f557987f13-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL19208f34802045808761a86cc96df294",name:"TPT - RO - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC38b0838965cb4453908eabfd0227faf1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL55c70c7407814a26bc9c9cb76e956d74",name:"TPT - FR - AEM - StickyBar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"\\/fr\\/voiture-neuve.html*",valueIsRegex:!0},{value:"\\/fr\\/stocklocator.html*",valueIsRegex:!0},{value:"\\/fr\\/tous-les-modeles\\/bmw-i\\/i3\\/2021\\/bmw-i3-apercu.html*",valueIsRegex:!0},{value:"\\/fr\\/tous-les-modeles\\/2-series\\/activetourer\\/2021\\/bmw-2-series-active-tourer.html*",valueIsRegex:!0},{value:"\\/fr\\/contact\\/contact.html*",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6a847c5c5c984bb59e75d3dc8bc8b534-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL198e440345df4040af6a5c5f92acaa8e",name:"TPT - ES - AEM - Global chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/prueba",valueIsRegex:!1},{value:"/es/ssl/oferta",valueIsRegex:!1},{value:"/es/coches-bmw/serie-1/5-puertas/2019/F40-KMI.html",valueIsRegex:!1},{value:"/es/coches-bmw/serie-1/5-puertas/2019/RFC.html",valueIsRegex:!1},{value:"/es/informacion/promociones/ofertas",valueIsRegex:!1},{value:"/es/ssl/formulario",valueIsRegex:!1},{value:"/es/topics/mundo-bmw/bmw-empresas/",valueIsRegex:!1},{value:"/es/informacion/financia/financia"},{value:"/es/informacion/financia/faqs"},{value:"/es/informacion/financia/bmwfinancialservices.html"},{value:"/es/informacion/promociones/ofertas/",valueIsRegex:!0},{value:"/es/topics/mundo-bmw/bmw-empresas/",valueIsRegex:!0},{value:"/es/ssl/",valueIsRegex:!0},{
value:"/es/informacion/financia/calculadora-financiera.html",valueIsRegex:!0},{value:"/es/coches-bmw/serie-2/gran-coupe/2019/",valueIsRegex:!0},{value:"/es/campanas/",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb89ae9f297e741e08da1bdb906f8d11d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd779bf7cff534a4c800a7a1d4cfa9b43",name:"TPT - TH - AEM - GtagAW - Download Brochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf7c2b3ec0e31410f9c926af8fc1ec8c1-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL3baa6891e3bb4968ad270a72cecccf0d",name:"TPT - RU - AEM - RuTarget - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC137939905a2c487ea33c6501906b76e2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4cd02a4e5f124d12909795733110eb05",name:"TPT - UK - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf10d99f92ee74c3c9c91eb004bcde2ae-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb5f66188b9b14464abb44a58ee8c0a94-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8c0b552543f3462984c0544637852f3c",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Finance Copy - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_finance_copy"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb6788b501cf34f6b8523ff7daaab42c8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3588e68554146e69a6b5403078c42ff",name:"TPT - IT - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it"}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/search-results/search-results.html|/it/topics/test-drive-now/panoramica.html|/it/topics/richiedi-preventivo/panoramica.html|/it/topics/offerte-bmw/panoramica.html|/it/topics/bmw-cataloghi.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe70374d1c8554667b391ea04861482e7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe2ea63c53eb94aeead7f911726a49995",name:"TPT - PL - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pl"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"\n    try {\n\t\t\n\t\tprocessingWrapper.register(\"fbPagePixel\", function(pid, paramObj) {\n    var cfg = processingWrapper.getConfig(pid, paramObj);\n        function facebooConversionkTPT() {\n            //<!-- Facebook Conversion Code for Grey Market Handbook Download -->\n            (function() {\n                var _fbq = window._fbq || (window._fbq = []);\n                if (!_fbq.loaded) {\n                    var fbds = document.createElement('script');\n                    fbds.async = true;\n                    fbds.src = 'https://connect.facebook.net/en_US/fbds.js';\n                    var s = document.getElementsByTagName('script')[0];\n                    s.parentNode.insertBefore(fbds, s);\n                    _fbq.loaded = true;\n                }\n            })();\n            window._fbq = window._fbq || [];\n            window._fbq.push(['track', '6026370952252', {\n                'value': '0.00',\n                'currency': 'EUR'\n            }]);\n        }\n\n\n        function facebookTPT(configId, track) {\n            //<!-- Facebook Pixel Code -->\n            ! function(f, b, e, v, n, t, s) {\n                if (f.fbq) return;\n                n = f.fbq = function() {\n                    n.callMethod ?\n                        n.callMethod.apply(n, arguments) : n.queue.push(arguments)\n                };\n                if (!f._fbq) f._fbq = n;\n                n.push = n;\n                n.loaded = !0;\n                n.version = '2.0';\n                n.queue = [];\n                t = b.createElement(e);\n                t.async = !0;\n                t.src = v;\n                s = b.getElementsByTagName(e)[0];\n                s.parentNode.insertBefore(t, s)\n            }(window,\n                document, 'script', '//connect.facebook.net/en_US/fbevents.js');\n\n            fbq('init', configId);\n            fbq('track', track);\n        }\n\n        // for all pages\n        facebookTPT('628652590549350', 'PageView');\n        facebookTPT('991235924419025', 'PageView');\n        facebookTPT('272020371420156', 'PageView');\n  \n        _satellite.logger.log(\"TPT - PL - Multiple - Facebook : all pages \");\n\n        // for specific pages\n        if (_satellite.getVar('URLNoParam') == \"www.bmw.pl/pl/ssl/contact-requests/generic/request-for-information.html\") {\n            facebookTPT('851666118275355', 'PageView');\n            facebooConversionkTPT();\n            _satellite.logger.log(\"TPT - PL - Multiple - Facebook: Started Language Update\");\n        } else if (_satellite.getVar('URLNoParam') == \"www.bmw.pl/pl/ssl/contact-requests/confirmation/contact.html\") {\n            facebookTPT('851666118275355', 'PageView');\n            facebooConversionkTPT();\n            _satellite.logger.log(\"TPT - PL - Multiple - Facebook: TDA Thank you\");\n        } else if (_satellite.getVar('URLNoParam') == \"www.bmw.pl/pl/topics/offers-and-services/serwis-oferta-specjalna.html\") {\n            facebookTPT('851666118275355', 'PageView');\n            _satellite.logger.log(\"TPT - PL - Multiple - Facebook: Dealer locator\");\n        }\n        else if (_satellite.getVar('URLNoParam') == \"www.bmw.pl/pl/index.html\") {\n            facebookTPT('272020371420156', 'Home');\n            _satellite.logger.log(\"TPT - PL - Multiple - Facebook: Home\");\n        }\n            \n        var finalData = digitals2.tracking.api.getPageObject(digitals2.tracking.api.getCurrentPageIndex());\n        var pageName = (finalData && finalData.page && finalData.page.pageInfo.pageName) ? finalData.page.pageInfo.pageName : '';\n        if (pageName == \"success-page-tda\") {\n            facebookTPT('851666118275355', 'Lead');\n        }\n\t\t});\nprocessingWrapper.execute(\"fbPagePixel\")\n\n    } catch (e) {\n        _satellite.logger.error(\"TPT - PL - AEM - Facebook - Multiple - PLR - p15r[l]\");\n    }\n",language:"javascript"}}]},{id:"RL0e01f4d54d3c461cb388f73f8cecb33e",name:"TPT - ZA - AEM - virtualPageOpenForThirdPartyRules - iFrame Forms TDA - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9d1a50c42bb14510a6db39e8856ee855-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL15e0479a96d44a13bf905769f3b33ea2",name:"TPT - SG - AEM - Adform - PML Online Shop - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.tw-flex.tw-relative.tab-bar-content > div > div:nth-child(2) > div > div > div:nth-child(5) > div > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb4e4b037b83444d7b23e7086feb8a2bc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL67eaa23cc6454efc9934417d30081a62",name:"PLR - PL - AEM - AT - Determine TargetExperience Name",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isTargetAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n    var topLevelDomain = _satellite.getVar('topLevelDomain');\n    if (topLevelDomain == \"bmw.pl\") {\n        (function () {\n            document.addEventListener(\"at-request-succeeded\", function (e) {\n                if (typeof (e) !== 'undefined' && typeof (e.detail) !== 'undefined' && typeof (e.detail.responseTokens) !== 'undefined' && e.detail.responseTokens.length > 0) {\n                    for (var i = 0; i < e.detail.responseTokens.length; i++) {\n                        if (typeof (e.detail.responseTokens[i]) !== 'undefined' && typeof (e.detail.responseTokens[i]['activity.name']) !== 'undefined' && typeof (e.detail.responseTokens[i]['experience.name']) !== 'undefined') {\n                            var k = e.detail.responseTokens[i]['activity.name'];\n                            var v = e.detail.responseTokens[i]['experience.name'];\n                            sendTestToCS(decodeURI(k), decodeURI(v));\n                        }\n                    }\n                }\n            });\n\n            function sendTestToCS(cskey, csValue) {\n                _satellite.logger.log(\"Target Activities Names captured: \", cskey);\n                //if (cskey.indexOf('BMW_DE_X5_Onepager_Short_Prod_200810') > -1) {\n                    setTimeout(function () {\n                        //_satellite.cookie.set('target_experience', csValue, {\n                            //'domain': _satellite.getVar('topLevelDomain'),\n                        //})\n                        var smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n                        smartPreviousValueManager.update(\"targetExperience\", csValue);   \n                    }, 10000);\n                //}\n            };\n        })();\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: \"PLR\",\n        type: \"AT\",\n        name: \"PLR - PL - AEM - AT - Determine TargetExperience Name\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"}}]},{id:"RL1c384e1aa7db4730b15fa3b54ae202e7",name:"TPT - ES - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/informacion/promociones/ofertas/",valueIsRegex:!0},{value:"/es/ssl/landing-renting/",valueIsRegex:!0},{value:"/es/topics/mundo-bmw/",valueIsRegex:!0},{value:"/es/topics/presentacion/",valueIsRegex:!0},{value:"/es/informacion/promociones/ofertas/select/",valueIsRegex:!0},{value:"black-shadow.bmw.es/es/bmw-serie-2-grand-coupe",valueIsRegex:!0},{value:"/es/informacion/financia/",valueIsRegex:!0},{value:"/es/ssl/catalogos.html",valueIsRegex:!0},{value:"/promocion/heroes",valueIsRegex:!0},{value:"/es/coches-bmw/",valueIsRegex:!0},{value:"/es_ES/configurator.html",valueIsRegex:!0},{value:"/es/ssl/formulario-showroom.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb9a36a657a7447e1abc8c375dbd97346-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1532f706ec1c410da1375a15f18361a9",name:"TPT - MY - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb300c442e70e4e6e8452cda7749448bf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL363a9991e1764cc1a6c9e7a91a5cfa36",name:"TPT - DE - AEM - Adobe Campaign Pixel - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex"},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0f9502cba850465780afa2ff5b76e7ca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4075b24444c94d619e6e62371ca0fe0c",name:"TPT - HU - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC691ab26902fb4a41a030b91de4610089-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3399023a5cab4d5a8eb1a67ad73348b4",name:"TPT - HU - AEM - Adwords - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdade0a7766874c948f30586a5000c970-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcffd481b09b04bb6869cc8ee6a1d64bd",name:"TPT - ES - AEM - Xander - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5767bf9291584e2080ba972cc2f0c127-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0bdbb156143a459a832b4f9204ca5f7d",name:"TPT - IN - AEM - Lotame - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2e88a3277fdf493680351e74fbbcba84-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbadb5d1e08f1470cbbe165d51394c5f7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL150ec0655b2144debc173316fbb68b53",name:"TPT - PL - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0ade3da3d851410fb8c5332c7a31469d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL59e9755bd2084e1b8b4f9b36e70a7a6c",name:"TPT - IE - AEM - Gtag_DC - Configurator_Section_Tracker - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf93c2ae2f1674553852a2cf219067df9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5122116eb038437eb725c39d5397b956",name:"TPT - DK - AEM - Doubleclick - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.dk/da/ssl/find-forhandlere-vaerksteder.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"bmw-efterar-vinter-tilbehor.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC89de07d1710d433bb713ce36950e744e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc7f877800e7742b18f44ac18e8e4ea17",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9c6ddeba6805400b807362df93ff0e45-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa7711991a5854f8abbaa47c7966e089a",name:"TPT - FI - AEM - DoubleClick - Open Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC097cd138faf347bdbfb40fa79dcfaeae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2fbb0aed8add442f8b9d88bac248a405",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{var t=_satellite.getVar("KIT-helpers").privacyManager,s=(_satellite.getVar("consentMap"),{GIVEN:"GIVEN",REVOKED:"REVOKED",UNKNOWN:"UNKNOWN"}),a=function(){var a=_satellite.getVar("consentMap");t.registerOnConsentChange(a.AdobeAnalytics,(function(t){t===s.GIVEN&&e()}))},o=function(){var a={ANALYTICS:"analytics",ADVERTISING:"advertising"};t.registerOnConsentChange((function(t,o){o===a.ANALYTICS&&t===s.GIVEN&&e()}))};t.type===t.ENUM_TYPE.EPAAS_SPLIT?a():t.type===t.ENUM_TYPE.EPAAS_NON_SPLIT&&o()}catch(e){}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAAAllowed%",rightOperand:"true"}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName")),o=s.get("event.-1.eventInfo.eventName"),n=_satellite.getVar("smartPreviousValueManager"),r=(window.location.href,t.Util.cookieRead("gcdmToken"));t.linkTrackVars="events,",t.linkTrackEvents="",t.events="",_satellite.getVar("setDefaultVariables",e)(t);try{"datalayer field missing"==a&&(a=dataLayer.pages[0].page.pageInfo.pageName||"datalayer field missing")}catch(t){var i={from:"AA",type:"PLR",name:e.$rule.name};_satellite.logger.error(t,i)}if(t.prop1=t.pageName=-1==a.indexOf("nsc >")?"nsc > "+a:a,window.location.href.indexOf("/dcs/")>-1||"nsc > stocklocator"==t.prop1)return void(t.abort=!0);if(t.eVar34=-1==o.indexOf("nsc >")?"nsc > "+o:o,t.prop42="nsc website",t.prop5=s.get("page.category.subCategory02"),s.get("pageInstanceId").indexOf("error-pool/")>-1&&(t.pageName=t.pageURL,t.pageType="errorPage",t.prop1=t.pageName),"nsc > stocklocator"==t.pageName&&(t.prop19="central new car stock locator"),0!=s.get("product").length){for(var c in s.get("product"))if(!isNaN(+c)){var d=s.get("product."+c+".attributes.mmdr",s.get("product."+c+".attributes.internalCode")),l=s.get("product."+c+".attributes.mmdrVG",s.get("product."+c+".attributes.internalCode")),u=s.get("product."+c+".attributes.modelCode");P="G26E"==d||"G26E"==l||"71AW"==u||"31AW"==u?"G26E":"G70E"==d||"G70E"==l?"G70E":s.get("product."+c+".attributes.mmdr",s.get("product."+c+".attributes.internalCode"))}var b=_satellite.getVar("setDefaultProductVariables");b.id=P,b.category="new vehicle",b.merchEvars.eVar52=s.get("product.-1.attributes.modelName"),b.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),b.merchEvars.eVar10=P,b.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),t.products=b.toString()}if(void 0!==window.epaas.api.getPersistence("bmwdtm_hq_perf")&&""!=window.epaas.api.getPersistence("bmwdtm_hq_perf")&&null!=window.epaas.api.getPersistence("bmwdtm_hq_perf")){var m=window.epaas.api.getPersistence("bmwdtm_hq_perf");json_data=JSON.parse(m),json_data.timeServer=json_data.timeServer<0?"0":json_data.timeServer,json_data.timeServerReact=json_data.timeServerReact<0?"0":json_data.timeServerReact,json_data.timeDOM=json_data.timeDOM<0?"0":json_data.timeDOM,json_data.timeContent=json_data.timeContent<0?"0":json_data.timeContent,json_data.timePageReady=json_data.timePageReady<0?"0":json_data.timePageReady,"ok"==json_data.status&&(t.events=t.apl(t.events,"event971="+json_data.timeServer,",",1),t.events=t.apl(t.events,"event972="+json_data.timeServerReact,",",1),void 0!==json_data.lcp&&(t.events=t.apl(t.events,"event973="+json_data.lcp,",",1)),t.events=t.apl(t.events,"event974="+json_data.timeContent,",",1),t.events=t.apl(t.events,"event975="+json_data.timePageReady,",",1),void 0!==json_data.fid&&(t.events=t.apl(t.events,"event968="+json_data.fid,",",1)),void 0!==json_data.cls&&(t.events=t.apl(t.events,"event969="+json_data.cls,",",1),t.events=t.apl(t.events,"event967="+json_data.clsTotal,",",1)),t.eVar36=_satellite.getVar("perfTime_url"),t.eVar37=_satellite.getVar("perfTime_query"),t.eVar38=_satellite.getVar("perfTime_hash"),void 0!==json_data.fidHTML&&(t.eVar67=json_data.fidHTML),void 0!==json_data.lcpHTML&&(t.eVar68=json_data.lcpHTML)),window.epaas.api.setPersistence("bmwdtm_hq_perf","")}if(t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timeStamp"),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop54=s.get("event.-1.category.primaryCategory"),t.prop55=s.get("event.-1.category.subCategory01"),t.prop50=s.get("event.-1.eventInfo.element"),t.eVar71=s.get("event.-1.eventInfo.target"),"user_centric_navigation"==t.prop19&&(t.events=t.apl(t.events,"event919,event920",",",1)),"delayed"==s.get("event.-1.category.eventType"))if(t.prop56="interaction",t.prop54=s.get("event.-1.category.primaryCategory",s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),"Navigation"==s.get("event.-1.category.primaryCategory")&&"user_centric_navigation"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")){var p=s.get("event.-1.attributes.relatedComponent.category.primaryCategory",s.get("event.-1.attributes.relatedComponent.category.primaryCatergory")),g=(o=s.get("event.-1.eventInfo.eventName")).split("L").length;t.events=2==g&&"Navigation"==p?t.apl(t.events,"event917,event918,event919,event920",",",1):t.apl(t.events,"event917,event918",",",1),t.prop42="nsc website",t.prop2=s.get("page.category.pageType"),t.prop3=s.get("page.category.primaryCategory"),t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop4=s.get("page.category.subCategory01"),t.prop5=s.get("page.category.subCategory02"),t.prop1=s.get("page.pageInfo.pageName"),t.prop1.indexOf("nsc >")<0&&(t.prop1="nsc > "+t.prop1),t.prop28=s.get("page.attributes.virtualPage"),t.prop29=s.get("page.pageInfo.version"),t.prop14=(new Date).toISOString().substr(11,8),t.prop15=(new Date).toString().substr(16,8);try{r&&(t.prop40="logged-in"),""==r&&(t.prop40="not logged-in")}catch(e){}t.eVar136="2020 - 06- 15 user_centric_navigation",t.eVar137="AEM6",t.prop53="delayed"==s.get("event.-1.category.eventType")?"success":"ux",t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.linkTrackVars+="prop42,prop43,prop44,prop19,prop2,prop3,prop4,prop5,prop1,prop28,prop29,prop14,prop15,prop40,eVar136,eVar137,prop56,prop53,eVar34,prop58,prop12,prop52,prop54,prop55,prop50,eVar71"}else if("Outbound click"!=s.get("event.-1.eventInfo.eventAction")&&"Internal click"!=s.get("event.-1.eventInfo.eventAction")||"salesbar"!=s.get("event.-1.attributes.relatedComponentName")&&"sticky_sales_bar"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))if("Open navigation"!=s.get("event.-1.eventInfo.eventAction")&&"Internal click"!=s.get("event.-1.eventInfo.eventAction")||"model_navigation_hp"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))if("accessory click"!=s.get("event.-1.eventInfo.eventAction")&&"cta click"!=s.get("event.-1.eventInfo.eventAction")||"ZSO_accessories"!=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName"))t.prop53="success",t.prop3=s.get("page.category.primaryCategory"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.events=t.apl(t.events,"event917,event918",",",1),t.linkTrackVars+="prop43,prop56,prop53,eVar34,prop57,prop58,prop12,eVar71,prop50,prop54,prop52,eVar10,prop3,prop1,prop44,prop42,prop54";else{var f=s.get("event.-1.eventInfo.effect"),v=s.get("event.-1.eventInfo.eventAction");t.prop56="interaction",t.prop53="ZSO CTA click"==o?"success":"ux",t.eVar34=-1==f.indexOf("nsc >")?"nsc > "+f+" clicked":f+" clicked",t.prop3=t.prop54=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName",s.get("component.-1.componentInfo.componentName")),t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop55=s.get("event.-1.eventInfo.cause"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.prop51=o,t.prop52="default",t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 ZSO_accessories",t.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),t.eVar55=s.get("product.-1.category.subCategory01"),t.eVar65=s.get("event.-1.attributes.productName"),t.prop42="nsc website",t.prop43="accessories",t.prop28=s.get("page.attributes.virtualPage"),"virtual"==t.prop28&&(t.prop28="virtual page");var h=_satellite.getVar("setDefaultProductVariables");if(0!=s.get("product").length){var P="";for(var c in s.get("product"))isNaN(+c)||(d=s.get("product."+c+".attributes.mmdr",s.get("product."+c+".attributes.internalCode")),l=s.get("product."+c+".attributes.mmdrVG",s.get("product."+c+".attributes.internalCode")),u=s.get("product."+c+".attributes.modelCode"),P="G26E"==d||"G26E"==l||"71AW"==u||"31AW"==u?"G26E":"G70E"==d||"G70E"==l?"G70E":s.get("event.-1.category.mmdr",s.get("product.-1.attributes.mmdr")));h.id=P,h.category="new vehicle",h.merchEvars.eVar10=P,h.merchEvars.eVar53="new car",h.merchEvars.eVar54="build to order"}if("ZSO recommended accessory click"==o||"ZSO CTA click"==o){var j=_satellite.getVar("setDefaultProductVariables");j.id=s.get("event.-1.attributes.wishlist.-1").split("~")[2],j.category="after sales",j.merchEvars.eVar53="accessory configurator",j.merchEvars.eVar52=s.get("event.-1.eventInfo.cause"),j.merchEvars.eVar54=s.get("event.-1.attributes.wishlist.-1").split("~")[0],h.append(j)}switch(t.products=h.toString(),t.linkTrackVars+=",prop56,prop53,eVar34,prop54,prop55,prop51,prop52,products,eVar136,eVar17,prop28,prop52,prop55,eVar60,eVar55,eVar65,prop19,prop3,prop44",o){case"ZSO Specific accessory click":case"ZSO recommended accessory click":"accessory click"==v&&(t.events=t.apl(t.events,"event917,event918,event253,event254",",",1));break;case"ZSO CTA click":"cta click"==v&&(t.events=t.apl(t.events,"event917,event918,event253,event254,event255,event256",",",1),"Request Offer now"!=f&&"Order Information"!=f&&"Request for Test drive"!=f||(t.events=t.apl(t.events,"event1,event2",",",1)))}}else t.prop56="interaction",t.prop53="ux",t.prop43="navigation",t.eVar34="nsc > "+o+" clicked",t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop42="nsc website",t.prop53="navigation",t.prop13="bmw",t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.eVar134="web",t.prop27=s.get("page.pageInfo.pageID"),t.prop3=s.get("component.-1.componentInfo.componentName"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.eVar135=s.get("page.pageInfo.devEnv"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.prop12=s.get("event.-1.eventInfo.timeStamp",s.get("event.-1.eventInfo.timestamp")),
t.eVar136="2020 - 06- 15 model_navigation_hp";else t.events=t.apl(t.events,"event917,event918,event921,event922"),t.prop43="navigation",t.eVar34="nsc > "+o+" clicked",t.prop52="default",t.prop53="ux",t.prop51=s.get("event.-1.eventInfo.eventName"),t.prop19=s.get("component.-1.componentInfo.componentName"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID"),t.prop13="bmw",t.eVar134="web",t.prop27=s.get("page.pageInfo.pageID"),t.prop28=s.get("page.attributes.virtualPage"),t.prop3=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName",s.get("component.-1.componentInfo.componentName")),t.prop2=s.get("page.category.pageType"),"virtual"==t.prop28&&(t.prop28="virtual page"),t.eVar135=s.get("page.pageInfo.devEnv"),"new car"==s.get("product.-1.category.primaryCategory")&&(t.eVar54="build to order"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),"Outbound click"==s.get("event.-1.eventInfo.eventAction")&&o.indexOf("test")>-1&&o.indexOf("drive")>-1&&(t.prop11="tda",t.prop8="form start intention",t.linkTrackVars+=",prop11,prop8"),t.eVar136="2020 - 06- 15 salesbar",t.linkTrackVars+=",prop51,prop3,prop2,prop52,prop44,prop19,prop28,eVar34,prop53,prop13,prop43,eVar134,prop27,eVar135,eVar54,eVar17,prop56,prop52,prop53,prop51,prop19,prop44,prop13,eVar134,prop27,prop3,prop28,eVar135,eVar136";if(n.update("pageName",t.prop1),n.update("componentSubcategory1",t.prop43),_satellite.getVar("KIT-helpers").privacyManager.isCookieDrawerShown()){var C=s.get("event.-1.attributes.relatedComponentID");for(I=0;I<s.get("component").length;I++){var R=I.toString();s.get("component."+R+".componentInfo.componentID")!=C&&s.get("component."+R+".componentInfo.componentId")!=C||(_satellite.logger.log("related component - "+s.get("component."+R)),s.get("component."+R+".componentInfo.componentName",s.get("event.-1.attributes.relatedComponentName",s.get("product.-1.attributes.relatedComponentName"))),s.get("component."+R+".componentInfo.componentID",s.get("component."+R+".componentInfo.componentId")),s.get("component."+R+".category.primaryCategory"))}o=_satellite.getVar("eventName"),f=_satellite.getVar("eventEffect"),_satellite.getVar("eventCause"),_satellite.getVar("eventPrimaryCategory"),_satellite.getVar("eventSubCategory01"),t.events=t.apl(t.events,"event925,event926"),t.eVar34="nsc > "+s.get("event.-1.eventInfo.effect","cookie drawer is shown"),t.prop51=s.get("event.-1.eventInfo.eventName","Cookie drawer impression"),t.prop52=s.get("event.-1.eventInfo.cause","default"),t.prop55=s.get("event.-1.category.subCategory01","impression")}try{var w=_satellite.getVar("topLevelDomain");if("true"==_satellite.getVar("isAdobeAnalyticsAllowed")&&("bmw.de"==w||"bmw.fr"==w||"bmw.co.uk"==w||"bmw.it"==w)){function E(){function e(){s||(s=!0,window.CS_CONF&&(CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push("Adobe Analytics")))}var s=!1;window._uxa=window._uxa||[],_uxa.push(["afterPageView",e]);var a="_cs_mk",o=("; "+document.cookie).split("; "+a+"=");if(_satellite.logger.log("contentsquare installation1",o.length),1==o.length){var n=Math.random()+"_"+Date.now();t.eVar142=n,_satellite.logger.log("contentsquare installation",t.eVar131);var r=function(){for(var e=0,t=document.domain,s=t.split("."),a="_gd"+(new Date).getTime();e<s.length-1&&-1==document.cookie.indexOf(a+"="+a);)t=s.slice(-1-++e).join("."),document.cookie=a+"="+a+";domain="+t+";";return document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}();document.cookie=a+"="+n+"; expires=session ;path=/;domain="+r,_uxa.push(["trackDynamicVariable",{key:"csMatchingKey",value:n}])}}E()}}catch(e){i={from:"AA",type:"Rule",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon"},_satellite.logger.error(e,i)}try{var y=_satellite.getVar("AA-componentDefaultValues");y&&"configurator all models"==y.componentName&&(t.prop1="nsc > all-models-con-entry",t.pageName="all-models-con-entry",t.prop2=s.get("page.category.pageType","page"),t.prop4=s.get("page.category.subCategory01","con entry"),t.prop3="models",t.prop28=s.get("page.attributes.virtualPage"))}catch(e){i={from:"AA",type:"Rule",name:"PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon"},_satellite.logger.error(e,i)}for(var T=s.get("component"),I=0;I<T.length;I++)if(T[I].attributes&&T[I].attributes.onsiteSearch&&"General"===T[I].attributes.onsiteSearch){var _="true";break}if("true"==_){s.get("component.1.componentInfo.componentName"),s.get("component.-1.attributes.onsiteSearchResults"),t.prop56="search",t.prop53="content",t.eVar34="nsc > onsite search result clicked",t.prop51=T[I].componentInfo.componentName,t.prop55=t.prop24=T[I].attributes.onsiteSearchResults,t.prop57=s.get("event.-1.eventInfo.eventAction"),t.prop54="onsite search",t.prop44=T[I].componentInfo.componentID,t.prop19="onsite search",t.prop42="nsc website",t.prop43="search",t.eVar136="2021 - 02- 19 onsite search",t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.prop13="bmw";var x=T[I].attributes.onsiteSearchTerm;t.events=t.apl(t.events,"event917,event918,event333,event334,event331,event332");var k=_satellite.getVar("searchDefaultProduct");(h=_satellite.getVar("setDefaultProductVariables")).merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),h.merchEvars.eVar53="new car",t.products=h.toString(),t.products+=",search;search;;;;"+k+"eVar30=datalayer field missing|eVar31=user selected|eVar32="+s.get("event.-1.attributes.onsiteSearch")+"|eVar33="+x}t.prop56="page view",t.prop53="success",t.prop55=s.get("page.category.subCategory01"),t.prop51=s.get("page.category.subCategory02"),t.prop57="page load",t.eVar34="nsc > page: "+s.get("page.pageInfo.pageName")+" shown",t.prop54=s.get("component.-1.componentInfo.componentName")}catch(s){t.sa("bmwgroup.group.global.test"),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(s)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    var sid = _satellite.cookie.get("bmwdtm_hq_sid");\n    if (sid == undefined && _satellite.getVar(\'isAdobeAnalyticsAllowed\') == "true") {\n        setTimeout(function() {\n            _satellite.track("bounce_timer");\n        }, 20000);\n        _satellite.cookie.set("bmwdtm_hq_sid", Math.random());\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: "AA",\n        type: "Rule",\n        name: "PLR - ALL - NSC - AA - Page Bottom Adobe Analytics Beacon (Bounce DCR code)"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}',language:"javascript"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL14272dda58614a15b3ebea41cdbbf899",name:"TPT - IE - AEM - Gtag_DC - PHEV Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/requests/brand-switch-tda/tda-bmw.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfac65602358448cd92a366769ccef062-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc81c4764620d4097b160864d7d56b0e5",name:"TPT - CZ - AEM - DoubleClick - Configurator History Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.error("TPT - CZ - DBM Tag Configurator Steps err \n",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa3ac27445d3449078e0fe58033240107-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL758705a6b9a5465da20173f00b8e6fd1",name:"TPT - FR - AEM - Sizmek - 2019-02-BMW-FilRougeConsideration-Visite1Min-Arrivee-AllModels - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC70037c70afb74e9bbb6b0860ca640115-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL92b5b82fb79646f6bb924f7100ab9d10",name:"TPT - CZ - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6d1fa40ca41e42b097ffe2ead8464d30-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe035007de1244bf6a277ae882628fbde-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc964f5330ecb4e3faeb83ebe7183f01b",name:"TPT - UK - AEM - Sophus - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8a28a97801794d5bb7742fdd78c0ec26-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL701a42ecce624b10bc94e742965a3939",name:"TPT - PL - AEM - Submit Button Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC56715072a888416692a31bb739f268f5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1412b2856c99441a9937789e57673e4e",name:"TPT - SE - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0cdea2a25ba14a718871fae2c7ef6fb3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLef34830dcd2447ecab6d4023d665f02c",name:"PLR - ALL - NSC - AA - ActivityMap for link and region",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7c6f4f996364412bb2500c60e16d40e9-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{function s(e){var t=["vin","token"];for(var s in t)e.indexOf(t[s])>-1&&(e=e.split(t[s])[0]);return e}_satellite.logger.log("ActivityMap: Initialized"),t.ActivityMap.superLink=t.ActivityMap.superLink||t.ActivityMap.link,t.ActivityMap.link=function(e,t){if("false"===_satellite.getVar("isAdobeAnalyticsAllowed"))return!1;if("object"!=typeof e)return!1;if(t)return _satellite.logger.log("ActivityMap: linkID from linkName:"+t),t;var a="";e||(e="");try{e&&(a=e.getAttribute("data-tracking-linkid")||e.getAttribute("data-name")||(e.getAttribute("href")&&e.innerText?e.innerText.replace(/[:>\s\/\n]+/g," ").trim()+":"+e.getAttribute("href"):null))||(a=this.superLink(e,t)),a&&(a=a.toLowerCase().replace(/[\s\/\n]/g," "),_satellite.logger.log("ActivityMap: Custom linkID: "+a)),a&&(a=s(a))}catch(e){_satellite.logger.error(e),a=""}return a},t.ActivityMap.superRegion=t.ActivityMap.superRegion||t.ActivityMap.region,t.ActivityMap.region=function(e){if("object"!=typeof e)return!1;var t;try{_satellite.logger.log("ActivityMap: getting RegionID");for(var a=e;a&&(a=a.parentNode);){var o=a.getAttribute("data-tracking-regionid")&&a.getAttribute("data-tracking-regionid")||a.nodeName.match(/HEADER|MAIN|FOOTER|/i).join();if(":"!=o&&""!=o||(o=""),o&&":"!==o&&(t=o+(t?">"+t:"")),"BODY"==a.nodeName){null!=t&&t.match(/^(HEADER|MAIN|FOOTER)/i)||(t="main"+(t?">"+t:""));break}}}catch(e){(console.error||console.log).call(console,e.stack||e)}return t&&(t=s(t)),t=t?(t||"").toLowerCase().replace(/[\s\/\n]/g," "):this.superRegion(e),_satellite.logger.log("ActivityMap: Custom regionID: "+t),t}}catch(t){var a={from:"PLR",type:"ActivityMap",name:e.$rule.name};_satellite.logger.error(t,a)}}},trackerProperties:{}}}]},{id:"RL590c293c5cd24fcda769257de40b8cb7",name:"TPT - AU - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-third-party",(function(t){t.detail&&e()}))}catch(e){_satellite.logger.error("TPT: Search Tag ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe443ccbf937a43199e4d3fc281ed9fae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41bfa6546e544c1391f44a005e4b4c01",name:"TPT - AT - AEM - Facebook - Make an appointment online - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.next-best-action.ds2-dlo-dealer-details--button.dlo-button.ng-binding.ng-scope",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fastlane/dealer-locator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5c8b74d8736b4cd68667f4a261605315-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL632695e22fd64f0bb75d1c289b97ebf1",name:"TPT - ES - AEM - Facebook - iFrame Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5ac45074ebb647bdab7705fe58a9b5c3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3652c8f5ced54e5abc414897b57496d5",name:"TPT - IE - AEM - Adwords - Enquire Now Submit Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".btn-primary",elementProperties:[{name:"id",value:"bmw_send_form"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IE"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/ssl/discover-enquire-now.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6354703d9e57443a8a1145bd851756f3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3429d59d4cc4641bfccfec5e110c505",name:"TPT - NO - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc48761fc1b6b4a899e3f34aa35e67384-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL66f02f7aad5a4a359b0057bb43a9460a",name:"TPT - IT - AEM - ContentSquare - Stock Locator Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC58749fe423c44a27a5097b2ea9f12aef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa2f2a49d1bc84e569d1e08a25297de25",name:"TPT - IE - AEM - Adwords - 2 Series View Offer Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'div.show-for-large-up > ul > li:nth-child(2) > a[href="/en/redirect/discover-offer-2-series-gc.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/all-models/2-series/gran-coupe/2019/bmw-2-series-gran-coupe-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC73a96b8b5b654fd29d69ba57a30b835a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL86a2975c32d843729a78b03cc37ef68c",name:"TPT - TH - AEM - GtagAW - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdf254cc32b6f46f58813ee4d37fa914a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5aecc8027d2c446880577c36f8192376",name:"TPT - FI - AEM - Adform - Vaihtoautot Buttons Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Premium Selection -vaihtoautohaku",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Lue lis\xe4\xe4",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"BMW Vakuutus",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Rakenna oma BMW",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Hinnastot ja esitteet",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Varaa huolto",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/aiheet/yhteydenotto/varaa-koeajo.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/aiheet/tuotteet-tarjoukset/premium-selection-vaihtoautot.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4bdfd202e0c04e43b2025baf5e2cfc93-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d6885e038234b658934c1156957a714",name:"TPT - JP - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0e9de5ec16fd4ae5b3c4b270e6f3910d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc39922cf13b444c5b006a7b62176a856",name:"TPT - IT - AEM - Adwords - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2c6522f926d1415b94e10a4a8e327c2d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a6e04c7c9474452b25a41f6edd88f82",name:"PLR - DE - All Models - Custom Script - Visitor Reco Target",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neufahrzeuge",valueIsRegex:!0},{value:"/all-models",valueIsRegex:!0},{value:"/index",valueIsRegex:!0},{value:"/home",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7f62636f1f4944aca72a3cae62ec4bac-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL74cd86dd595e4bb08e5d47898db87ecd",name:"TPT - FR - AEM - iAdvize - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC415b97f3da8c44bf9dc76da2a8f05e80-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0bf3d905d0d549c88b5fe5ccd6099a4b",name:"TPT - NL - AEM - Submit Button Pixel - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfd69f6c7f8944a40bfeba8a49a0c957c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdb47d682f51e4badbe935464601eded4",name:"TPT - CZ - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa4a561fb574c4850afa795a688256b87-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL478624cde8b34f89b4538b70481ce9a6",name:"TPT - FR - AEM - ContentSquare - MINI DCS - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.fr",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/shop/dcs",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa5cae15d05fa4e5a924600f4a1688677-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2069b52fd00a4578bb5b44713022fe74",name:"TPT - RO - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC93bb4c122d784f2492a2a3b374b39e86-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6ecf9871930b456a9d4e0f1432b7b3dc",name:"TPT - NO - AEM - Adform - DLO State Standalone - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/fastlane/dealer-locator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfd75afb33748420aa65de57654b75942-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL450cbd6e16a64860a8af473d736ccf14",name:"TPT - SE - Multiple - Usabilla",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SE"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8b4786c87e684592bcb37069c448446f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL38a0bb991b464296bf7b2412c6f6ab06",name:"TPT - AT - AEM - IgnitionOne - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa5f9b9834e3c4a6cb754d8cdc9ae4fbf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6fbda5ddf35d48d08de51d70e9483e8c",name:"TPT - SE - AEM - Hotjar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf9cf776808e9438c8bb32bd72587c7ba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL96518412f5a241e49bd0c1d069df8b8e",name:"TPT - DE - AEM - Criteo Pixel - TDA Scrape Form Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1f35f317d89e4690938847babed7fcce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL16434b6b819a4763afb3e8dbf3987857",name:"TPT - MX - AEM - IgnitionOne - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe2de97a05ec5495184ae542eb2e13558-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6f90319d3f4d44f7a6d542e8369049a0",name:"TPT - JP - AEM - EBiS - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC135deb1428cc4ed69320e04347f48d2b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL860fae706a684f04a727829accde255e",name:"TPT - UK - AEM - Adwords - Iframe Forms RFI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe62084a1ccfd4bafb46528b0075c7e75-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfdae5d5b1fd5469e92200302216e2b00",
name:"TPT - MY - AEM - Involve Asia - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/footer/metanavigation/test-drive-request-confirmation.html|/all-models/bmw-i/bmw-ix-new/2020/keep-me-informed-confirmation.html|/all-models/3-series/sedan-long-wheelbase/2021/test-drive-confirmation.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcdb34e67acec4062b73afd87a4bc6adc-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf8a1a7e2fef842c58517ea99b902b62b-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf7b35c1edd3d4bb69ddfe53eb018caff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL65eabbb314c34a3896f806e5c98ae544",name:"TPT - TH - AEM - GtagAW - TDA Form Success - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC82245d0588c5497fa543ed318551143d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLabf63a1f9100498eb82f214b4a4b7c83",name:"TPT - TH - AEM - Facebook - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-third-party",(function(t){t.detail&&e()}))}catch(e){_satellite.logger.error("TPT: Facebook Pixel ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"TH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCeb6110d5a97849cfb35b808b2d438580-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL24fd200d885b42b2bfb266dc9ca31e8a",name:"TPT - SI - AEM - Submit Button Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC66beacf918ab47348ee4407d6e27fd0e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0303d89e00e441038dd6e8cf0308888e",name:"TPT - UK - AEM - Content Square - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf730f5ab599b49168c715edc14a986c4-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd9d5e5e28bb548dcbecbc2405ad13fd5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0dfad5fa15344952a7091b79a8eac830",name:"TPT - IE - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb92d595a352e43ea97ee5489f68908c7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfccee2f1e0bb446cbb55ca6fab878106",name:"DCR - All - AEM - AA - Accessory Configurator",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_steps"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.linkTrackVars="events,",t.linkTrackEvents="",t.events="";var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.eventAction"),n=s.get("event.-1.eventInfo.cause"),r=s.get("component.-1.componentInfo.componentName"),i=(s.get("component.-1.category.subCategory01"),s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName")));function c(){t.prop56="interaction",t.prop53="success",t.eVar34=-1==o.indexOf("con >")?"con > "+o:o,t.prop54="accessory configurator",t.prop55="datalayer field missing",t.prop51=a,t.prop52=n,t.prop19=t.prop43="accessory configurator",t.prop42="configurator",t.linkTrackVars=t.apl(t.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,prop19,prop42,prop43")}function d(){t.prop56="form",t.prop53="central form",t.prop54="RFA",t.prop55=o,t.prop51="lead",t.prop52=n,t.prop6="central form",t.prop11="RFA",t.prop7="datalayer field missing",t.prop10="dedicated forms",t.prop18="lead",t.prop17="datalayer field missing",t.prop19=_satellite.getVar("AA-componentDefaultValues").componentName,t.prop42="configurator",t.prop43=_satellite.getVar("AA-componentDefaultValues").subCat,t.linkTrackVars=t.apl(t.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,prop6,prop11,prop7,prop10,prop18,prop17,prop19,prop42,prop43")}_satellite.getVar("setDefaultVariables",e)(t),t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timestamp"),t.prop52=s.get("event.-1.eventInfo.cause"),t.prop55=s.get("event.-1.category.subCategory01"),t.prop50=s.get("event.-1.eventInfo.element"),t.eVar71=s.get("event.-1.eventInfo.target"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.eVar136="2020 - 06- 15 accessories configurator",t.prop27=s.get("page.pageInfo.pageID"),t.prop3=r,t.prop5=s.get("page.category.subCategory02"),t.prop2=s.get("page.category.pageType"),t.prop28="virtual"==s.get("page.category.pageType")?"virtual page":"",t.prop1=t.pageName=-1==i.indexOf("con >")?"con > "+i:i,t.linkTrackVars=t.apl(t.linkTrackVars,"prop1,eVar136,eVar17,prop27,prop3,prop5,prop2,prop28,prop57,prop58,prop12,prop52,prop55,prop50,eVar71,pageName");var l=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr")),u=s.get("event.-1.attributes.engine");if(u){var b=/[0-9]{3}[a-z]{1}/i,m=/xdrive[0-9]{2}[a-z]{1}/i,p=/sdrive[0-9]{2}[a-z]{1}/i,g=u.match(b)||u.match(m)||u.match(p);u.indexOf("i3 (120 ah)")>-1||u.indexOf("i3 (120ah)")>-1||u.indexOf("i3 120ah")>-1?u="i3 (120 ah)":u.indexOf("i3s (120 ah)")>-1||u.indexOf("i3s (120ah)")>-1||u.indexOf("i3s 120ah")>-1?u="i3s (120 ah)":g&&g.length&&(u=g[0].toUpperCase())}var f=_satellite.getVar("setDefaultProductVariables");f.id=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr")),f.category="new vehicle",f.merchEvars.eVar47=s.get("event.-1.attributes.colour"),f.merchEvars.eVar52=s.get("event.-1.attributes.productName",s.get("product.-1.attributes.modelName")),f.merchEvars.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),f.merchEvars.eVar10=l,f.merchEvars.eVar51=s.get("event.-1.attributes.bodyType",s.get("product.-1.attributes.bodyType")),f.merchEvars.eVar54="new car"==s.get("product.-1.category.primaryCategory")?"build to order":"",f.merchEvars.eVar50=s.get("event.-1.attributes.serie",s.get("event.-1.attributes.series")).replace(/,/g," "),f.merchEvars.eVar55=s.get("product.-1.category.subCategory01"),f.merchEvars.eVar58=u,f.merchEvars.eVar65=s.get("event.-1.attributes.productName");var v=_satellite.getVar("setDefaultProductVariables");switch(v.id=s.get("event.-1.attributes.wishlist.-1").split("~")[2],v.category="after sales",v.events=["event836="+s.get("event.-1.attributes.wishlist.-1").split("~")[3]],t.events=t.apl(t.events,"event836"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event836"),f.append(v),t.products=f.toString(),t.linkTrackVars=t.apl(t.linkTrackVars,"products"),a){case"Model Selection":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event917,event918,event257,event253,event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event257,event253,event254"),c());break;case"ac start":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event917,event918,event251, event252, event253, event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event251, event252, event253, event254"),c());break;case"ac model update":"AC iFrame - AC Model Change Intention"==o&&(t.events=t.apl(t.events,"event917,event918,event258, event253, event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event258, event253, event254"),c());break;case"ac start after model change":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event917,event918,event251, event252, event258, event253, event254"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event251, event252, event258, event253, event254"),c());break;case"Summer Complete Wheels":case"Winter Complete Wheels":case"M Performance":case"Transport Solutions":"AC iFrame - Accessory Configurator Step"!=o&&"AC iFrame - Accessory Add"!=o&&"AC iFrame - Detail Click"!=o&&"AC iFrame - Visualisation Change"!=o&&"AC iFrame - Started wishlist Share"!=o&&"AC iFrame - Finished wishlist Share"!=o&&"AC iFrame - Download wishlist"!=o||(t.events=t.apl(t.events,"event253,event254,event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918"),c(),"AC iFrame - Finished wishlist Share"==o?(t.events=t.apl(t.events,"event905,event906"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event905,event906")):"AC iFrame - Download wishlist"==o?(t.events=t.apl(t.events,"event903,event904"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event903,event904")):"AC iFrame - Detail Click"==o||"AC iFrame - Visualisation Change"==o?(t.prop53="ux",t.linkTrackVars=t.apl(t.linkTrackVars,"prop53")):"AC iFrame - Started wishlist Share"==o||"AC iFrame - Finished wishlist Share"==o?(t.prop53="success",t.linkTrackVars=t.apl(t.linkTrackVars,"prop53")):"AC iFrame - Download wishlist"==o&&(t.prop53="ux",t.linkTrackVars=t.apl(t.linkTrackVars,"prop53")));break;case"RFA: Selected Accessories":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event253,event254,event917,event918,event29,event30,event3,event4,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918,event29,event30,event3,event4,event9,event10"),d(),t.eVar34="con > form started",t.prop8="form started",t.prop16="selected accessories",t.prop9="step 1/4",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Personal Data":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event253,event254,event917,event918,event7,event8,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918,event7,event8,event9,event10"),d(),t.eVar34="con > form step 2",t.prop8="form step 2",t.prop16="personal information",t.prop9="step 2/4",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Dealer Selection":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event253,event254,event917,event918,event7,event8,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918,event7,event8,event9,event10"),d(),t.eVar34="con > form step 3",t.prop8="form step 3",t.prop16="dealer locator",t.prop9="step 3/4",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Legal Notice":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event253,event254,event917,event918,event7,event8,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918,event7,event8,event9,event10"),d(),t.eVar34="con > form step 4",t.prop8="form step 4",t.prop16="marketing consent",t.prop9="step 4/4",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"RFA: Finish":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event253,event254,event917,event918,event31,event32,event15,event16,event9,event10"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918,event31,event32,event15,event16,event9,event10"),d(),t.eVar34="con > form finished",t.prop8="form finished",t.prop16="request success",t.prop9="request success",t.linkTrackVars=t.apl(t.linkTrackVars,"eVar34,prop8,prop16,prop9"));break;case"AC full screen view":"iFrame - fullscreen"==o&&(t.events=t.apl(t.events,"event253,event254,event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918"),c());break;case"AC Toggle M Sport Package":"iFrame - toggle"==o&&(t.events=t.apl(t.events,"event253,event254,event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event253,event254,event917,event918"),c());break;case"ac error page":"AC iFrame - Accessory Configurator Step"==o&&(t.events=t.apl(t.events,"event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931,event932"),t.prop56="error",t.prop53="error 404",t.pageType="errorPage",t.eVar34=o,t.prop54="datalayer field missing",t.prop55="404",t.prop51="datalayer field missing",t.prop52=n,t.linkTrackVars=t.apl(t.linkTrackVars,"prop56,prop53,eVar34,prop54,prop55,prop51,prop52,pageType"))}}catch(s){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(s)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Accessory Configurator",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL0b10d1506771493d9082f119f469bb1b",name:"TPT - NL - AEM - Facebook - RFI - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/specials/prijslijst-brochure.html",valueIsRegex:!0},{value:"/nl/ssl/aanvraag/brochure-prijslijst.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC96a6dea2c2944de38671705afb727763-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL482db24d25a04619a678f3d5cf62e3c9",name:"TPT - DE - AEM - Criteo Pixel - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa9e398176c8642e28fd1353828142e2b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL81bfabb1624645c580d22bdccca190f3",name:"TPT - BR - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf04ff63e048f4636a0472ccbe1ffd893-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL26d8f9f9d4a34e89971850c390cee5bd",name:"TPT - RU - AEM - Solowey - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC34f4da97b60d49e69a5ae5265c4e1ce8-source.min.js",language:"html",isExternal:!0}}]},{id:"RL6bc6f2a1f4a147a9a8e2db3327146ebe",name:"TPT - NO - AEM - Adform - Salesbar Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NO"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/offers-and-services/bmw-tilbehor.html",valueIsRegex:!0},{value:"/no/topics/produkt-tilbud/firmabil.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc2f1ff55f25843bda5803ef304902d1f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaabda2f1e76d486fad66a0eb12532587",name:"TPT - MY - AEM - DoubleClick - Multiple pages -  PLR ",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/x-series/x7/2021/bmw-x7-highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    var path = window.location.pathname\n    var axel = Math.random() + "";\n    var a = axel * 10000000000000;\n    var runDoubleClick = function (id,cat) {\n        var DCtag = document.createElement("img");\n        DCtag.src = "https://"+id+".fls.doubleclick.net/activityi;src="+id+";type=invmedia;cat="+cat+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;gdpr=${GDPR};gdpr_consent=${GDPR_CONSENT_755};ord=" + a + "?";\n        DCtag.width = "1";\n        DCtag.heigth = "1";\n        document.body.appendChild(DCtag);\n    }\n\n\n    if (path.indexOf("/en/all-models/x-series/x7/2021/bmw-x7-highlights.html") > -1) {\n        runDoubleClick("10773170","bmwx70");\n      runDoubleClick("11139025","bmwx70");\n    }\n\n} catch (e) {\n    _satellite.logger.error("TPT - MY - AEM - DoubleClick - BMW X7 - PLR");\n}',language:"javascript"}}]},{id:"RLad75d0da97aa4330850ea6e965c2e7e7",name:"TPT - TH - AEM - Web Chat - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"th/form/request-for-offer.html|/en/form/request-for-offer.html|/th_TH/form/request-test-drive.html|/en_TH/form/request-test-drive.html|/th/form/contact-us-corp-sales.html|/en/form/contact-us-corp-sales.html|/th/form/bmw-the-i4-rfi.html|/en/form/bmw-the-i4-rfi.html|/th/form/bmw-the-ix-rfi.html|/en/form/bmw-the-ix-rfi.html|/th/form/bmw-the-ix3-rfi.html|/en/form/bmw-the-ix3-rfi.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa49bb971506b4b67870f5f765101bb38-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLeb53eb1218b9448082881b3aa1b6479c",name:"TPT - CH - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC84186df3abd0444c94645a0b83b53ca0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf70aedbe0cc74355a7d59dfbd4e6a3c9",name:"TPT - AT - AEM - FacebookChat - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa5f22da2cfcd40c8a4c48cc680cf8536-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8729e0769a4e430fa2044c2758089448",name:"TPT - UK - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf8d4b894b51748f2ba76874a173e0853-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC92836913512241d2b9d3ab29c15ca807-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLffa6ef0e8e8a4fb1b6c718d48a934a98",name:"TPT - CZ - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC19dbdfd4a9804389bc924d23f54ba1de-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7117f4118394aa6b5c0fda0d61dd5a7",name:"TPT - ES - AEM - Facebook - iFrame Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa7d10c4d0050416dba84301aedc13c78-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1320524eea0b4a8da356b3ecd65f395e",name:"TPT - UK - AEM - Xandr - Explore The Range - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/all-models/m-models.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5924a114c2ed4b63b6c19542274a1cc8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7c3c70cb69c549e7b03f959bb2e382a4",name:"TPT - IT - AEM - Psyma User Survey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it$",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4f88df8b6263477984c7e1dfbec412cc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL513dcd89a9254766a14f5a40dd03378a",name:"TPT - IT - AEM - Facebook - Stock Locator Multiple Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5001a2532da247c7a53601b828b7684d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL50d4d3616d3444a381b746907ac3d031",name:"TPT - IE - AEM - Adwords - RFO - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbb61f5b6298a4d3dbadfddcab4eb906d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0b63c89d538f488ea91c4f3a948c69c2",name:"TPT - IE - AEM - Adwords - TDA - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc2befb98bed54f01858f0dd167b4935d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL39c4864ed0894a43a343851e87b02608",name:"TPT - PL - AEM - Adform - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6fce4c934f45472eb93c08331ce96f58-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcd8f7396d305460fb1260b2d31586d32",name:"TPT - ZA - All Pages - Set Cookie",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6c9932c0ebe6483d8592817166c604b0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL99ace3c59ca04bedae63726b0afca46d",name:"TPT - MY - AEM - Adwords - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC17c02dc98bb64e50a6d17b39ece5af16-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48ec607564c1471ab38289efa1173d5a",name:"TPT - DE - AEM - Adobe Campaign Pixel - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",
caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC359153f9f2ca4925988b783bacd87ae7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL92df108e45404e79951bf9c04cb8aec6",name:"TPT - SG - AEM - Adform - Multiple - Save configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#disclaimer > div.h5vco-clearfix.ng-scope > div > ul > li:nth-child(2)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SG"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/configurator.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe2cb9655499d4499a48af97d599b9a57-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa55b3029c0314d3ab772fc64f9c32bc7",name:"TPT - SG - AEM - Adform - Download catalogue - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Download catalogue",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/original-bmw-accessories/accessories-catalogue.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCaec860c79aec44dca937550c68bfd78d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5159c5fc0e0245298b5d0635429ed56e",name:"TPT - FI - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa022dc3d3c87461da88c5395d4091707-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4c3e0d2e261349efb3522ab2cd066f24",name:"TPT - ES - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC29c33cfb377f43f5a9317181266539dd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa8805a3bed144bec904394dbc9c5c3fe",name:"TPT - GR - AEM - DoubleClick - Adobe Form - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3b4afeadc36d41509c1382ff6c24923a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4460d14cd4094dfcac5ad2e3866d6c86",name:"TPT - SE - AEM - Add Cookie - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb455e8971f4c4db3a5cf473c13578476-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0710c199cc414e6d9a70ced17143b761",name:"TPT - RU - AEM - Calltouch - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC487d423f148349edadfa62aacaa396a0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd3537c7dd0ba498c904bfb8241aa0017",name:"TPT - DK - AEM - Doubleclick - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/hash.js",settings:{hashes:[{value:"(/DK/da/BMWI|/DK/da/BMW_BMWM)",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb524a9fca0e14438b8f30c3038970751-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa0b0f80d6df34330b3e4c2acb5d2a67f",name:"TPT - HU - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"HU"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2262ef36bcb44ef68f523c9998a816ea-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfb38dd422e8b4604b07007966aa04413",name:"TPT - UK - AEM - GTagDC - Register for Updates Form Submit - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i2963_dc.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC72a2f334bf80460184111907ddb89235-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCaafc1df1510542ae84640e82fa54ae9d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3776103a5844145a30e8114c03606b0",name:"TPT - PT - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5f8642996a7542d2b87539a593e8ad13-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaeb5c8d28d85493fa31bbfdf42a57b7a",name:"TPT - CA - AEM - RAPID RTC Online Chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8c03bad5917d43b8985d40342a386758-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe8959232dad4459db83289a9b8935233-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLff75c3bd4da34b51943645c0f9ca2f46",name:"TPT - SG - AEM - Adform - E-Brochure Download - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Download e-brochure",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m2-coupe/2018/m-240i-coupe.html",valueIsRegex:!0},{value:"/en/all-models/2-series/activetourer/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/2-series/grantourer/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/6-series/gran-turismo/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/8-series/convertible/2018/bmw-8-series-convertible.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X2/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X2/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X4/2018/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/X5/2018/bmw-x5-at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/x-series/x7/2018/bmw-x7-inspire.html",valueIsRegex:!0},{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/bmw-z-serie/roadster/2018/bmw-z4-roadster-inspire.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m2-coupe/2018/bmw-m2-competition.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m3-sedan/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m4-coupe/2017/at-a-glance.html",valueIsRegex:!0},{value:"/en/all-models/m-series/m5-sedan/2017/bmw-m5-competition.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0167c0dc32804749a33f7e6e03aec122-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd643d43aab4a4af0bdfca6ab06afa9b3",name:"DCR - All - NSC - AA - Adobe Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"TDA"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"rfo"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"RFO"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.effect"),n=(s.get("event.-1.eventInfo.cause"),s.get("event.-1.eventInfo.eventPoints"),s.get("event.-1.eventInfo.type")),r=s.get("event.-1.category.subCategory1"),i=s.get("event.-1.category.subCategory2"),c=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t),t.prop1=t.pageName=-1==c.indexOf("nsc >")?"nsc > "+c:c,t.eVar34=-1==o.indexOf("nsc >")?"nsc > "+o:o;var d,l={rao:["event25,event26","event27,event28"],rfa:["event29,event30","event31,event32"],rfc:["event33,event34","event35,event36"],rfcd:["event37,event38","event39,event40"],rfd:["event41,event42","event43,event44"],rfo:["event61,event62","event63,event64"],rfp:["event65,event66","event67,event68"],rfs:["event69,event70","event71,event72"],tda:["event85,event86","event87,event88"],"online tda":["event89,event90","event91,event92"],registration:["event93,event94","event95,event96"],campaign:["event97,event98","event99,event100"],rfi:["event45,event46","event47,event48"],download:["event49,event50","event51,event52"],generic:["event53,event54","event55,event56"],postal:["event57,event58","event59,event60"],roi:["event73,event74","event75,event76"],"keep me informed":["event77,event78","event79,event80"],newsletter:["event81,event82","event83,event84"],"fs rfo":["event101,event102","event103,event104"],loan:["event105,event106","event107,event108"],"operational lease":["event109,event110","event111,event112"],"private lease":["event113,event114","event115,event116"],quote:["event117,event118","event119,event120"],insurance:["event121,event122","event123,event124"],lead:["event17,event18","event19,event20"],handraiser:["event21,event22","event23,event24"]},u=l[n.toLowerCase()],b=l[r.toLowerCase()],m=l[i.toLowerCase()];"nsc > form started"==o?(d=t.apl(d,"event3,event4"),null!=m&&(d=t.apl(d,m[0])),null!=u&&(d=t.apl(d,u[0])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n||null!=b&&(d=t.apl(d,b[0]))):"nsc > form finished"==o?(d=t.apl(d,"event15,event16"),null!=m&&(d=t.apl(d,m[1])),null!=u&&(d=t.apl(d,u[1])),"RFI"!=n&&"ROI"!=n&&"FS RFO"!=n||null!=b&&(d=t.apl(d,b[1]))):"nsc > form finish intention"==o||"form finish intension"==o?d=t.apl(d,"event917,event918,event13,event14"):"nsc > first form interaction"==o||"first form interaction"==o?d=t.apl(d,"event917,event918,event5,event6"):"nsc > form interaction"==o||"form interaction"==o?d=t.apl(d,"event917,event918,event9,event10"):o.indexOf("form step")>-1?d=t.apl(d,"event7,event8"):"nsc > form impression"==o||"form impression"==o?d=t.apl(d,"event925,event926"):a.indexOf("error")>-1&&(d=t.apl(d,"event931,event932"));var p=s.get("event.-1.attributes.leadTime","0");d=t.apl(d,"event977="+p),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d),t.eVar137=s.get("component.-1.category.application","aem6"),t.prop55=s.get("event.-1.category.subCategory1",s.get("event.-1.attributes.errorCode")),t.eVar23=s.get("page.attributes.marketingConsent"),t.prop6="adobe form",t.prop7=s.get("event.-1.category.subCategory1"),t.prop8=-1==o.indexOf("nsc >")?o:o.substring(6),t.prop9=s.get("page.category.subCategory1"),t.prop10=s.get("page.category.subCategory2"),t.prop16=s.get("page.pageInfo.pageName"),t.prop17=s.get("event.-1.attributes.form.rfxID"),t.prop18=s.get("event.-1.category.subCategory2"),t.eVar41=s.get("dealer.-1.dealerInfo.dealerGroupName",s.get("dealer.-1.dealerInfo.dealerGroup")),t.eVar42=s.get("dealer.-1.dealerInfo.dealerID",s.get("dealer.-1.dealerInfo.dealerGroupID")),t.eVar39=s.get("dealer.-1.dealerInfo.dealerOutletName",s.get("dealer.-1.dealerInfo.dealerName")),t.eVar40=s.get("dealer.-1.dealerInfo.outletID",s.get("dealer.-1.dealerInfo.dealerOutletID"));var g=!1,f=s.get("pages.0.page.category.subCategory2",s.get("pages.0.page.category.subCategory02"));if(_satellite.logger.info(s.snapshot),_satellite.logger.info("debug subCategory2: "+f),-1==t.events.indexOf("event3,event4")&&"success-pool"==f){_satellite.logger.info("debug: Workaround events");var v=s.get("pages.0.event.0.category.primaryCategory",s.get("pages.0.event.0.category.primaryCatergory")),h=s.get("pages.0.event.0.eventInfo.effect");if(_satellite.logger.info("debug: event0 ",s.get("pages.0.event.0")),"adobe form"==v&&"nsc > form finished"==h){t.events=t.apl(t.events,"event15,event16");var P=s.get("pages.0.event.0.category.subCategory1"),j=s.get("pages.0.event.0.category.subCategory2"),C=l[v.toLowerCase()],R=l[P.toLowerCase()],w=l[j.toLowerCase()];null!=w&&(t.events=t.apl(t.events,w[1])),null!=C&&(t.events=t.apl(t.events,C[1])),"RFI"!=v&&"ROI"!=v&&"FS RFO"!=v||null!=R&&(t.events=t.apl(t.events,R[1])),t.linkTrackEvents=t.apl(t.linkTrackEvents,t.events),g=!0}}g&&(_satellite.logger.info("debug: Workaround"),t.prop7=s.get("pages.0.event.0.category.subCategory1"),t.prop8=-1==s.get("pages.0.event.0.eventInfo.effect").indexOf("nsc >")?s.get("pages.0.event.0.eventInfo.effect"):s.get("pages.0.event.0.eventInfo.effect").substring(6),t.prop11=s.get("pages.0.event.0.category.primaryCategory",s.get("pages.0.event.0.category.primaryCatergory")),t.prop17=s.get("pages.0.event.0.attributes.form.rfxID"),t.eVar34=-1==s.get("pages.0.event.0.eventInfo.effect").indexOf("nsc >")?"nsc > "+h:h,t.eVar41=s.get("pages.0.dealer.-1.dealerInfo.dealerGroupName",s.get("pages.0.dealer.-1.dealerInfo.dealerGroup")),t.eVar42=s.get("pages.0.dealer.-1.dealerInfo.dealerID",s.get("pages.0.dealer.-1.dealerInfo.dealerGroupID")),t.eVar39=s.get("pages.0.dealer.-1.dealerInfo.dealerOutletName",s.get("pages.0.dealer.-1.dealerInfo.dealerName")),t.eVar40=s.get("pages.0.dealer.-1.dealerInfo.outletID",s.get("pages.0.dealer.-1.dealerInfo.dealerOutletID"))),t.prop42="nsc website",t.prop43="forms",("form"==s.get("component.-1.category.subCategory01")||"form"==s.get("component.-1.category.subCategory1"))&&"aem6"==s.get("component.-1.category.application")||s.get("event.-1.eventInfo.effect"),"datalayer field missing"!=t.prop7&&"datalayer field empty"!=t.prop7||"form"==t.prop56&&(t.prop53=s.get("event.-1.eventInfo.type"),t.prop7="generic"),"datalayer field missing"!=t.prop55&&"datalayer field empty"!=t.prop55||"form"==t.prop56&&(t.prop53=s.get("event.-1.eventInfo.type"),t.prop11=n,t.prop55="generic"),t.prop10=s.get("event.-1.attributes.form.formVariant"),t.prop9=s.get("event.-1.attributes.form.stepName"),t.prop16=s.get("event.-1.attributes.form.stepAmount"),a=s.get("event.-1.eventInfo.eventName"),n=s.get("event.-1.eventInfo.type"),"form"==a?(t.prop6="adobe form",t.prop8=-1==s.get("event.-1.eventInfo.effect").indexOf("nsc >")?s.get("event.-1.eventInfo.effect"):s.get("event.-1.eventInfo.effect").substring(6),t.prop11=n,t.prop56=a):"error"==a?(t.prop6="",t.prop8="",t.prop11="",t.prop52=s.get("event.-1.eventInfo.cause"),t.prop53=s.get("event.-1.eventInfo.type"),t.prop55=s.get("event.-1.category.subCategory1"),t.prop56=a,t.eVar34=s.get("event.-1.eventInfo.effect")):(t.prop6="",t.prop8="",t.prop11="",t.prop53=s.get("event.-1.eventInfo.type"),t.prop56=a),t.prop19="adobe form";var E=s.get("page.pageInfo.pageName");if(-1!=E.indexOf("PREDOC-G26-BEVE-E")||-1!=E.indexOf("predoc-g26-beve-e")){t.prop11="rfo",t.prop7=E;var y=s.get("product-1.attributes.motorization",s.get("product.-1.attributes.engine"));if(y){var T=/[0-9]{3}[a-z]{1}/i,I=/xdrive[0-9]{2}[a-z]{1}/i,_=/sdrive[0-9]{2}[a-z]{1}/i,x=y.match(T)||y.match(I)||y.match(_);y.indexOf("i3 (120 ah)")>-1||y.indexOf("i3 (120ah)")>-1||y.indexOf("i3 120ah")>-1?y="i3 (120 ah)":y.indexOf("i3s (120 ah)")>-1||y.indexOf("i3s (120ah)")>-1||y.indexOf("i3s 120ah")>-1?y="i3s (120 ah)":x&&x.length&&(y=x[0].toUpperCase())}var k=_satellite.getVar("setDefaultProductVariables");k.id="g26",k.category="vehicle",k.merchEvars.eVar10="G26",k.merchEvars.eVar56="e",k.merchEvars.eVar57="beve",k.merchEvars.eVar44=s.get("product.-1.attributes.productionYear"),k.merchEvars.eVar45=s.get("product.-1.attributes.yearOfRegistration"),k.merchEvars.eVar46=s.get("product.-1.attributes.vehicleStatus",s.get("product.-1.attributes.vehicleSelection")),k.merchEvars.eVar47=s.get("product.-1.productInfo.color",s.get("product.-1.attributes.color")),k.merchEvars.eVar48=s.get("product.-1.attributes.modelCode"),k.merchEvars.eVar49=s.get("product.-1.attributes.gearing"),k.merchEvars.eVar50=s.get("product.-1.attributes.series"),k.merchEvars.eVar52=s.get("product.-1.productInfo.productName",s.get("product.-1.attributes.modelName")),k.merchEvars.eVar53="model_navigation_hp"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")||s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")>-1?"new car":s.get("product.-1.category.primaryCategory"),k.merchEvars.eVar54=s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")>-1||"need analyzer"==s.get("page.pageInfo.pageTitle").toLowerCase()?"build to order":s.get("product.-1.category.subCategory1"),k.merchEvars.eVar55=s.get("product.-1.category.subCategory2"),k.merchEvars.eVar58=y,k.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),t.products=k.toString(),"form started"==t.prop8?(d=t.apl(d,"event61,event62"),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d)):"form finished"==t.prop8&&(d=t.apl(d,"event63,event64"),t.events=t.apl(t.events,d),t.linkTrackEvents=t.apl(t.linkTrackEvents,d))}t.linkTrackVars=t.apl(t.linkTrackVars,"products,eVar23,eVar137,prop6,prop7,prop8,prop9,prop10,prop11,prop16,eVar16,prop17,prop18,prop55,prop52,prop1,eVar34,pageName,eVar39,eVar41,eVar42,eVar40,prop42,prop43,prop19,prop53,prop56")}catch(t){var A={from:"AA",type:"Rule",name:e.$rule.name};_satellite.logger.error(t,A)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Adobe Forms",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLd6bd79ba09424df6a043ba79573f33c5",name:"TPT - BE - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCeebf298149e54302a08ff03ff2027015-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf021918fa1604894b09c1823d77cab0c",name:"TPT - RU - AEM - Doubleclick - Testdrive form sent - EBR",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"form",elementProperties:[{name:"id",value:"test-drive-second-form",valueIsRegex:!1}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC316aa263191e4a40b874d93fcbe603bf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL947911d59bbc4539a00b96689c485cc4",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Settle - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_settle"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0de9a40011734be0b7fa06f4583371d0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf19dae4b7dc14833bdffbfd31d25681f",name:"TPT - IT - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa063b41265db4a21a69537d750058082-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL535f57a1b9dd41b595c9cd14aa563090",name:"TPT - AR - AEM - Adwords - Correo Servicios Financieros - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"contacto@bmwfs.com.ar",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/topics/fascination-bmw/bmw-financial-services.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa9fa912c2a9d471cb58db5077112d78a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0935bb84741746d89c347c14908bee7e",name:"TPT - ZA - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9e4ea5f7d0504b228e444e3dff3dce94-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa2fe7a57a7cc4c4bb90c9c0c629026aa",name:"TPT - MY - AEM - Zendesk Chat - All pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC548eef41a8fb4cb79ca51c306480c79f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLacbbafa97d93453f9f56e1e4c9c4b7c0",name:"TPT - ZA - AEM - Effectivemeasure - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC72d82605118043ed93f0662ec17c0c4a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5c4a59b08ecb424a82e392d7fad0c2e1",name:"DCR - All - AEM - AA - Bounce Timer",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"bounce_timer"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"));if(_satellite.getVar("setDefaultVariables",e)(t),0!=s.get("product").length){for(var o in s.get("product"))if(!isNaN(+o)){var n=s.get("product."+o+".attributes.mmdr",s.get("product."+o+".attributes.internalCode")),r=s.get("product."+o+".attributes.mmdrVG",s.get("product."+o+".attributes.internalCode")),i=s.get("product."+o+".attributes.modelCode");eVar10="G26E"==n||"G26E"==r||"71AW"==i||"31AW"==i?"G26E":"G70E"==n||"G70E"==r?"G70E":s.get("product."+o+".attributes.mmdr",s.get("product."+o+".attributes.internalCode"))}var c=_satellite.getVar("setDefaultProductVariables");c.id=eVar10,c.category="new vehicle",c.merchEvars.eVar52=s.get("product.-1.attributes.modelName"),c.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),c.merchEvars.eVar10=eVar10,c.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),t.products=c.toString()}t.linkTrackVars=t.apl(t.linkTrackVars,"products,prop1"),t.events=t.apl(t.events,"event976"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event976"),t.eVar34="nsc > bounce timer",-1==t.linkTrackVars.indexOf("eVar34")&&(t.linkTrackVars+=",eVar34");var d=_satellite.getVar("AA-componentDefaultValues");"digital checkout solution"==s.get("page.category.primaryCategory")?(t.prop1=t.pageName=a,t.eVar34="sales > bounce timer",t.prop1&&t.prop1.indexOf("sales >")<0&&(t.prop1=t.pageName="sales > "+t.prop1)):d&&"configurator all models"==d.componentName?t.prop1=t.pageName="nsc > all-models-con-entry":t.prop1=t.pageName=a&&-1==a.indexOf("nsc >")?"nsc > "+a:a,t.linkTrackVars=t.rfl(t.linkTrackVars,"campaign"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar61"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar62"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar63"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar64")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"bounce timer",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLcbc75be5dad045ad90297ee8e8297a3e",name:"TPT - CH - AEM - DoubleClick - 19/20-BMW-Lead-Click-WheelConfiguratorBrochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_accessory-configurator_interaction"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC18bae05fbf8449ef84dbc22204dd107b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe7570ab5e63e465d9c409f4d02893d65",name:"TPT - AR - AEM - Adwords - iFrame Form RFI - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.ar",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/es/ssl/solicitud-de-contacto.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa3f064a796954e86b00eaa06d4ec107c-source.min.js",language:"javascript",isExternal:!0}}]},{
id:"RL1befe5672b8e42c9b21ff28ac59d7ea6",name:"TPT - FI - AEM - Adform - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9468e9e00bc646fd88dfbfb7f70123d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2adb77893a5d4e1f88bc8ea914c31781",name:"TPT - IE - AEM - DoubleClick - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC672278e214a040ada04e52fb7f705cc4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa9b10fe3f3cb4088a8db6eecfbaa1ba5",name:"TPT - AT - AEM - Salesbar - All Pages  - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0},{value:"p152.bmw.com",valueIsRegex:!0},{value:"m152.bmw-int3.com",valueIsRegex:!0},{value:"m152.bmw-int1.com",valueIsRegex:!0},{value:"m152.bmw-int9.com",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5495df2bb69d401197b0344d3fc0bfc6-source.min.js",language:"html",isExternal:!0}}]},{id:"RLec8c9ecb4d9344618e6fe922cc0b3617",name:"TPT - AT - AEM - Facebook - Form Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf4b610673dc34970a7487d12d4cfea22-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6063a920d6ef4fa296a87a6444851dc7",name:"TPT - ZA - AEM - Adform - Buy Now Btn - EBR -p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://buy.bmw.co.za",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en/topics/fascination-bmw/buy-bmw.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfbdebdaa90e64c2ab83164f6bdebbf8c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcee74562eaaa4b2c93dcfea2a9071e9c",name:"TPT - GR - AEM - IgnitionOne - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/el/publicPools/success-pool/success-page-tda.business-forms.html|/publicPools/success-pool/success-page-rfo.business-forms.html",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa829b4ae730c4226909c50e1b5f5cb60-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc8f9c7f1e2f34859a945cbbb6365152c",name:"TPT - HU - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa9279772373c429ba4c2eb0364659d87-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5fcf3fc9729f4a99ae6eaf9fe942b090",name:"TPT - BR - AEM - Facebook - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4f1e8c0be7e846ddb59b9eb0107bc73e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4b5858e0736347c282acf7775b2b7a71",name:"TPT - FI - AEM - Adwords - Retailers - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".buttonLarge.ds2-tracking-js--event",elementProperties:[{name:"title",value:"J\xe4lleenmyyj\xe4t|Retailers",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7cf9b423f39c4f71b116563fb7b995d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL262595b810b74c3db8072d3c3821e77d",name:"TPT - IT - AEM - Facebook - Stock Locator Checkout Steps - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd375891e95684d89a546aec14ac02677-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC19c3081df28c422197aeab5c2aabdac1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48ae6f2383fb432eaa8ad6f911450930",name:"TPT - IN - AEM - Marketo - Multiple Pages - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n\n    var pathname = window.location.pathname;\n\n    if (pathname == '/en/test-link.html' || pathname == '/en/all-models/x-series/x7-test/2018/test-link.html' ) {\n    (window.p15r = window.p15r || []).push({\n        processingId: 'AdobeMarketo',\n        action: 'register',\n        callback: function(pid, paramObj, cfg) {\n         (function(c,h,a,f,i,e){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\n c[a].a=i;c[a].e=e;var g=h.createElement(\"script\");g.async=true;g.type=\"text/javascript\";\n g.src=f+'?aid='+i;var b=h.getElementsByTagName(\"script\")[0];b.parentNode.insertBefore(g,b);\n })(window,document,\"rtp\",\"//snrtp-cdn.marketo.com/rtp-api/v1/rtp.js\",\"bmwindiasandbox2\");\n \nrtp('send','view');\nrtp('get', 'campaign',true);\n        },\n        config: {\n            defCat: \"advertising\"\n        }\n    }, {\n        processingId: 'AdobeMarketo',\n        action: \"execute\"\n    })\n}\n} catch (err) {\n    _satellite.logger.error(\"TPT - IN - AEM - Adobe Marketo - All Pages - PLR - p15r[l]\", err);\n}",language:"javascript"}}]},{id:"RL5e3d789cee474c0197a2713a8e719d83",name:"TPT - IE - AEM - Gtag_DC - Get A Quote Click - EBR - p15r[c] ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/redirect/discover-get-a-quote.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/forms/rfo/get-a-quote.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC189d0dd3332b48fe8c02243de3598475-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb77b2ca6fa4f41b59a32c09d9c7585e5",name:"TPT - DE - AEM - Linkedin - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9fceb839ff9a42ecafce0cc03f6b65ac-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9880760060ff4d7dba5f5f69ebb3eb31",name:"TPT - DK - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC319ec485c335459893ae27184ad4b5a3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa5cf1700742e4d7289fe13272491479e",name:"PLR - All - AEM - Custom Code - Page Speed Tracking 3.1",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6e3292dce51840b99d240845105d6592-source.min.js",language:"html",isExternal:!0}}]},{id:"RL6e940441c97342b4822ec486cedfc3dc",name:"TPT - NL - AEM - Dotaki - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.nl"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC676d631589014de6ad218690c84f8076-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5b6580dcece0418b83a028d1f0cd077d",name:"TPT - SE - AEM - AdForm - BMW i3 showroom - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/alla-modeller/bmw-i/i3/2020/bmw-i3-overblick.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC113bb2c92f5848a3a88582fd3acd592d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa943397cb2a1458685bb80e4bf496a56",name:"TPT - DE - AEM - Facebook - Dealer Call Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".phone>.tw-font-bmw-light.tw-text-grey-900",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/neuwagensuche.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe292de9e9f5b458589e2b08e0af261a1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf88d7c3365b34e038c075b067b003e75",name:"TPT - ES - AEM - Amazon - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0ef42cc31c034d4b8c36a36f912864e0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL891f5b79b2384f1fb505a11de35b6030",name:"TPT - IT - AEM - Sophus3 - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbd61998bc2304c71a7b4df2e44ab3c68-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd60608ca4a2945b9b18f50cf14229b8e",name:"TPT - BR - AEM - DoubleClick - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf0a0b0bb4ab94c72926940e298f4a271-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5a0f38a45c6843939e2675c00cc8c6f7",name:"TPT - NO - AEM - Adform - Configurator Section Change - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/ssl/configurator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC73b486b16912449da5c5470f7ce28fb4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0bf6f360de8c47bfaea94dd908279a8c",name:"TPT - DK - AEM - Adform - Salesbar Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-sticky-sales-bar__item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"DK"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/firmabil.html",valueIsRegex:!0},{value:"/da/generelt/produkt-tilbud/tilbud/kampagne.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb4b4dc2b56d6474a97eb47600595c41e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLda3b64868f4243bf92300cb9585edcb1",name:"TPT - SE - AEM - AdForm - Business lease- PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/hitta-kop/tjanstebil/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe557fdb6310d49929f635f1bbd650de0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL360435ac3ce845c69dacbe369a2d5dbb",name:"TPT - GR - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd6eba121799045c1baa1291865f4ff2e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8997d16c30a4414080c5ebcf095d89c4",name:"TPT - MY - AEM - GTag_DC - All Pages - PLR",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"  try {\n    var gTagElem = document.createElement('script');\n    gTagElem.async = true;\n    gTagElem.src = 'https://www.googletagmanager.com/gtag/js?l=gDataLayer&id=DC-11139025';\n\n    var firstScript = document.getElementsByTagName('script')[0];\n    firstScript.parentNode.insertBefore(gTagElem, firstScript);\n\n    window.gDataLayer = window.gDataLayer || [];\n    window.gtag = function() {\n        gDataLayer.push(arguments);\n    }\n    window.gtag('js', new Date());\n    window.gtag('config', 'DC-11139025');\n\n    gtag('event', 'conversion', {\n    'allow_custom_scripts': true,\n    'send_to': 'DC-11139025/invmedia/bmwsi0+standard'\n  });\n\n} catch (e) {\n    _satellite.logger.error(\"TPT - MY - AEM - GTagDC - All Pages - PLR\", e);\n}\n   ",language:"javascript"}}]},{id:"RL278e6a088f164193bb5b7ff7d8035951",name:"TPT - ZA - AEM - Adform - Test Drive Click - EBR -p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"title",value:"Book a test drive",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC417deeafeee94e77b63b5580b7b0c668-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6e550097127b44209f8720d7b02d86ac",name:"TPT - IT - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC18efe4fd924443b4a278d51e63348dc9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6e52a9a3621146aeafcec40e85d7f81a",name:"TPT - HU - AEM - GTagDC - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd4dbaa3646f14001b0e1c61c5ff1f6bd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b9deb430b0b42ac84e2c3c67e5becf5",name:"TPT - ID - AEM - Adwords - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC72c6e0224916406b83935c05b48bca1a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdef7ce76bbf8432c8cc50b8a74e2b15a",name:"TPT - IN - AEM - Lotame - 3 Series Download Brochure - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcaee0dcb7bb941c3abb483dd2ec0a98c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbd7fd6813c394fbe863dc102c4e88233",name:"TPT - RU - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC492e0931bab04bdab2a5f4f7211d2422-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0c8c236d4b8a46898d1d2dd7f1e8f277",name:"TPT - ZA - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4afe8ad2890a4e30a0cc951c6aa03177-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd4f44a0d949e45b8bcac6cda114ad600",name:"TPT - SI - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8e8848da15714b71bffbe18defc43301-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL13054f5de3e6463ca13cd86c5c39b130",name:"TPT - PT - AEM - DoubleClick - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC073f468230604a0aa9dbae929058e7b1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL79a6ed26ca9443278799b28bcdabafc1",name:"TPT - GR - AEM - IgnitionOne - iFrame Forms RFC - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd598c8e1d2b74dc2944a6935fc5fc02f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3fa0dbb0460b4c088cce075b0ef3f291",name:"TPT - ES - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC11bd02f9bfe34dfeafe5b999ee1e6852-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL97a039f8a0ac4928b995da236c161651",name:"TPT - UK - AEM - GTagDC - TDA Form Sub - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i3223_tda.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC27a2870a291b4708ae7781e76b9a978f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL137230bbb8de494a8aeb989a4b1e56a2",name:"TPT - BG - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe976752d4885440c8837c7fedf43f47d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcb37b8f17f034059b7df6c0ecabcb775",name:"PLR - DE - All Pages - Custom Script - New Visitor Reco Script",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:200},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:'try {\n    ! function() {\n        "use strict"\n\n        function addDimension(e, i, o) {\n            e[i] = o\n        }\n\n        function removeDimension(e, i) {\n            delete e[i]\n        }\n\n        function weight_value(e, i) {\n            return {\n                weight: e,\n                value: i || 0\n            }\n        }\n\n        function updateBucket(e, i, o) {\n            var r = e[i]\n            for (var t in r) t == o ? score_obj[i][t].value = 1 : score_obj[i][t].value = 0\n            if (shouldCalculateScore) {\n                var n = calculateScore(score_obj)\n                shouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n            }\n        }\n\n        function calculateDimensionScore(e, i) {\n            var o = 0,\n                r = e[i]\n            for (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\n            return o\n        }\n\n        function calculateScore(e) {\n            var i = 0\n            for (var o in e) i += calculateDimensionScore(e, o)\n\n   \n            return rawScore = 1e3 / (1 + Math.exp(-i)), finalScore = Math.round(100 / (1 + Math.exp(-i))), _satellite.setVar("raw_score", rawScore + ""), _satellite.setVar("final_newscore", finalScore + "")\n        }\n\n        function setCookie(e, i, o, r) {\n            var t = ""\n            if (o) {\n                var n = new Date\n                if (r) {\n                    switch (r) {\n                        case "m":\n                            n.setTime(n.getTime() + 60 * o * 1e3)\n                            break\n                        case "h":\n                            n.setTime(n.getTime() + 60 * o * 60 * 1e3)\n                            break\n                        case "d":\n                            n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n                            break\n                        default:\n                            n.setTime(n.getTime() + 24 * o * 60 * 60 * 1e3)\n                    }\n                    t = "; expires=" + n.toGMTString()\n                }\n            }\n        \n            "true" == _satellite.getVar("isAdobeAnalyticsAllowed") && (document.cookie = e + "=" + (JSON.stringify(i) || "") + t + "; domain=.bmw.de; path=/")\n        }\n\n        function getCookie(e) {\n            for (var i = document.cookie.split(";"), o = e + "=", r = 0; r < i.length; r++) {\n                for (var t = i[r];\n                    " " === t.charAt(0);) t = t.substring(1, t.length)\n                if (0 === t.indexOf(o)) return t.substring(o.length, t.length)\n            }\n            return null\n        }\n\n        function getParsedCookie(e) {\n         var i=window.epaas.api.getPersistence(e);\n          //   var i = getCookie(e)\n            return JSON.parse(i) || {}\n        }\n\n        function getParameterByName(e, i) {\n            i || (i = window.location.href), e = e.replace(/[\\[\\]]/g, "\\\\!@#TOKEN172!@#")\n            var o = RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)"),\n                r = o.exec(i)\n            return r ? r[2] ? decodeURIComponent(r[2].replace(/\\+/g, " ")) : "" : null\n        }\n\n        function listener(e, i) {}\n\n        function check_device_type() {\n          var e = getParsedCookie("v_reco_data"),\n                 i = JSON.parse(JSON.stringify(e.device_type || {})) \n          navigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.device_type = "mobile": navigator.userAgent.match(/iPad|Android|Touch/i) ? e.device_type = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.device_type = "desktop": e.device_type = "misc"),updateBucket(score_obj, "device_type", e.device_type),window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n        }\n\n        function check_session_duration() {\n            shouldDisplayScore = !0\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.new_session_duration || 0\n            2 >= i ? updateBucket(score_obj, "new_session_duration", "leq2") : 39 >= i ? updateBucket(score_obj, "new_session_duration", "g2_leq39") : 97 >= i ? updateBucket(score_obj, "new_session_duration", "g39_leq97") : 198 >= i ? updateBucket(score_obj, "new_session_duration", "g97_leq198") : 379 >= i ? updateBucket(score_obj, "new_session_duration", "g198_leq379") : 811 >= i ? updateBucket(score_obj, "new_session_duration", "g379_leq811") : i >= 812 && updateBucket(score_obj, "new_session_duration", "g811")\n            var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.new_session_duration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "new_session_duration", "leq2") : 3 == r ? updateBucket(score_obj, "new_session_duration", "g2_leq29") : 40 == r ? updateBucket(score_obj, "new_session_duration", "g39_leq97") : 98 == r ? updateBucket(score_obj, "new_session_duration", "g97_leq198") : 199 == r ? updateBucket(score_obj, "new_session_duration", "g198_leq379") : 380 == r ? updateBucket(score_obj, "new_session_duration", "g379_leq811") : r >= 812 && (updateBucket(score_obj, "new_session_duration", "g811"), clearInterval(o)), i.new_session_duration = r + "",/*setCookie("v_reco_data", i)*/ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n            \n            }, 1e3)\n        }\n\n        function check_configurator_session_duration() {\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.new_configurator_session_duration || 0\n            if (i && (70 >= i ? updateBucket(score_obj, "new_session_duration_configurator", "leq70")\t : 350 >= i ? updateBucket(score_obj, "new_session_duration_configurator", "g70_leq1350") : i >= 351 && updateBucket(score_obj, "new_session_duration_configurator", "g350")), (URL.indexOf("configure.bmw") > -1|| URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.new_configurator_session_duration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "new_session_duration_configurator", "leq70") : 71 == r ? updateBucket(score_obj, "new_session_duration_configurator", "g70_leq350") : r >= 351 && (updateBucket(score_obj, "new_session_duration_configurator", "g350"), clearInterval(o)), i.new_configurator_session_duration = r + "",/* setCookie("v_reco_data", i) */ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n             \n            }, 1e3)\n        }\n\n        function check_channel() {\n         \n            var e = getParsedCookie("v_reco_data")\n            \n            if (e.last_channel && "other" != e.last_channel) updateBucket(score_obj, "last_channel", e.last_channel)\n            else {\n                e.last_channel = "other"\n                for (var i = 0; i < queryPaidParameters.length; i++)\n                    if (getParameterByName(queryPaidParameters[i], URL)) {\n                        e.last_channel = "paid_search"\n                        break\n                    } if ("other" == e.last_channel) {\n                    var o = getParameterByName("tl", URL) || ""\n                    0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.last_channel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.last_channel = "display")\n                }\n                updateBucket(score_obj, "last_channel", e.last_channel)\n            }\n     window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n        }\n\n       \n\n    function check_pageview_metrics() {\n     \n            var e = getParsedCookie("v_reco_data"),\n                i = JSON.parse(JSON.stringify(e.distinct_page_visits || {})),\n                t = 0,\n                n = !0,\n                a = !0\n     var hostname=window.location.host\n      if(hostname.indexOf("www.")>-1)\n        hostname=hostname.replace("www.","")\n    var pathURL = hostname+window.location.pathname\n           i[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n            for (var s in i) t++ \n          2 > t ? updateBucket(score_obj, "distinct_page_category_visit", "leq1") : 2 == t ? updateBucket(score_obj, "distinct_page_category_visit", "eq2") : 4 >= t  ? updateBucket(score_obj, "distinct_page_category_visit", "g2_leq4") : 7 >= t  ? updateBucket(score_obj, "distinct_page_category_visit", "g4_leq7"): t > 7  && (updateBucket(score_obj, "distinct_page_category_visit", "g7"), t > 8 && (a = !1)), a && (e.distinct_page_visits= i,/*setCookie("v_reco_data", e)*/window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n)\n      \n       \n        }\n        function check_visitor_type() {\n            var e = getParsedCookie("v_reco_data")\n            e && updateBucket(score_obj, "user_type", e.user)\n          \n        }\n\n        function init() {\n            var e = {},\n                i = {},\n                o = {},\n                r = {},\n                t = {},\n                n = {},\n                a = {},\n                s = {}\n            if (addDimension(s, "always_on", weight_value(-3.306582, 1)),\n\t\t\taddDimension(i, "leq1", weight_value(0)), \n\t\t\taddDimension(i, "eq2", weight_value(1.508367)),\n\t\t\taddDimension(i, "g2_leq4", weight_value(1.029871)),\n            addDimension(i, "g4_leq7", weight_value(1.56582)),\n            addDimension(i, "g7", weight_value(2.044301)),\t\t\t\n\t\t\taddDimension(o, "leq2", weight_value(0)), \n\t\t\taddDimension(o, "g2_leq39", weight_value(-0.404559)),\n\t\t\taddDimension(o, "g39_leq97", weight_value(1.405763)), \n\t\t\taddDimension(o, "g97_leq198", weight_value(2.783377)), \n\t\t\taddDimension(o, "g198_leq379", weight_value(3.148884)),\n\t\t\taddDimension(o, "g379_leq811", weight_value(3.724427)), \n\t\t\taddDimension(o, "g811", weight_value(3.744194)),\n\t\t\taddDimension(r, "leq70", weight_value(0)), \n\t\t\taddDimension(r, "g70_leq350", weight_value(-1.815608)), \n\t\t\taddDimension(r, "g350", weight_value(-1.578297)),\n\t\t\taddDimension(t, "new", weight_value(0)), \n\t\t\taddDimension(t, "returning", weight_value(0.487317)), \n\t\t\taddDimension(n, "mobile", weight_value(-0.203041)), \n\t\t\taddDimension(n, "misc", weight_value(0.869351)), \n\t\t\taddDimension(n, "tablet", weight_value(-0.672452)), \n\t\t\taddDimension(n, "desktop", weight_value(0)), \n\t\t\taddDimension(a, "paid_search", weight_value(-0.281859)), \n\t\t\taddDimension(a, "display", weight_value(0)), \n\t\t\taddDimension(a, "other", weight_value(-0.227608)), \n\t\t\taddDimension(score_obj, "distinct_page_category_visit", i), \n\t\t\taddDimension(score_obj, "new_session_duration", o), \n\t\t\taddDimension(score_obj, "new_session_duration_configurator", r), \n\t\t\taddDimension(score_obj, "user_type", t), \n\t\t\taddDimension(score_obj, "device_type", n),\n\t\t\taddDimension(score_obj, "last_channel", a), \n\t\t\taddDimension(score_obj, "intercept", s), \n\t\t\tcheck_device_type(), \n\t\t\tcheck_pageview_metrics() ,\n\t\t\tcheck_channel(),\n\t\t\tcheck_visitor_type(),\n\t\t\tcheck_configurator_session_duration(),\n\t\t\tcheck_session_duration(), \n\t//\t\tgetCookie("bmwdtm_hq_sid")\n               window.epaas.api.getPersistence("bmwdtm_hq_perf"))\n shouldSendScore = !0\n            else {\n                setTimeout(function() {\n                    shouldSendScore = !0\n                }, 3e4)\n            }\n        }\n        var score_obj = {},\n            shouldSendScore = !1,\n            isScoreSame = !1,\n            shouldCalculateScore = !0,\n            shouldDisplayScore = !1,\n            URL = document.location.href,\n            rawScore, finalScore, prevScore, queryPaidParameters = ["wt.mc_id", "bmw", "WT.mc_id", "gclid", "utm_campaign"]\n        window.addEventListener("score_visitor", listener), _satellite.getVar("setUserTypeForReco"), init()\n    }()\n} catch (err) {\n    _satellite.logger.error("Error in Visitor Reco Script ", err)\n}',language:"javascript"}}]},{id:"RLa69db286cec041508b7e47a3c02ae3ad",name:"TPT - UK - AEM - Facebook - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1bf30c8f4db847d599ff874f4dc80b00-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC130cda832f974ab1b525ba24ae5b44a0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7052fc9d2a084ebc9c070e66e359712a",name:"TPT - UK - AEM - GTagDC - iFrame Forms Oli FS Invoice Copy - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_oli_fs_invoice_copy"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa7a50231cbee4d95ae9026928f87d5ec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa72f8960029b42028491e2b27670fea1",name:"TPT - NL - AEM - Facebook - iFrame - RFS Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC881affb03d7e4a54804316b16befb2f6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL922f9076927d47c396333d4e0f45f3ad",name:"TPT - NO - AEM - Doubleclick - Histrory Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC95d95e0c268d426a8e85a89150d48104-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL62a56580baa64d828a6c6c63c5a823a4",name:"TPT - PL - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0c462c2900bf45258c9386c6e4553464-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5f28a6e0a4b34834a350e312fb9440f4",name:"TPT - BG - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC892d6be320674347b143a9e664d0afe2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL539c35ea1f4548a48bd204ba3374efbc",name:"TPT - PL - AEM - Adform -Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0ee66713433b4ae691bb86dbadeb96f5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8a112670843141ceb52b101017fc1c87",name:"TPT - UK - AEM - GTagDC - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4a8c8dfb9651484394ccc6e0828d0fe7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL042b5332e8054f50a3071c073e23ae8c",name:"TPT - RO - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCea3485b4592d46c789798bfd9f4efc0f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb7ee58a7d8a0453d8e1f7b3e040d7d3d",name:"TPT - UK - AEM - GTagDC - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC69f21282df7946019b987ec84781d9de-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5275cc9c044943f9aae277e40c078035",name:"TPT - PT - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC08055e3c2abf4240babecae1aea46e56-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe476c3abb107420885647f8c63e22529",name:"TPT - UK - AEM - GTagDC - iFrame RFS Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3e6b9dd8752e4c5bb894b0a1b051c09a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC39e68ad281e149aeb088a7fddc0f5faa-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC44f298df34f540a18b48034ddfbdcc0f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC029545b6842c4489803debeb77ff6d31-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf6bf5bc4038c40b2b6a888aac80a8c89",name:"TPT - GR - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1b2a90f674584c15a82fc29cd3e590ee-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL01f0b4d027744ec48effd24d2ba388ed",name:"TPT - HU - AEM - TradeDesk - iFrame Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC51d8fba6b19c4002b2073c9543f5722b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL309b31486ad24ec2818a937ae7aa2393",name:"PLR - ALL - NSC - AA - share Campaign with IUCP",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'try {\n    \n    function checkCampaignParameter(){\n      if (window.location.search && window.location.search != "") {\n        var campaignParameter = window.location.search;\n        campaignParameter = "campaignParameter:" + campaignParameter;\n        _satellite.logger.log("**INCOMING CALL TO IUCP, over**");\n        //var iframeContent = document.querySelector("#iframestage__columncontrol__par-4col__iframeadaptive");\n        var iframeContent = document.querySelector("#iframepar__iframeadaptive");\n        if(!iframeContent){\n          iframeContent = document.querySelector("#externalContentIFrame-iframeintegrationadaptive");\n        }\n        iframeContent.contentWindow.postMessage(campaignParameter, \'*\');\n      }\n    }\n\n    //&& self.location.href.indexOf(\'usedcar\') > -1 && (_satellite.getVar(\'topLevelDomain\') == "bmw.co.kr" || _satellite.getVar(\'topLevelDomain\') == "bmw.de")\n    if (self == top) {\n        self.addEventListener("message", function (event) {\n            //if (event.origin != "https://bps.bmw.com" && event.data != "IncomingCall") {\n            if (((event.origin.indexOf(\'bps.bmw.com\') < 0) && (event.origin.indexOf(\'mn.mini.com\') < 0)) && (event.data != "IncomingCampaignCall")) {\n                return;\n            }\n            _satellite.logger.log("**MESSAGE RECEIVED**");\n            checkCampaignParameter();\n        })\n    }\n} catch (e) {\n    var errorOrigin = {\n        from: "TPT",\n        type: "Rule",\n        name: event.$rule.name\n    }\n    _satellite.logger.error(e, errorOrigin);\n}',language:"javascript"}}]},{id:"RL9a5afd9fabd04780b1aa9424ad0f1a49",name:"TPT - ID - AEM - Facebook - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0d65ca793ebd468692bdf25945a5ecd0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf9db82f2add642b7add3c29df4e79d9e",name:"TPT - LU - AEM - DoubleClick - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2aefa04e1f0a48569656d2b5481b028a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0f15c79105bb4276a49695393fd5f0f3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb3c72055379c4180ab50bf5a6f8e0aec",name:"TPT - NL - AEM - GTag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC784031079b82449e8f8343bc2c34ccc9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8a6e18ba6aa94e9a872e525a9a13b433",name:"TPT - BR - AEM - Adwords - Dealer Locator - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-dlo-search--button-container",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Pesquisar"===$(".ds2-dlo-search--button-container button").text()}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCaf98323aac394bf4a8c5100c103f76b2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL846b4e481ae941e2a324f394cc9e55ca",name:"TPT - BE - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:200}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1fdba536234041f3ad6685dae121b1cd-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8cee6113ad6a455c81274370aa2a4701-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb17ee448c3cb47869cbd081f6312e150-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC35a6ba1fe68141b4b8108a492d24fcef-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd0b8f583cd8a4800a09d602aaa44d8e8-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf51ddfbfa8a94d70ace4e73e7435e0b3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42c1474b3a5847938937dabdd6b1ab70",name:"TPT - BE - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC95a05a4a720f43cfb994b20d992add9e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLabd0ba48d0bb4e03b2b8a2f24ab77fcb",name:"TPT - MY - AEM - Adform - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb99f928db04d4a16b971f61609f08817-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0655e0add6a9475f84e62fd00917d647",name:"TPT - KR - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.kr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8b86d08b6e8f45ee95275d52cf86b51a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL972bd77b5fdf403eb36f44a75396680c",name:"TPT - LU - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0483397065d04686b1275216ae8aa00a-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb0d9ef7c737e46b1888a02e440a8bbc1-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC621ff810f4c74d7ba3cf35005ce535ea-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8ad420a114774790aae0ebf42582add3",name:"TPT - GR - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"GR"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd775346e980e4d2a9c1d12d4e06ac913-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a5f68345a4a4bdb814c5294d2410eea",name:"TPT - AU - AEM - GTagDC - Finance Offer - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"(/nosetupfees)|(/topics/offers-and-services/promotions/no-setup-fees.html)",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1b56f9fc2cfe4f92a8177e649871bef5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL23923286f0764ff58cdf67a46d08eedc",name:"TPT - BG - AEM - FX Chat - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},
ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3cbbb7324ebb4cafa1b7da1dda871913-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa114a9efa04f48b0a65975f1f5f84f7c",name:"TPT - NO - AEM - Adform - Services & Accessories - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/offers-and-services/bmw-tilbehor.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe9093fe3b8ba4ca6b922c9c92b1cba77-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL53dab07c0d7d40ac8be522825c2ea17f",name:"TPT - NO - AEM - Adwords - Book Wheel Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.no/no/ssl/finn-bmw-forhandler.html"].button.standard.expand.ds2-tracking-js--event.ds2-accessibility',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/autumn-winter-accessories.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa94f1b43468b42e29a253981e2234d23-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3945f4077500409687b8f7f432ab391e",name:"TPT - DE - AEM - Psyma User Survey - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de$",valueIsRegex:!0},{value:"m156.bmw-int1.com"},{value:"m14.bmw-int1.com"},{value:"m156.bmw-int\\d+.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc96b95e5fb694ff5ac6a7bf94a56b97d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL68688f3570364cb2a4434baf016a117e",name:"TPT - DE - AEM - Outbrain - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC91ac0b4de2a74244952a2ad205a914c6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5771e54ef8164746b3c72a2ba9a5269d",name:"TPT - UK - AEM - Adform - iFrame Motability Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i2662_rfc.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa81ea6d6038043b7a642ffacf37c6ec3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc370323696cb4fa88e6dd25d84aa1f3d",name:"TPT - BG - AEM - Adform - Adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC44d506cba3f9446c9db0ff23d527683c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL876da6e91d744bc4a6e8edbfb4a18809",name:"TPT - IE - AEM - Adwords - Build and Price - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Build and Price"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe1d5eae578e64c68986d95356d3e6da2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL82ebbd34cdec4a1b8930a0135c800159",name:"TPT - GR - AEM - Trade Desk - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1164319c5eb44eceab8339ff47528e61-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL93a1131434584f1e875fa6da462bff63",name:"TPT - JP - AEM - Adform - iFrame TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7f2559b17623426fbfe1260277ec46b4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa50dee289c444a088039d5fd190d07a2",name:"TPT - CH - AEM - Adwords - SaveConfig - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[data-bm-safe-click="saveVehicleToGarage()"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/configurator"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb10430ace6664eeeaf257493864f7bf9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0c24989621444f31b410e1cf977ed795",name:"TPT - SI - AEM - DoubleClick - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7c781a7607a04f96a27acf146d576695-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL328dd2939a074213beae96477067acc6",name:"TPT - CZ - AEM - Adwords - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC67ac2cb91a254828913e5b6445b17a88-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf163299b989c4ce6b7b52498f219de5e",name:"TPT - SG - AEM - Adform - E- Offers and services - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"div.ds2-detail--interactive.large-6 > div > ul > li > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger-third-party",(function(t){t.detail&&e()}))}catch(e){_satellite.logger.error("TPT: Finance Offer ",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"SG"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/original-bmw-accessories/ace2.0.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5bc6802caf84433e842a0932865ac3dd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbe525bb679f942bf8b256f4882f7aef9",name:"TPT - SG - AEM - Tradedesk - All Pages - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/online-service-booking.html",valueIsRegex:!0},{value:"/en/ssl/auto-service-booking.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/service-maintenance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/latestpromo.html",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/contact-BIS.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-services.html",valueIsRegex:!0},{value:"/en/ssl/find-a-retailer.html",valueIsRegex:!0},{value:"/en/ssl/contact-pml.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/ubi-service-centre.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/bmw-care-packages.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers-bis/care-packages-bis.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCce2482b0f8e44cdb9c0e839b71bc2986-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL24f53c6a13c64443aada5eb68baa0482",name:"TPT - DE - AEM - GTagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC21eff61b298945b79a6339f435578e02-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4de44f4c9f744b6ea4f7f71b3db656b3",name:"TPT - SK - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7df7a02e9d12443a8526a70e13bba833-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4deacfe4b16d4ea49a853faecff8f179",name:"TPT - UK - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC54e8a10aaa6f4b9a96f4a6dac6e15339-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbc5950e218d14e9b8833eb1cfd6a9969",name:"DCR - ZA - AEM - AA - Mood Configuration",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"mood_pre_configuration_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.effect"),n=s.get("event.-1.attributes.relatedPageName",s.get("page.pageInfo.pageName")),r=(s.get("event.-1.category.subCategory01"),s.get("product.-1.attributes.fuelType")),i=_satellite.getVar("smartPreviousValueManager"),c=["vehicle","service","search","accessory"];-1!=r.indexOf("|")&&(r=r.replace(/\|/g,"~")),_satellite.getVar("setDefaultVariables",e)(t),t.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,t.prop41=s.get("component.-1.category.componentType"),t.prop45=s.get("component.-1.category.componentVersion"),t.prop56=a,t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop53=s.get("event.-1.eventInfo.type"),t.prop12=s.get("event.-1.eventInfo.timeStamp"),t.eVar34=-1==o.indexOf("nsc >")?"nsc > "+o:o,t.prop52=s.get("event.-1.eventInfo.cause"),t.prop54=s.get("event.-1.category.primaryCategory"),t.prop55=s.get("event.-1.category.subCategory01",s.get("event.-1.category.subCategory1")),t.eVar71=s.get("event.-1.attributes.requestedURL"),t.prop44=s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID"),t.prop27=s.get("event.-1.attributes.linkedPage.pageInfo.pageID"),t.prop13="bmw";var d=s.get("product.-1.attributes.internalCode"),l=s.get("product.-1.attributes.engine");if(l){var u=/[0-9]{3}[a-z]{1}/i,b=/xdrive[0-9]{2}[a-z]{1}/i,m=/sdrive[0-9]{2}[a-z]{1}/i,p=l.match(u)||l.match(b)||l.match(m);l.indexOf("i3 (120 ah)")>-1||l.indexOf("i3 (120ah)")>-1||l.indexOf("i3 120ah")>-1?l="i3 (120 ah)":l.indexOf("i3s (120 ah)")>-1||l.indexOf("i3s (120ah)")>-1||l.indexOf("i3s 120ah")>-1?l="i3s (120 ah)":p&&p.length&&(l=p[0].toUpperCase())}var g=_satellite.getVar("setDefaultProductVariables");g.id=s.get("event.-1.attributes.linkedProduct.productInfo.productID",s.get("product.-1.productInfo.productID"));var f=s.get("product.-1.category.subCategory1");c.indexOf(f)>-1?g.category=f:g.category="datalayer field missing",g.merchEvars.eVar58=l,g.merchEvars.eVar10=d,g.merchEvars.eVar56=r,t.products=g.toString(),t.prop59=s.get("product.-1.attributes.configID"),t.eVar59=s.get("product.-1.attributes.configLink"),"interaction"==a?(t.events=t.apl(t.events,"event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918")):"error"==a&&(t.events=t.apl(t.events,"event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931,event932")),t.linkTrackVars+="prop41,prop44,prop43,prop42,prop45,prop56,prop57,prop58,prop53,prop12,eVar34,prop52,prop54,prop55,eVar71,prop27,products,prop59,eVar59,prop1,prop13,prop19",i.update("pageName",t.prop1)}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Pre configuration",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL01eef5de8c6e420d9e85f9e60b23be3a",name:"TPT - UK - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe24d53d656e64f3e9bce9bb49e34778d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL31699fa76339429a97e19580cbdce069",name:"TPT - NL - AEM - Facebook - localform - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];console.log(s),console.log(a),"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa86dc08a82e444e9a465a5402c8a434d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc28da4c7735a4068a19f02eccc2c1e37",name:"TPT - GR - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb82b461fe1094ff3b28b3fd5e511354d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL12e382f3e168411aa09e98c2226fb97b",name:"DCR - All - AA - Custom Code - JS error tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"track_js_error"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=["bmw.ch"],t=_satellite.getVar("topLevelDomain");return e.indexOf(t)>-1}catch(e){var s={from:"AA",type:"Rule",name:"DCR - All - AA - Custom Code - JS error tracking"};_satellite.logger.error(e,s)}}}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t);var s=e.detail;t.prop56="error",t.prop53="component",t.prop57="call",t.eVar34=s.message,t.prop52=s.filename,t.prop54="js error",t.prop58=s.lineno,t.eVar71=s.filename,t.linkTrackVars=t.apl(t.linkTrackVars,"prop12,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,eVar34,eVar71"),t.events=t.apl(t.events,"event933"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Error Tracking",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLd7545e9411e5436e85dbb4052e46cfb5",name:"TPT - UK - AEM - Adform - iFrame TDA Download Forms - DCR - p15r[l] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC21c0748bfd2241829d03c283e708277e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf2dde657986a425a9ab7ecbfd4ff6d8f",name:"TPT - BE - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbb33d0af7a424b0fb627b6a58e6683ce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL26208d9d3eb74305aa2ec1cd37c568f5",name:"TPT - UK - AEM - Xandr - RFI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4de77e134c594f00bab540874f498300-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc77bd2bf06704dbebe6c5b266ff5ec5c",name:"TPT - AU - AEM - Verizon - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7c62c07a8ec2417eaf8b2d9b8abea83a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL37954397ed244872afd3a35703233367",name:"TPT - BG - AEM - GTagDC - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfb694279d21f4c33bdcc655496c03830-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa29410bd374448d2a4dbad52559af5db",name:"TPT - ZA - AEM - DoubleClick - Test Drive - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"form[id='bmw-form formstrap']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.za",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/G05/2018/testdrive",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5c60ae46752247819732079533a30afc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa9180d3f6e0d42e18a6264a5fdf34041",name:"TPT - IE - AEM - Gtag_DC - 5 Series Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/brochure-download.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5738708848e14ed58f7025d2594d7778-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCed8fee610a704dcfa186473c950f2412-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL784890ab931147e0ad1a843d7d886df8",name:"TPT - JP- AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC718eaba8f50547ad94ce7fa8f9c2b085-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2ea0c0f8c3f34686a8096516cf0de073",name:"TPT - BR - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd6279209780b4f268a43bf6516e774df-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL81cff8b97cfb4b488f0cd0404c82e5d2",name:"TPT - DK - AEM - Adform - Firmabil Other Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:".ds2-buttonlist--item.ds2-buttonlist--max-width",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-accordion--list-item",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Bestil pr\xf8vetur i den BMW du dr\xf8mmer om",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/firmabil.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb2978bec3aa44c559ddf78c25972d8d6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL13f6e2c964bd462c92cde0d5a69e1cc8",name:"TPT - PL - AEM - DoubleClick - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC897f395493ec4dc2a5fc5876c39f9b63-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc79a3b98d1f347b8b7b9b6fb06fe6a9e",name:"PLR - AT - Showroom page - Adobe Target - Save Models Viewed",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:41}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/all-models",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc9a76c3e9ef845b0976009d2583c2707-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa1b03ff5eabc4925bce73589820cf9ad",name:"TPT - IE - AEM - QuantCast - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf4b26a48b961437986befcd817b05d70-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbb4e3813ec8e4b3eafcf3cbc57df805c",name:"TPT - IE - AEM - DoubleClick - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC999a51231f2e4c8292fc3567e718b41c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb512a84061a446cb92c3cac2f95ae0ca",name:"TPT - RO - AEM - GTag_DC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC01dcbcaa0050435c9e7ee4bf7998c216-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL457bf77cc3e94c8ba92b952fb545b95e",name:"TPT - SK - AEM - IgnitionOne - TDA Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd36dda5c88e0480d8820554a7134e869-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL73605ea32b8e4acd9ef288898b2343e7",name:"PLR - ALL - NSC - AA - localform2.0 eventlistener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"try {\n    //DEEP Merge Code Start\n    function isMergeableObject(val) {\n    var nonNullObject = val && typeof val === 'object'\n    return nonNullObject\n        && Object.prototype.toString.call(val) !== '[object RegExp]'\n        && Object.prototype.toString.call(val) !== '[object Date]'\n    }\n    function emptyTarget(val) {\n        return Array.isArray(val) ? [] : {}\n    }\n    function cloneIfNecessary(value, optionsArgument) {\n        var clone = optionsArgument && optionsArgument.clone === true\n        return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value\n    }\n    function defaultArrayMerge(target, source, optionsArgument) {\n        var destination = target.slice()\n        source.forEach(function(e, i) {\n            if (typeof destination[i] === 'undefined') {\n                destination[i] = cloneIfNecessary(e, optionsArgument)\n            } else if (isMergeableObject(e)) {\n                destination[i] = deepmerge(target[i], e, optionsArgument)\n            } else if (target.indexOf(e) === -1) {\n                destination.push(cloneIfNecessary(e, optionsArgument))\n            }\n        })\n        return destination\n    }\n    function mergeObject(target, source, optionsArgument) {\n        var destination = {}\n        if (isMergeableObject(target)) {\n            Object.keys(target).forEach(function (key) {\n                destination[key] = cloneIfNecessary(target[key], optionsArgument)\n            })\n        }\n        Object.keys(source).forEach(function (key) {\n            if (!isMergeableObject(source[key]) || !target[key]) {\n                destination[key] = cloneIfNecessary(source[key], optionsArgument)\n            } else {\n                destination[key] = deepmerge(target[key], source[key], optionsArgument)\n            }\n        })\n        return destination\n    }\n    function deepmerge(target, source, optionsArgument) {\n        var array = Array.isArray(source);\n        var options = optionsArgument || { arrayMerge: defaultArrayMerge }\n        var arrayMerge = options.arrayMerge || defaultArrayMerge\n        if (array) {\n            return Array.isArray(target) ? arrayMerge(target, source, optionsArgument) : cloneIfNecessary(source, optionsArgument)\n        } else {\n            return mergeObject(target, source, optionsArgument)\n        }\n    }\n    //DEEP Merge Code Ends\n  \n  \n    window.addEventListener('message', function (e) {\n      if(e && e.data && typeof e.data == \"string\" && e.data.indexOf('tracking-localform') > -1){\n        _satellite.logger.log(\"Localform: message received\");\n        try {\n            //Avoid JS error\n            if (e.data.charAt(0) == \"{\") {\n                var dlParam = e.data;\n                dlParam = JSON.parse(e.data) || {};\n                if (dlParam && dlParam.methodName && dlParam.methodName == \"tracking-localform\") {\n                    dlParam = dlParam.args[1];\n                    \n                    var oldDL = _satellite.getVar('finalDataLayer');\n                    var newDL = dlParam;\n                    dlParam = deepmerge(oldDL,newDL);\n                    \n                    dlParam['component'] = JSON.parse(JSON.stringify(newDL['component']));\n                    dlParam['event'] = JSON.parse(JSON.stringify(newDL['event']));\n                    \n                    _satellite.track('localform', {\n                        'webDL': dlParam\n                    });\n                }\n            }\n        } catch (err) {\n            var errorOrigin = {\n                from: \"AA\",\n                type: \"PLR\",\n                name: \"localform2.0 eventlistener\"\n            }\n            _satellite.logger.error(e, errorOrigin);\n        }\n      }\n    });\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: \"localform2.0 eventlistener\"\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"}}]},{id:"RL66b6bacb33b04218bc4c66733db52025",name:"TPT - IE - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC67359bc993654dfd93014d7fc6c609c8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0eaa6cab01f643e98e051c471b4ea54d",name:"TPT - AU - AEM - MathTag - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCde156bdfefa24048a03fe6de3af7aef2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf9d480e822704c6985dd6fa22841bd66",name:"TPT - BR - AEM - TikTok - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC25e9527bbb63487ab21e7fab4b6c173f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42e44fac91ca4538b8353e91839d5918",name:"TPT - RO - AEM - DoubleClick - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCaaa33d0976d84c6f86924fd3c9bd4dd5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL29cac8bc89af4073b01227b75abc2f1f",name:"TPT - SK - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC07c284614efb4c36ba386db9c2040a5b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL67f41465796c42e0be9b50438d0fa3ff",name:"TPT - CZ - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb1a03ef0972d4cbebe58a5f20ec746ad-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a3d9b25e1da431c96f049a25c4a59ef",name:"TPT - DK - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC68ab03f1faf048f88a96f63486452a35-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8fa3ec841fac409f813c18abfb70fde1-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9b95e1010d644853ab2d87ce561219e0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL79904bac707a44adbdf4b6cf216e832f",name:"TPT - AT - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc43d486a325c48cc9c6ce39c4220bfb9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfdf460f7c74c4e22bbb57f05aa165fb6",name:"TPT - DE - AEM - Outbrain - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC90ae0e1501974e7488a22a7471780a1e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4d46f6187b904e8a946719624f76a049",name:"TPT - HU - AEM - Facebook - forms_simulated_page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0970cbff75994baa9be878214f212ec3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa83a83d957be4d2eb14ec0721151e742",name:"TPT - IE - AEM - GTagDC - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC69fcbf98e13b42db8814ee443ced6ebf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL62cdf04a5daf4b73b6f0aff45750a10b",name:"TPT - CA - AEM - Adwords - All pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfbcfd27065a849afa4ca5f6d7612e935-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL23ec963d60d14463841a2db395668c3f",name:"TPT - IT - AEM - Adword - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".js-track-download",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC08c34cc8702945ea8ce9ad36729df562-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd4e24c088712444ebcc1c48a595d313e",name:"TPT - AT - AEM - LinkedIn - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd5b6b1f2a1ec4c768ace16649cbef3b6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL595954fb63b744ec9ed7da0113bec057",name:"TPT - SI - AEM - DoubleClick - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdeff71ea5d5243618096ac327dd188f8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5785cfe3426740d4bf3f6ade2e442d89",name:"TPT - DK - AEM - Adform - Outbound Click - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/tilbud/kampagne.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7cccdc58d2e64fc0b9826f54d96835db-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4f7407c8fd5349b9a111532e65638c4b",name:"TPT - DE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf0619c06d35f4ea8a132c34a06dc7543-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCda3e41e269e74b1bbce21eb31f3017db-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3da0eeece49342bfa6a79b8a2c461c02",name:"TPT - All - AEM - Usabilla NPS 3.0 version - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NPS"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),s=t[t.length-1].toUpperCase();if("UK"==s&&(s="GB"),"COM"==s&&window.location.href.indexOf("bmw.com/en-au/")>-1&&(s="AU"),-1==["DE","GB","JP","IT","FR","ES","RU","KR","AU","NL","AT","CN","ZA","CA"].indexOf(s))return _satellite.logger.log("Returning false as it is not a NPS 3.0 market"),!1;var a={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:0,Psyma:30,Other:58}},GB:{buttonCode:{DESKTOP:"344487c265ed",MOBILE:"20bbdbc71ef3"},NPS:{DESKTOP:"9f455d2a3f1c",MOBILE:"59c2f57087a8"},CES:{DESKTOP:"d8e35ac4209c",MOBILE:"b435abb11ac3"},random:{NPS:25,CES:0,Psyma:20,Other:55}},JP:{buttonCode:{DESKTOP:"92977586f250",MOBILE:"d84bdb2f1964"},NPS:{DESKTOP:"85a49479c91e",MOBILE:"101f944c997e"},CES:{DESKTOP:"7552071ac07b",MOBILE:"f25819ad1a04"},random:{NPS:13,CES:0,Psyma:0,Other:87}},IT:{buttonCode:{DESKTOP:"88ab5d53da60",MOBILE:"8e1a4fcc286b"},NPS:{DESKTOP:"c4a8ccbec600",MOBILE:"73fa346d403b"},CES:{DESKTOP:"0aae4c00330a",MOBILE:"ace839b972fd"},random:{NPS:10,CES:0,Psyma:20,Other:70}},FR:{buttonCode:{DESKTOP:"3bf8867012f2",MOBILE:"951604100fda"},NPS:{DESKTOP:"53a5a4717277",MOBILE:"142a6bc45942"},CES:{DESKTOP:"4d3f63b653fb",MOBILE:"aeaa7d432539"},random:{NPS:10,CES:0,Psyma:0,Other:90}},ES:{buttonCode:{DESKTOP:"8445c5a2cf12",MOBILE:"3008841f7269"},NPS:{DESKTOP:"7e88e6163a4c",MOBILE:"cd793f80bda6"},CES:{DESKTOP:"879b46cf88f5",MOBILE:"4ac2bb513106"},random:{NPS:13,CES:0,Psyma:0,Other:87}},RU:{buttonCode:{DESKTOP:"92772dbeabd8",MOBILE:"dbbd8c96c68a"},NPS:{DESKTOP:"3cda55b4e6d0",MOBILE:"a0870a2972f6"},CES:{DESKTOP:"1db9cb311c93",MOBILE:"a003194dfdc8"},random:{NPS:15,CES:0,Psyma:0,Other:85}},KR:{buttonCode:{DESKTOP:"4583de3025fe",MOBILE:"51af9d4cb9c0"},NPS:{DESKTOP:"10ff397b6d5f",MOBILE:"95decc55e2ef"},CES:{DESKTOP:"635e47f55055",MOBILE:"93d523f3d22d"},random:{NPS:25,CES:0,Psyma:0,Other:75}},AU:{buttonCode:{DESKTOP:"c8476b2d62dd",MOBILE:"d4b7a77bec58"},NPS:{DESKTOP:"e77a23160463",MOBILE:"882cd879928f"},CES:{DESKTOP:"343b84a4e928",MOBILE:"fd25e25af4f3"},random:{NPS:20,CES:0,Psyma:0,Other:80}},NL:{buttonCode:{DESKTOP:"44b55d42df13",MOBILE:"08982312381f"},NPS:{DESKTOP:"2979a4502fba",MOBILE:"363c153bc496"},CES:{DESKTOP:"d29bcee79e5e",MOBILE:"fa3ac53564d7"},random:{NPS:25,CES:0,Psyma:0,Other:75}},AT:{buttonCode:{DESKTOP:"fd1b75fa05a4",MOBILE:"3d1326b2e2da"},NPS:{DESKTOP:"63dc33967e95",MOBILE:"d9969ae1bed5"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:30,CES:0,Psyma:0,Other:70}},CN:{buttonCode:{DESKTOP:"cd813f067481",MOBILE:"19b6fbe6d646"},NPS:{DESKTOP:"ac90b5319d03",MOBILE:"28642a3ff0e4"},CES:{DESKTOP:"71255a3f180f",MOBILE:"b67d3528c7ad"},random:{NPS:85,CES:0,Psyma:0,Other:15}},ZA:{buttonCode:{DESKTOP:"e76b03c4d193",MOBILE:"25da3549cea1"},NPS:{DESKTOP:"82d8573d931c",MOBILE:"e9ae4da2cac2"},CES:{DESKTOP:"c68833e0a2d2",MOBILE:"7c9b7e333fe0"},random:{NPS:50,CES:0,Psyma:0,Other:50}},CA:{buttonCode:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},NPS:{DESKTOP:"dcd573f5e4a1",MOBILE:"b9dd99081c4c"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:50,CES:0,Psyma:0,Other:50}},MX:{buttonCode:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},NPS:{DESKTOP:"f82528fdac10",MOBILE:"8ec1fdf9f06b"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},TR:{buttonCode:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},NPS:{DESKTOP:"189bcbdfa0ad",MOBILE:"6996786467b6"},CES:{DESKTOP:"",MOBILE:""},random:{NPS:99,CES:0,Psyma:0,Other:1}},PL:{buttonCode:{DESKTOP:"d3bfaa402165",MOBILE:"bf451d583c95"},NPS:{DESKTOP:"",MOBILE:""},CES:{DESKTOP:"",MOBILE:""},random:{NPS:0,CES:0,Psyma:0,Other:100}}};return"NPS"==_satellite.getVar("usabilla_randomizer")&&(null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e])?(npsValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0,noNPS)}catch(e){_satellite.logger.error(e)}}}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%topLevelDomain%",rightOperand:"bmw"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbe042b867e99434293af69b30db8a041-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa1eec1f3774b4c06af9e37ba94bae78c",name:"TPT - RO - AEM - DoubleClick - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC18af52e784e7463a893e38ff7324c6fa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL25b4a26272f94207a5971a35f1d8bef6",name:"DCR - All - AEM - AA - Onsite Search",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.linkTrackVars="events,",t.linkTrackEvents="",t.events="";var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.eventAction"),n=s.get("event.-1.eventInfo.cause"),r=s.get("event.-1.eventInfo.effect"),i=s.get("component.1.componentInfo.componentName"),c=s.get("component.-1.attributes.onsiteSearchResults"),d=(s.get("component.-1.attributes.onsiteSearchType"),s.get("component.-1.category.subCategory01"),s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName")));if(_satellite.getVar("setDefaultVariables",e)(t),t.prop56="search",t.prop53="content",t.eVar34="",t.prop51=i,t.prop54="onsite search",t.prop55=c,t.prop19="onsite search",t.prop42="nsc website",t.prop43="search",t.eVar136="2021 - 02- 19 onsite search",t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.prop13="bmw",t.prop1=t.pageName=-1==d.indexOf("nsc >")?"nsc > "+d:d,t.prop28="simulated page"==s.get("page.category.pageType")?"virtual page":"real page",t.prop44=s.get("component.-1.componentInfo.componentID",s.get("event.-1.attributes.relatedComponentID")),t.eVar134="web",t.prop53="content",t.prop24=c,t.prop57=s.get("event.-1.eventInfo.eventAction"),t.prop52=n,t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.evar71=o,t.events=t.apl(t.events,"event331,event332"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event331,event332"),"search intent"==r){t.prop56="search",t.prop53="content",t.prop52="default",t.prop57=n,t.prop51=s.get("event.-1.category.subCategory1"),t.eVar34=prefix+r,t.prop55=s.get("event.-1.attributes.searchResults"),s.get("event.-1.category.primaryCategory");var l=s.get("event.-1.attributes.searchTerm");t.events=t.apl(t.events,"event917,event918,event331,event332"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event331,event332")}s.get("page.category.primaryCategory").indexOf("Error")>-1?(t.prop56="error",t.prop53="web links",t.eVar34="nsc > "+d,t.events=t.apl(t.events,"event925,event926,event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event925,event926,event931,event932")):"More Search Results"==a&&(t.eVar34="nsc > onsite search more results clicked",t.prop55=t.prop24=r,t.events=t.apl(t.events,"event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918"));for(var u=s.get("component"),b=0;b<u.length;b++)if(u[b].attributes&&u[b].attributes.onsiteSearch&&"General"===u[b].attributes.onsiteSearch){var m="true";break}"true"==m&&(t.prop51=u[b].componentInfo.componentName,t.prop55=t.prop24=u[b].attributes.onsiteSearchResults,t.prop57=s.get("event.-1.eventInfo.eventAction"),t.eVar34="nsc > onsite search results shown",t.events=t.apl(t.events,"event925,event926,event331,event332"),t.prop44=u[b].componentInfo.componentID,l=u[b].attributes.onsiteSearchTerm,t.linkTrackEvents=t.apl(t.linkTrackEvents,"event925,event926,event331,event332"));var p=_satellite.getVar("searchDefaultProduct"),g=_satellite.getVar("setDefaultProductVariables");g.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),g.merchEvars.eVar53="new car",t.products=g.toString(),t.products+=",search;search;;;;"+p+"eVar30=datalayer field missing|eVar31=user selected|eVar32="+s.get("event.-1.attributes.onsiteSearch")+"|eVar33="+l,t.linkTrackVars=t.apl(t.linkTrackVars,"products,prop56,prop53,eVar34,prop51,prop54,prop55,prop19,prop42,prop43,eVar136,eVar17,prop13,prop1,prop28,prop44,eVar134,eVar34,prop24,prop57,prop52,prop58,eVar71")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Accessory Configurator",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL16069c2e2b2148f19e2309325e9f5885",name:"TPT - UK - AEM - GTagDC - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC216a7247ca994ecb888761a2a0e7a225-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL655d039cc40b49eab97f49c5fd8ef872",name:"TPT - PL - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCef5b2fbd0bc146158dd32ebc273cc52b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL38f1f92f0f5f4c899707620391d6838b",name:"TPT - UK - AEM - Xandr - RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2b15470b31ce4f41859e0cb55545a53f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5fd61d92a1d44b1d9be7f28cd1e91ec4",name:"TPT - All - AEM - Usabilla NPS 3 - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0},{value:"bmw.co.jp",valueIsRegex:!0},{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3db46c964c46482db0659d8e656374a8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3fe2a10e124c4418bdf9017bb7283288",name:"TPT - BE - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0b8b042c731043d683b63f269ca381e3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL68590b51101544799a0f84d2da97fa8d",name:"TPT - JP - AEM - Adform - iFrame RFI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf504c81b025f49f09dd3d25ab255c88c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6f590e17a0ef41408f83f54b5f98dd0f",name:"TPT - JP - AEM - Adform - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.co.jp/ja/topics/service-and-accessory/accessories/catalog/downloads.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdc2f8c853f36480c84ff9744a85819af-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLca51c13be9614fd0835c6767c1d453da",name:"TPT - SI - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC57525d51eaeb48bcb3c883a8dc1f7388-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL83c5083a088c4decb2a8e69b433b0c32",name:"TPT - HU - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0b33fab4c7ef4f459fb174d873b26f7c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1ead0e0a64bf445ca53082332c615485",name:"TPT - RO - AEM - Adform - Adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC333b48421b184f929d63d8c0ebe1abfe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcca90a2083f348e69edd3da7d2746319",name:"TPT - AT - AEM - Adwords - SignIn - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbe646c27e305428c8a6c1db432c76fe8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL322c809768bf4d53879b1bd5e969c86d",name:"TPT - SK - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0c9271a5f4034502bdf9d15a9fdf6e74-source.min.js",language:"javascript",
isExternal:!0}}]},{id:"RL9d96c13b542c4ce097540eebb60d2f57",name:"TPT - DE - AEM - ContentSquare - Confirm Save Configuration - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"confirm_save_configuration"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC07f7cac849c541efa7f59e5ac2a1b994-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC50003b17fa214bf4ba910800a227afc3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5afe6b25871e4b198eb3d86acfc59c14",name:"TPT - FR - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"FR"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC33e1c43129194e1eabb29cab5e6e5f67-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL20fa0f46b1a14cedbe646a59c7020b1a",name:"TPT - LU - AEM - DoubleClick - History Change - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"m.bmw.lu",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e){if("fr-LU"==_satellite.getVar("pa_pag_language"))return _satellite.setVar("previousStepName",e),"Select Engine"==_satellite.getVar("pa_pag_pageName")&&"G31"==_satellite.getVar("pr_att_mmdr");if("de-LU"==_satellite.getVar("pa_pag_language"))return _satellite.setVar("previousStepName",e),"Select Engine"==_satellite.getVar("pa_pag_pageName")&&"G31"==_satellite.getVar("pr_att_mmdr")}}catch(e){_satellite.logger.log("TPT - LU - Custom Code condition")}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfaac7edfd2bf4a82b9bdb39f78c6f804-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd2ff69c6fa774f30846e75b5615084da",name:"TPT - BE - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC44ee7ea082324946b93719c0d0d80c01-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7e8b22caf66349208c32999ade6eedfc",name:"TPT - BE - AEM - Adwords - Adobe form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7938eccad3d74acc9562e6c5b7ace241-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL49c6ace3b2fc4335bd226070080b05ae",name:"TPT - IT - AEM - Usabilla - Adhoc Survey - Stock Locator - RFO Form Finish",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5268aa1f68b54eb986134d4d19806939-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5d575d8e0ed94311b67ad828b8e1fa1e",name:"TPT - BR - AEM - Facebook - Packages and Services - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-icon",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){return"Veja mais informa\xe7\xf5es"===this.innerHTML}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6017809dfb474418b4047c92fab52d43-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf195c1e330bd49e0a9416eebe494799b",name:"TPT - NO - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC15560b5b13874a608268070887b4d77e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe4a0803d7a49497a98733c3484e1fc56",name:"TPT - CH - AEM - Adwords - SummaryDownloadPDF - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[bm-safe-click="downloadPDFPrint($event)"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"contains"},leftOperand:"%pageInstanceId%",rightOperand:"/ssl/configurator"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2f5451863ca04fafa32136849aad8cd7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2f2080c0fbff4150b316a3a095a5f751",name:"TPT - SI - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa509256040344a318280e1f6288c546d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL852837b2f62f4d7fb8a203730311426d",name:"TPT - NL - AEM - Gtag - iFrame ROI Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"NL"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCce29d49a0c304cee8197596323615ec8-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC655994b7e68e4687bdd37816e5c251fa-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL45a696c41a484aa3bcea04a2fce42f20",name:"TPT - NL - AEM - GtagDC - Service Inclusive Form Completed - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4f28a573a7c14348a6c20704bfe9f2eb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0f33031027db4baaa788190bdf795db2",name:"TPT - FR - AEM - DoubleClick - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC12edd6c1b3ff4a9384cfc2152edbad6c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL42f48d262562494a8bb499985c73ee30",name:"TPT - MX - AEM - Applink - Multiple - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC33692eb3f91c4c00b193d0506225d4ce-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL437477b0819141faa0cbd832e4543ea7",name:"TPT - NL - AEM - Adwords - My_BMW_Registration - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return"button expand"==this.className}catch(e){_satellite.logger.error("TPT - AT Custom condition floodlight - retriggering",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7ecfb757204346859461e035a9f0b542-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6a87fcab5bc949ffa08edd80b102a795",name:" TPT - IE - AEM - Gtag_DC - PHEV Build now Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://configure.bmw.ie/en_IE/configure/G20/3SBO",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC14050635f05c46a5b8444e2e4ee5eca1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7110bf3f8b404c01b97db1c51e331753",name:"TPT - IE - AEM - Adwords - Scrape_Form_Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC56c6474d153f4ab9ae746e71cd813bba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa323e3fedd6e45f8889decf661934eb6",name:"TPT - IE - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9831adeb83d84efc8d284ec0ced4a83e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL159c923085664e4d827369e70d23c299",name:"TPT - IT - AEM - Adform - SignIn - SingUp - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0667dbb0bed647a7891c3989f8737ddd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2efac09bff6142729869ff485beb5ba6",name:"TPT - AT - AEM - Facebook - BMW Lifestyle Collection - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/content/dam/bmw/marketAT/bmw_at/topics/offers-and-services/bmwlifestyle2020/BMW_Lifestyle_Catalogue_2020_1.pdf.asset.1600159738677.pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/topics/offers-and-services/bmw-lifestyle-2020/bmw-lifestyle.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb4f325a2eb4c43208c193f6a97fcd62b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3ec5722df26248e6a108510b2e2f084f",name:"TPT - GR - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd9cbe2704c1d4f3f8d927d2d579b86d8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc7b811ced88947bc8ec0c34cf11726bb",name:"TPT - NL - AEM - Adwords - Local Form RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];console.log(s),console.log(a),"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf9e8b531bab64dfdacecad00b9847ae2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa6bb294fddaa45bd81c02d5e17779724",name:"TPT - HU - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf320d2db65a74b6997794a5167addb87-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLeedf078223134a7abbe28f9a2d4f76d1",name:"TPT - DK - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC69efe5b238764bb7b445b253517c639e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4379d1b723fe4c2cb35d5753da3338db",name:"TPT - HU - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe8baad4be5e9476380dfb7c636cf650a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL90ece6647a504fe09a1de0327cfd1e4a",name:"TPT - IE - AEM - DoubleClick - Brochure download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCabb5092fd47744108e1aa26787765db5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL16e91872e23c49408f083755060e552f",name:"TPT - IE - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:3e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC169ff6a3a4ec4356afe358a466d177a7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL542f6e6381a74dea86d3fa65fb7c2c47",name:"TPT - SI - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC444ba33a2df2440b95119f217128747f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf879e10ea1b44e379281094b96e10679",name:"TPT - DE - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9865841078fa4d15aa6f09e627a2982c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb28c042358c549cca7b04f7de3bfd415",name:"TPT - AU - AEM - GTagDC - BMW Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.bmw.com/en-au/offers-and-services/corporate.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe6022eaff89a46639081a42e07746081-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb4de944fe2ef45779fe80f6bc70b3071",name:"TPT - IT - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.it",valueIsRegex:!1}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa4d3830aec7a40718c4a07832295289f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa3a30e0f8c2a4710bb464de847d61e1d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL49e5802492b1492d99475463722ad889",name:"TPT - DE - AEM - Adform - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbcdcafc4edf940babb6336658e9fe72e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL615a14be1a904044bbdc5576a19e015c",name:"TPT - DE - AEM - Facebook - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe27f657f24f34240b3ff7901ad3c72f8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL638c8eda83f040f18ac79435b437d573",name:"TPT - IE - AEM - Adform - Download Brochure - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Brochure Download']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCeef3f7d58d124f8c9e40b4d124a77d4c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL49e680f2915241909ffa5f7db4eee441",name:"TPT - TH - AEM - GtagAW - Link to Used Cars - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"usedcar.bmw.co.th",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3e4142c5ecf54a2893daca2d6718f708-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0a08ba975d074af58f6c9cbf0286d998",name:"TPT - SK - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC93cf2571e776450fbc70ee9f3e401b14-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL00d8740045b14a28bed6c66a6e854489",name:"TPT - LU - AEM - GTagDC - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4b3b1d9d797b421d91e34bf55b309249-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCabeda301d9ef4b6296130271352c0fc2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL66f029248f954f168250ba1d60b91e29",name:"TPT - SK - AEM - Adwords - Adobe Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4e93222748584c13af605cfb48637322-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL223119cf03c4456e989b517918e4351b",name:"TPT - IT - AEM - GTagDC - Iframe Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6f174e20e7d941b0b960fecd9bcb2e8c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa5d0cecbf91d4de9a470e75b498a8511",name:"TPT - BG - AEM - Adform - SignIn/SignUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC80aad6a5bc2f41b6b28c942400c5df8d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc4ea6dc80e714617b692294993b0af37",name:"TPT - AU - AEM - Adwords - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC28163c52b1ea41eaab3ce9a48a35f338-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL845a6b40f2424850bfac89ca8b2f93c9",name:"TPT - IT - AEM - GTagDC - Temp Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC89f0077cf41e488abdd01cd99ca67d21-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL83f095c4bea4468c9ae1fefc38b5a861",name:"TPT - IT - AEM - Facebook - iFrame TDA Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8b9b1354369e4f289aad5832e669ae10-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL234101f1b39f430dae8ab16821b91f0d",name:"TPT - SI - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdec59db694d44fcd81c141f77b0bd382-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL464741ea9d984e9bbec93917ab89726d",name:"TPT - HU - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9bcb73100ce34cf59249b56e0ce84ef2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL46d76febee30415f9afc8c0bbb986d7e",name:"TPT - BR - AEM - TikTok - RFO Form Submit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("addEventTracking")>-1){var s=JSON.parse(t.data),a=s.args[1];"addEventTracking"==s.methodName&&(_satellite.setVar("eventtracking",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pt/integration/solicite-uma-proposta.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC29dc9544af44415b9c0e75e4ba6eb8d4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9e842acd94e3494ca5e06da1e614aee7",name:"TPT - NL - AEM - Adform - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC41c7a9c399b7416f91fc87c3136995e8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5dbd23d15f1b4f34b0c5b5cc383dba9e",name:"TPT - AU - AEM - GtagDC - All Pages - PLR",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"<script>\n    var link = document.createElement('meta');\n    link.setAttribute('name', 'google-site-verification');\n    link.content = \"0xwevJ8XrUzoKI-zSytU8-AkqRNn93rdCfA0Rjyi4lw\";\n    document.getElementsByTagName('head')[0].appendChild(link);\n</script>",language:"html"}}]},{id:"RL726ba6424b444111a93b43794a47b6af",
name:"TPT - ID - AEM - Adwords - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC25bf193867aa4bb188f44aa59d93c0c1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL27e890a405ac4a24b619e91a6ee400d7",name:"DCR - DE - All Models -  Adobe Target - Send Visitor Reco",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"send_reco_value"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/neufahrzeuge",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC29355b79f5894cf397f07981a9a54e1a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd76e1f2d50cb4f10840e4ebc4dcfda35",name:"TPT - NL - AEM - IgnitionOne - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC076c98f4908743a2ab535af1da41cde0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe964f8b556554b3fbd6d2a0c023348a1",name:"TPT - SE - AEM - Salesbar - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb5fa00d6b69b420788a78c6046876b53-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL64b04b7bcc0a4441913c66ce7923e51e",name:"TPT - RU - AEM - DoubleClick - Started DLO - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0414\u0438\u043b\u0435\u0440\u0441\u043a\u0430\u044f \u0441\u0435\u0442\u044c"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC263896899188429794ff80ddd828592a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc658a9248b7a4c189f1da6e2a6031cce",name:"TPT - LU - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC221bf0ad69984c289d54d631a55e7162-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL36d1271aebf040db9fd2576a1e4b77ca",name:"TPT - IE - AEM - Gtag_DC - PHEV Get a Quote Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2a1e1d71275f432fa7d147650579d289-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb12cc14da86542cbb981fd226d41d39d",name:"TPT - MX - AEM - GoogleSearch - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5f21d62a56eb4f268714b7d5d183e8a0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4f76c8082e0e400e930f54575662de77",name:"TPT - ID - AEM - Facebook - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC29cda0426df547baa41a7d262caf1125-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41e07883979140f69b4e89aa9c28c1ed",name:"TPT - DE - AEM - Adobe Campaign Pixel - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCde2a56862d63471b99381a03750de9b8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL88129178e2e649139bae940fb1dac15d",name:"DCR - All - AEM - AA - Central Forms",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"error"},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Cat\xe1logo Lifestyle"],a[title="Ver colecci\xf3n"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/Content/RoadAhead/BMWFS0190_Lessee_Privacy_Engsml_May-2021.pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("page.category.subCategory01"),o=s.get("page.category.subCategory02"),n=s.get("page.category.subCategory03"),r=s.get("page.pageInfo.pageName"),i=s.get("event.-1.eventInfo.eventName"),c=s.get("event.-1.eventInfo.eventAction"),d=s.get("page.attributes.accessoryID"),l=s.get("product.-1.productInfo.productID"),u=s.get("transaction.transactionID"),b=s.get("page.attributes.accessoryName","generic"),m=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName");if("small_teaser"==m||"multicontent"==m||"new_pre_configuration"==m||"offers"==m||"line_component"==m||"new_gallery"==m||"highlight"==m||"uxs-highlight"==m)return void(t.abort="true");function p(){t.prop1="nsc > "+r,t.prop42="nsc website",t.prop43="forms",t.prop19="central form",t.prop56="form",t.prop6="central form",t.eVar41=s.get("page.attributes.dealerName"),t.eVar42=s.get("page.attributes.dealerID"),t.eVar39=s.get("page.attributes.outletName"),t.eVar40=s.get("page.attributes.outletID"),t.eVar20=s.get("user.-1.segment.userSelectedCountry"),t.eVar23=s.get("user.-1.segment.userSelectedPreferredContactMethod"),t.eVar24=s.get("user.-1.segment.userSelectedGender"),t.eVar25=s.get("user.-1.segment.userSelectedYearofBirth"),t.eVar26=s.get("user.-1.segment.userSelectedCurrentVehicle"),"Form Start"==r?(t.eVar34="nsc > form started",t.prop8="form started"):"Form Success"==r?(t.eVar34="nsc > form finished",t.prop8="form finished"):(t.eVar34=-1!=r.indexOf("nsc >")?r:"nsc > "+r,t.prop8=r),t.prop53="central form",t.prop11=t.prop54=a.toUpperCase(),t.prop10="dedicated forms",t.prop16=r,t.prop17=u}t.events="",_satellite.getVar("setDefaultVariables",e)(t);var g=s.get("product.-1.attributes.mmdr");function f(){var e=_satellite.getVar("setDefaultProductVariables").merchEvars;return window.location.href.indexOf("https://www.bmw.nl/nl/ssl/requests/rfo-bmw.html")>-1?e.eVar53="new car":e.eVar53=s.get("product.-1.category.primaryCategory"),e.eVar52=s.get("product.-1.productInfo.productName"),e.eVar60=s.get("product.-1.productInfo.manufacturer"),e.eVar10=g,e.eVar51=s.get("product.-1.attributes.bodyType"),e.eVar50=s.get("product.-1.attributes.serie"),e}function v(e){switch(e){case"Form Start":var o={RFA:"event3,event4,event29,event30",RFS:"event3,event4,event69,event70",RFC:"event3,event4,event33,event34",TDA:"event3,event4,event85,event86",RFO:"event3,event4,event61,event62",RFI:"event3,event4,event45,event46,event53,event54",CR:"event3,event4,event97,event98",Registration:"event93,event94,event3,event4"};t.events=t.apl(t.events,o[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,o[a]);break;case"Form Step":t.events=t.apl(t.events,"event7,event8"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event7,event8");break;case"Form Success":var n={RFA:"event15,event16,event31,event32",RFS:"event15,event16,event71,event72",RFC:"event15,event16,event35,event36",TDA:"event15,event16,event87,event88",RFO:"event15,event16,event63,event64",RFI:"event15,event16,event47,event48,event55,event56",CR:"event15,event16,event99,event100",Registration:"event95,event96,event15,event16"};t.events=t.apl(t.events,n[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,n[a]);break;default:"Request"!=s.get("page.category.primaryCategory")&&"Requests"!=s.get("page.category.primaryCategory")||"start page"!=s.get("page.category.pageType")||"Error"==s.get("event.-1.eventInfo.eventAction")?"Request"!=s.get("page.category.primaryCategory")&&"Requests"!=s.get("page.category.primaryCategory")||"end page"!=s.get("page.category.pageType")||(n={RFA:"event15,event16,event31,event32",RFS:"event15,event16,event71,event72",RFC:"event15,event16,event35,event36",TDA:"event15,event16,event87,event88",RFO:"event15,event16,event63,event64",RFI:"event15,event16,event47,event48,event55,event56",CR:"event15,event16,event99,event100"},t.prop8="form finished",t.events=t.apl(t.events,n[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,n[a])):(o={RFA:"event3,event4,event29,event30",RFS:"event3,event4,event69,event70",RFC:"event3,event4,event33,event34",TDA:"event3,event4,event85,event86",RFO:"event3,event4,event61,event62",RFI:"event3,event4,event45,event46,event53,event54",CR:"event3,event4,event97,event98"},t.prop8="form started",t.events=t.apl(t.events,o[a]),t.linkTrackEvents=t.apl(t.linkTrackEvents,o[a]))}}if("Form validation error"==i||"Error fallback page is shown"==i||"Back"==i||"Error fallback page"==r){if(p(),t.prop56="error",t.prop52=s.get("event.-1.eventInfo.cause"),t.eVar34=-1!=i.indexOf("nsc >")?i:"nsc > "+i,t.prop53="",t.prop8="",t.prop6="",t.prop11="",t.prop10="",t.prop16="",t.events=t.apl(t.events,"event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931,event932"),"datalayer field missing"!=l){(y=_satellite.getVar("setDefaultProductVariables")).id=l,y.category="vehicle";var h=f();y.merchEvars=h,t.products=y.toString()}"Error fallback page"==r?t.prop56=t.eVar34="":"Back"==i&&(t.prop56="interaction",t.prop53="ux",t.events=t.apl(t.events,"event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918"))}else switch(a){case"Registration":case"CR":case"RFO":case"TDA":case"RFC":p(),"datalayer field missing"!=l&&((y=_satellite.getVar("setDefaultProductVariables")).id=l,y.category="service",(h=f()).eVar84=s.get("product.-1.attributes.fin.downPayment"),h.eVar85=s.get("product.-1.attributes.fin.mileage"),h.eVar86=s.get("product.-1.attributes.fin.monthlyPayment"),h.eVar87=s.get("product.-1.attributes.fin.term"),y.merchEvars=h,t.products=y.toString()),t.prop7="generic",v(r);break;case"RFS":p(),"datalayer field missing"!=l&&((y=_satellite.getVar("setDefaultProductVariables")).id=l,y.category="service",(h=f()).eVar84=s.get("product.-1.attributes.fin.downPayment"),h.eVar85=s.get("product.-1.attributes.fin.mileage"),h.eVar86=s.get("product.-1.attributes.fin.monthlyPayment"),h.eVar87=s.get("product.-1.attributes.fin.term"),y.merchEvars=h,t.products=y.toString()),t.prop7=o+">"+n=="datalayer field missing>datalayer field missing"?"generic":o+">"+n,v(r);break;case"RFA":p(),"datalayer field missing"!=d&&((y=_satellite.getVar("setDefaultProductVariables")).id=d,y.category="after sales",h=f(),y.merchEvars=h,t.products=y.toString()),t.prop7=b,v(r);break;case"RFI":p(),"datalayer field missing"!=l&&((y=_satellite.getVar("setDefaultProductVariables")).id=l,y.category="vehicle",h=f(),y.merchEvars=h,t.products=y.toString()),t.prop7="generic",v(r),"Download your brochure"!=i&&"Download"!=c||(t.prop56="interaction",t.eVar34=-1!=i.indexOf("nsc >")?i:"nsc > "+i,t.prop53="ux",t.prop6="",t.prop11="",t.prop10="",t.prop8="",t.prop16="",t.prop7="",t.events=t.events.replace("event15,event16,event47,event48,event55,event56",""),t.events=t.apl(t.events,"event917,event918,event903,event904"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event903,event904"),t.prop74="bmw .next - nsc|DCR - All - AEM - AA - Download")}"cr"!=t.prop4&&"CR"!=t.prop4||(t.prop4="campaign"),"cr"!=t.prop11&&"CR"!=t.prop11||(t.prop11="campaign",t.prop54="campaign");try{var P=document.getElementById("formrfo").getAttribute("gcdm-lead-context");if(-1!=P.indexOf("PREDOC-G26-BEVE-E")||-1!=P.indexOf("predoc-g26-beve-e")){t.prop11="roi",t.prop7=P;var j=s.get("product.-1.attributes.motorization",s.get("product.-1.attributes.engine"));if(j){var C=/[0-9]{3}[a-z]{1}/i,R=/xdrive[0-9]{2}[a-z]{1}/i,w=/sdrive[0-9]{2}[a-z]{1}/i,E=j.match(C)||j.match(R)||j.match(w);j.indexOf("i3 (120 ah)")>-1||j.indexOf("i3 (120ah)")>-1||j.indexOf("i3 120ah")>-1?j="i3 (120 ah)":j.indexOf("i3s (120 ah)")>-1||j.indexOf("i3s (120ah)")>-1||j.indexOf("i3s 120ah")>-1?j="i3s (120 ah)":E&&E.length&&(j=E[0].toUpperCase())}(y=_satellite.getVar("setDefaultProductVariables")).id="g26",y.category="vehicle",y.merchEvars.eVar10="G26",y.merchEvars.eVar56="e",y.merchEvars.eVar57="beve",y.merchEvars.eVar44=s.get("product.-1.attributes.productionYear"),y.merchEvars.eVar45=s.get("product.-1.attributes.yearOfRegistration"),y.merchEvars.eVar46=s.get("product.-1.attributes.vehicleStatus",s.get("product.-1.attributes.vehicleSelection")),y.merchEvars.eVar47=s.get("product.-1.productInfo.color",s.get("product.-1.attributes.color")),y.merchEvars.eVar48=s.get("product.-1.attributes.modelCode"),y.merchEvars.eVar49=s.get("product.-1.attributes.gearing"),y.merchEvars.eVar50=s.get("product.-1.attributes.series"),y.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),y.merchEvars.eVar52=s.get("product.-1.productInfo.productName",s.get("product.-1.attributes.modelName")),y.merchEvars.eVar53="model_navigation_hp"==s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")||s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")>-1?"new car":s.get("product.-1.category.primaryCategory"),y.merchEvars.eVar54=s.get("event.-1.attributes.relatedComponentID").indexOf("needanalyzer")>-1||"need analyzer"==s.get("page.pageInfo.pageTitle").toLowerCase()?"build to order":s.get("product.-1.category.subCategory1"),y.merchEvars.eVar55=s.get("product.-1.category.subCategory2"),y.merchEvars.eVar58=j,y.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),y.merchEvars.eVar65=s.get("product.-1.attributes.modelName"),t.products=y.toString(),"form started"==t.prop8?(t.events=t.events.replace("event97,event98",""),t.events=t.apl(t.events,"event73,event74"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event73,event74")):"form finished"==t.prop8&&(t.events=t.events.replace("event99,event100",""),t.events=t.apl(t.events,"event75,event76"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event75,event76"))}}catch(e){_satellite.logger.error("css script error in Central Forms",e)}if(!t.products){var y=_satellite.getVar("setDefaultProductVariables");if(window.location.href.indexOf("https://www.bmw.nl/nl/ssl/requests/rfo-bmw.html")>-1){var T=_satellite.getVar("setDefaultProductVariables").merchEvars;T.eVar53="new car",y.merchEvars=T}t.products=y.toString()}t.linkTrackVars+="events,prop42,prop52,prop43,prop4,prop74,prop19,prop56,eVar34,prop8,prop53,prop11,prop10,prop16,products,prop17,prop7,prop6,prop57,prop58,prop12,prop52,prop54,prop55,prop50,eVar71,eVar41,eVar42,eVar39,eVar40,eVar20,eVar23,eVar24,eVar25,eVar26,prop1,"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%pa_cat_subCategory01%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLb9214b524c5d4e569324ad9ff73756c0",name:"TPT - KR - AEM - AddingBoldStyle - All pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.co.kr"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcb14b9cf94fc44aa8a37c7e039721aa3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5c4630c2cd2f4220adf98d179a5bd94f",name:"TPT - CH - AEM - GTagDC - WheelConfiguratorSubmit - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title=dlo]",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5d8309207e044fc6aaca1fb0b65fd6e6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0f587446cd5c4dcfbda17741f0a0ff69",name:"TPT - IN - AEM - Munchkin - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdadb854398d1428884f90b1bfa7618f7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe9e399f684384d6baa03f55455e93941",name:"TPT - NL - AEM - Adform - Multiple Page - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1d97d7148bab4c97a59d51286ef94a2f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0446d63c4c424cddb01a714748ac4c26",name:"TPT - NO - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC59c27434bf4f4ed881b1c61b471b37f3-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6663a27dbe57474db629423ae2382eff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4808f843156a4c5da5db0d7aefcd0cde",name:"TPT - DE - AEM - Adobe Campaign Pixel - BMW Submit Registration - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#formregistration .multistepline__submit div:nth-child(2) button",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCad95f278b0d144c4ac9e89d91318e11c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8769422f8b8546608423396bb9593b3a",name:"TPT - DK - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfd5aaa09e42841c9bd5355469f2e9ab1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0786b3a89cc24e72b879c83ecc035997",name:"TPT - NO - AEM - Adform - Firmabil Offer Click - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:100,elementSelector:"a",elementProperties:[{name:"title",value:"Salgskampanjer",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/topics/produkt-tilbud/firmabil.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC161068fc530b46909a393d31705987a9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL890aa822a5724b71b34cc9438e9d48ab",name:"TPT - NL - AEM - IgnitionOne - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1600677bfc2f44b088e7ca67d8d6e93f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLed4fb1e247f2496c9dc284f767f2547b",name:"TPT - PL - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9064a509655045399977bbe3fd5bf089-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLef5485fe50a04d209a2cfc4c58d3f941",name:"TPT - SE - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6d616bf52a67494ca335d14c4c3560b0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL23b0fd8ec46941dca487815d7578b448",name:"TPT - ES - AEM - Yahoo - iFrame Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfa3b6111796e4f8a9137a883f0d93fb4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe90f99bb6931485e9127e4fe3e6789ac",name:"TPT - PT - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCba153ca6cd9946eca13657db67fe40f6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4b4fa048e1614a54b752e19034d10b93",name:"TPT - SG - AEM - Apex - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1f40e77595414619b1152bcb0070d4ac-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb89f3e4add004622970049a52e4b41ca-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1f4c76585e924e06b787a2129b000509",name:"TPT - RO - AEM - LinkedIn - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4a59aba961db425396a3f9432f18d358-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL34471c08ae1d4ffe8ca33102e9395846",name:"TPT - SI - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC21ab13a2ba80430eb705ef72265f977c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3696f42f784d4a19af7c9d1363337ffa",name:"TPT - PL - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7db3a663bd7246179cad9d7d1b9d27a5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3f216427b9ca4d6f8a47fddd027eab74",name:"TPT - AT - AEM - AdWords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5b995dc22a7547cf88dbfe0907f90ff3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL402faae610be4056bd810964fc150c6b",name:"TPT - CZ - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd7c44629a9dc4532a06b8fd72a907306-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6ba461e9002d4b9395788fbc5669b3cb",name:"TPT - CZ - AEM - GtagDC - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC64086461f77d42d7b2b4a39168f79919-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5ab1508022c8470398be4a372e163828",name:"TPT - BE - AEM - Adform - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC01722d78762c4fca9bf90b5da839e79c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL79b31844abf74c649f02ae163467258e",name:"TPT - IE - AEM - Adform - iFrame RFO Download Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/rfo-success-page.business-forms.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6b17677a1ee645adabb452e1f27f6ae9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLad467876f58242e0acca093390117872",
name:"TPT - AT - AEM - Submit button - Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa7dab4836d33434bb1d8cdd73212e7c4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL19cded5faa3d4e8092f64d332fc612af",name:"TPT - CZ - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdf289b0c6a72480b93077b64826a552a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL530607239b50487cb2be9b1510be2c6e",name:"TPT - RO - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCabf7da5897d848588e6624b8922fb1ba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL90a66043c0114acf91806ef6c1a9249b",name:"TPT - SI - AEM - DoubleClick - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9bc8daa87f8f43ecaaf817f52ec3e850-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL27ce383ba07a4b9b97f472efd715b8cb",name:"TPT - AU - AEM - DoubleClick - Build and Price - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="Build and Price"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbbd5decef07e4b61ba39d6d95a406646-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaa630cdb4d33449696ad83cece5d2bd1",name:"TPT - SK - AEM - GtagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC39412dabe2084fe28e53ce2fc97f4fd3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3fe78249808d480e829bb3fc6abedc31",name:"TPT - RU - AEM - DoubleClick - Started Accessory Configurator - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'text link="\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440"',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8e427ee9bb634f1ba0bf85e8539c2ea9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL44ff31c34e3748398f61a217e700862e",name:"TPT - RU - AEM - Submit Button Pixel - iFrame TDA Forms - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcb8dc7ac5872424b92e06135804e2e7b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1b05fce4ec7845f78ed46790c05bbacd",name:"TPT - AU - AEM - GTagDC - MINI Corporate - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="https://www.mini.com.au/corporatebenefits/"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/en-au/offers-and-services/corporate/bmw-mini-motorrad-corporate.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc025c86ac4a541f9bcd33e621bf73051-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbcf2638a7e734de08996ed9b32bf9e7d",name:"TPT - GR - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd1419a3bb6314a708a92b0caf1db9f29-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc6be2b66bbf3476295832260a83e52ea",name:"TPT - FR - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc4d1cb1dd5674cb7a8ded244b6e625e9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfa7b82cc41754abe85158777e758555b",name:"TPT - HU - AEM - TradeDesk - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc67a7a891c824999bd659bef88faa864-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL96c385e737f1473399c454a86237fb68",name:"TPT - GR - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc4557c6d69d64ed6b240e55a3df7c41d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4fe8a561dc034367a61dff5fe29dd7c2",name:"TPT - IT - AEM - Adwords - iFrame - RFO Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0299ee7e6b574b5491d1514e74d03a59-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLedd3b48c9d5c4e7c8f9c31ccfe27528b",name:"HT - All - NSC - All - Custom Code - RegisterOnConsentChange",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"try {\n\n    var currentRuleName = event.$rule.name;\n    var privacyManager = _satellite.getVar('KIT-helpers').privacyManager;\n    var cache = _satellite.getVar('KIT-helpers').cache;\n    var smartPreviousValueManager = _satellite.getVar('smartPreviousValueManager');\n    var ENUM_USER_CONSENT = {\n        \"GIVEN\": \"GIVEN\",\n        \"REVOKED\": \"REVOKED\",\n        \"UNKNOWN\": \"UNKNOWN\"\n    };\n\n    var handleSplitConsentMarkets = function() {\n        var consentMap = _satellite.getVar('consentMap');\n\n        //Register for Adobe Analytics consent change\n        privacyManager.registerOnConsentChange(consentMap.AdobeAnalytics, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.AdobeAnalytics);\n                adobe.optIn.approve(adobe.OptInCategories.ECID);\n                adobe.optIn.approve(adobe.OptInCategories.ANALYTICS);\n                smartPreviousValueManager.saveDeferredObject();\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.AdobeAnalytics);\n                cache.set('analyticsConsentRejected', 'true');\n                //moved to AA custome code plugin in registerPostTrackCallback function                \n                //adobe.optIn.deny(adobe.OptInCategories.ECID);\n                //adobe.optIn.deny(adobe.OptInCategories.ANALYTICS);\n            }\n        });\n        //Register for Adobe Target consent change\n        privacyManager.registerOnConsentChange(consentMap.Target, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.Target);\n                adobe.optIn.approve(adobe.OptInCategories.TARGET);\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.Target);\n                adobe.optIn.deny(adobe.OptInCategories.TARGET);\n            }\n        });\n        //Register for AAM consent change\n        privacyManager.registerOnConsentChange(consentMap.AAM, function(consent) {\n            if (consent === ENUM_USER_CONSENT.GIVEN) {\n                _satellite.logger.log('Approving the consent for-' + consentMap.AAM);\n                adobe.optIn.approve(adobe.OptInCategories.AAM);\n            } else if (consent === ENUM_USER_CONSENT.REVOKED) {\n                _satellite.logger.log('Revoking the consent for-' + consentMap.AAM);\n                adobe.optIn.deny(adobe.OptInCategories.AAM);\n            }\n        });\n        //nothing needs to be done for TPTs on split consent markets as re-triggerring is handled by p15r\n    }\n\n    var handleNonSplitConsentMarkets = function() {\n        var CATEGORY_ENUM = {\n            'ANALYTICS': 'analytics',\n            'ADVERTISING': 'advertising'\n        };\n        privacyManager.registerOnConsentChange(function(consent, category) {\n            if (category === CATEGORY_ENUM.ANALYTICS && (consent === ENUM_USER_CONSENT.GIVEN)) {\n                _satellite.logger.log('Approving the consent for- ECID, AA and AT');\n                adobe.optIn.approve(adobe.OptInCategories.ECID, true);\n                adobe.optIn.approve(adobe.OptInCategories.ANALYTICS, true);\n                adobe.optIn.approve(adobe.OptInCategories.TARGET, true);\n                adobe.optIn.complete();\n                smartPreviousValueManager.saveDeferredObject();\n                _satellite.getVar('Trigger-AnalyticsConsentChangeEvent')();\n            } else if (category === CATEGORY_ENUM.ANALYTICS && (consent === ENUM_USER_CONSENT.REVOKED)) {\n                _satellite.logger.log('Revoking the consent for- ECID, AA and AT');\n                adobe.optIn.deny(adobe.OptInCategories.ECID, true);\n                adobe.optIn.deny(adobe.OptInCategories.ANALYTICS, true);\n                adobe.optIn.deny(adobe.OptInCategories.TARGET, true);\n                adobe.optIn.complete();\n            } else if (category === CATEGORY_ENUM.ADVERTISING && (consent === ENUM_USER_CONSENT.GIVEN)) {\n                _satellite.logger.log('Approving the consent for- AAM');\n                adobe.optIn.approve(adobe.OptInCategories.AAM);\n                _satellite.getVar('Trigger-pageLoadTPT')(currentRuleName); //the variable 'currentRuleName' is declared at the top of this entire code\n            } else if (category === CATEGORY_ENUM.ADVERTISING && (consent === ENUM_USER_CONSENT.REVOKED)) {\n                _satellite.logger.log('Revoking the consent for- AAM');\n                adobe.optIn.deny(adobe.OptInCategories.AAM);\n                _satellite.getVar('clearCookies')();\n            }\n        });\n    }\n\n    if (privacyManager.type === privacyManager.ENUM_TYPE.EPAAS_SPLIT)\n        handleSplitConsentMarkets();\n    else if (privacyManager.type === privacyManager.ENUM_TYPE.EPAAS_NON_SPLIT)\n        handleNonSplitConsentMarkets();\n\n} catch (e) {\n    var errorOrigin = {\n        from: \"AA\",\n        type: \"PLR\",\n        name: currentRuleName\n    }\n    _satellite.logger.error(e, errorOrigin);\n}",language:"javascript"}}]},{id:"RL1a12536cf1a84cc8a29df3f3e98207d5",name:"TPT - SK - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC69f5077a0dbd4911b14239f4233eb334-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd49ba6a9d6e24376a294dcbabf49e427",name:"TPT - NL - AEM - Inbenta Chat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"/nl/shop/voorraad-nieuw/checkout/",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7fa054a91372407fbde0a3ecc2dbacc1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8555603ce44948848a089287ca148502",name:"TPT - JP - AEM - SmartNew - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC81beacd90cca441d84afeb386e8c1354-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9285b661c370487a827d22532bd5437e",name:"TPT - DE - AEM - Usabilla - Adhoc Survey - From Konfigurator to model Selection - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"de/konfigurator.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC788d1425060846349a6c1b4f89e4a9af-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb77b1b818fc34576822aa7e359940397",name:"TPT - HU - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC39a8a977f2e74969aa0438ada3db921c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL65db3d8eba6f403e94c735fd7d7e73b3",name:"TPT - LU - AEM - IgnitionOne - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC60565138c8794df782228adeed90c8a9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa92db1222527414eaf44af40c5666d07",name:"DCR - All - AEM - AA - Electric Range",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"electric_range_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"electric-range"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.effect"),n=s.get("event.-1.attributes.relatedPageName",s.get("page.pageInfo.pageName")),r=(s.get("event.-1.category.subCategory01"),s.get("product.-1.attributes.fuelType")),i=_satellite.getVar("AA-componentDefaultValues"),c=_satellite.getVar("smartPreviousValueManager");if(-1!=r.indexOf("|")&&(r=r.replace(/\|/g,"~")),_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t),t.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,t.prop41=s.get("component.-1.category.componentType"),t.prop45=s.get("component.-1.category.componentVersion"),t.prop56=a,t.prop57=s.get("event.-1.eventInfo.eventAction"),t.prop12=s.get("event.-1.eventInfo.timeStamp"),t.prop13="bmw",t.prop19=s.get("component.-1.componentInfo.componentName"),t.eVar34=-1==o.indexOf("nsc >")?"nsc > "+o:o,t.prop52=s.get("event.-1.eventInfo.cause"),t.prop54=s.get("event.-1.category.primaryCategory"),t.prop55=s.get("event.-1.category.subCategory01",s.get("event.-1.category.subCategory1")),t.eVar71=s.get("event.-1.attributes.requestedURL"),t.prop42=i.primaryCat||"datalayer field empty",t.prop43=i.subCat||"datalayer field empty",t.prop44=s.get("event.-1.attributes.linkedComponent.-1.componentInfo.componentID",s.get("event.-1.attributes.relatedComponent.componentInfo.componentID")),t.prop27=s.get("event.-1.attributes.linkedPage.pageInfo.pageID"),t.prop53=s.get("event.-1.eventInfo.type"),t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop59=s.get("product.-1.attributes.configID"),t.eVar59=s.get("product.-1.attributes.configLink"),"interaction"==a?(t.events=t.apl(t.events,"event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918")):"error"==a&&(t.events=t.apl(t.events,"event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931,event932")),t.products)t.products.indexOf("search")>-1&&(d=_satellite.getVar("setDefaultProductVariables"),t.products+=d.toString());else{var d=_satellite.getVar("setDefaultProductVariables");t.products=d.toString()}"tr > errors"!=t.prop56&&"error"!=t.prop56&&"error"!=t.prop53||(t.events=t.apl(t.events,"event931,event932"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event931,event932")),t.linkTrackVars+="prop41,prop44,prop43,prop42,prop45,prop56,prop57,prop58,prop53,prop12,eVar34,prop52,prop54,prop55,eVar71,prop27,products,prop59,eVar59,prop1,prop13,prop19",c.update("pageName",t.prop1)}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"electric range",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLcf2afbcf48dc4e9596b93299e3b22086",name:"TPT - UK - AEM - Psyma User Survey - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk$",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"PSYMA"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc74efbaa339e4b08b3ffcf3aed577cac-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb4c35922dafd42dc81f84a4c379a4170",name:"TPT - MY - AEM - Facebook meta - All Pages - PLR",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:'  try {\n  var fbtag = document.createElement(\'meta\');\n    fbtag.setAttribute("name", "facebook-domain-verification");\n    fbtag.setAttribute("content", "pomq96rh82jze0pk36mhhuz1v6ct71");\n    var firstScript = document.getElementsByTagName(\'script\')[0];\n    firstScript.parentNode.insertBefore(fbtag, firstScript);\n} catch (e) {\n    _satellite.logger.error("TPT - MY - AEM - facebook meta - All Pages - PLR"+ e);\n}\n   ',language:"javascript"}}]},{id:"RLada43bdb401747c2929eb41122223ed8",name:"TPT - TH - AEM - GtagAW - Multiple - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.th",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0c5c9b6dd98140b592ad6d3438041b91-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLd663ea58ab7145a2872243be226723da",name:"TPT - BE - AEM - Adwords - All Pages - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.be"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7759b375ff75436dbd1f14ab6c5af62d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41866c5d50a04825adece96bf1f77683",name:"TPT - DK - AEM - Adform - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC97c24f6a7a1f44858951e4702d419b1f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4f3119c22e884ce7ab7dd68956fca1af",name:"TPT - JP- AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2394dd2693334e6ba8b5c98cc0d1088b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa626e0f0921548d5be603e6bb98d0dd6",name:"TPT - DE - AEM - GTagDC - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3ab3bc95e1da48c9a2cc6b5754e28570-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2cb1ebfe52ab4e3a9e78245cf749a295",name:"TPT - DK - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC48e8b486aa214acfafdfb25c79391cd3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe49f184f31f541c0a23c638e7c1f5a87",name:"TPT - PL - AEM - Adform - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC696e86de26554e2cb81d27ce4be02d2b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9c6921ceb3924ecd98e89265ab88930d",name:"TPT - BE - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCeb572b4033ed4877b2d82ee39d97e1cf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3fb77a60232d4fa393867c92b68d615a",name:"TPT - PL - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4dd0274e6c7542e0ae060142ae4b5a4f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe1e71251ea274626a0de025ec322107b",name:"TPT - SK - AEM - Adform - Adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8d8fd2b9ae174c21b32a71007eb88709-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc556ae78b0ca432cbacf96d98d492c73",name:"TPT - SE - AEM - AdForm - Customer Supportr / After Sales - Services - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/avdelning/erbjudanden/service-workshop/bmw-service.html|/sv/avdelning/tj%C3%A4nster/service/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2f412c84164a4ac6a5f3d53748b1632c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL90fce6587aa449efbb5e24f7b52e8f7c",name:"TPT - RO - AEM - Doubleclick - Configurator Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ro",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/pathAndQuerystring.js",settings:{paths:[{value:"configurator"}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.log("TPT - RO - DBM Tag Configurator Steps err \n",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4d34b782550b45ba86f38e4c7511263c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9d58a8dd3fcb42b687233692e11f7955",name:"TPT - IT - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcb86954ee96f49098552cadfb4236e85-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL826c5def6ad94cd381a27203e0d78f0f",name:"TPT - RO - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC54a4ab7a975d4700b9a8ea3a875bf4fb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa2eba5b830994fff8fd1f3395b067d4c",name:"TPT - NL - AEM - GtagAW - Service Inclusive Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/content/aftersales/onderhoud-en-reparatie/bmw-service-inclusive.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2002490f15b745afa0db7f34d039cd8e-source.min.js",language:"javascript",isExternal:!0}}]},{
id:"RL59cf9a0dde164db28675b371daf8386f",name:"TPT - CZ - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3b7271cf0f484181863f32ee4445bec7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL61d64df5431c41929d56b6960d376a01",name:"TPT - PT - AEM - Facebook - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8dda94ee70cb4acd8d63a01952f3c90a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5bd1390561484a89be085378496a424a",name:"TPT - IT - AEM - Xcally Chat - Multiple- PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6dc43bac054b41a9bc62e75624a92cd9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc60b8050a7eb47eea0914edda9ae22ae",name:"PLR - All - AEM - Custom Code - Page Speed Tracking 3.1 Pollyfill",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC950a0f85f2544189a1c2b8730da8350b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb4e12e7c8b0141c4a24d8e9d49a0b957",name:"TPT - GR - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdb6b9ea5d2834d97a5672a06db5959f2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL541ab79787934775b0f924d05a662c75",name:"TPT - IT - AEM - Bing - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5c05b658b92d4bac89ad6e3b5909136a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdad0a331635848f78a4645f3f602a101",name:"TPT - IT- AEM - Bing - iFrame RFO Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9cf4b88fb5714c8aa25dd92fe46bfac6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf714ade0cc34495680530f21b1ee4a50",name:"TPT - IT - AEM - Adform - RFO Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfe8d707328844a43bf73818993f96b97-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL36e3d78b3f5e4c72af748e9149d5f06a",name:"TPT - DE - AEM - Webchat - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/ssl/requests/brand-switch-rfi/rfi-type-switch-bmw/rfi-download-bmw.html",valueIsRegex:!0}]},negate:!0},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/forms/angebotsanfrage/angebot-anfordern.html",valueIsRegex:!0}]},negate:!0},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/de/shop/dcs/",valueIsRegex:!0}]},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1a9579d353d04af9a0501f2b1aa8212c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3182cda485074baa9774212f18af647a",name:"TPT - BR - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC48dc8df0dbc84399a635937484106940-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLef698b5afaa349b59539892a3cea294a",name:"TPT - AT - AEM - Facebook - All pages automotive model ads - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC466117ead1274aedbdefbf3e039b00ba-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLde8bd697b1bf4959a6e468c37dd56487",name:"TPT - NO - AEM - AdobeCampaign - iFrame ROI Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_roi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1f7905a89f2f426581ae3146885d3654-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL58a6dec12b8e49dcb244e45caf37a167",name:"TPT - DK - AEM - Adform - Kampagne Other Buttons - EBR - p15r[l]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Priser",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Specialmodeller",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"a",elementProperties:[{name:"title",value:"Find forhandler",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/produkt-tilbud/tilbud/kampagne.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC51dee19a2505400aab3b1f754e5dc646-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3322c613dacb4e75be4c4056dfdf5db3",name:"TPT - PT - AEM - Facebook - Catalog_Button_Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"PT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfbb6e3a051654a1a9904a10628c69ada-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7062aed8fecd44689e95512ca7878583",name:"TPT - PT - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC64578249518043438b6c25bc7912a068-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2e27b06e58e54957ab6b3004cc8704a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcbe94f7db7fc4e22a86cd42faff963dc",name:"TPT - MX - AEM - Adwords - Multiple - PLR -p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2d8ca9564a334d848819df7de439be67-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8c9806557e394686ad35035bdd05ea1d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4b698ae02023414bb0af8700532f2076",name:"TPT - IE - AEM - Adwords - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf5f3f6f5c4364bfe991a209047fb3230-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL48e6762bd69b4f81a69095dbeb90186b",name:"TPT - HU - AEM - GTagDC - iFrame Form RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0cb073f20bd24c31b235afa601a3cea6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL275e1e0f047b48ec9707d8f851e5a132",name:"TPT - DE - AEM - Outbrain - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCabb359a65ed941f4b4b17cf87534093f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4005713494664e4ea9fd3a4889f70ded",name:"TPT - RU - AEM - Avito - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return document.referrer.indexOf("/ru/general/premium-selection/at-a-glance.html")>-1}catch(e){return _satellite.logger.log("TPT RU Avito"+e),!1}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd5f92aafbc08492f865576f6ea3f89a4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa2e372e6c83a44018fc46eb81c7f00a5",name:"TPT - PT - AEM - Facebook - SignIn - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:"div.ds2-mybmw-content.ds2-mybmw-loggedout > div:nth-child(5)",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC39abedc4db1a48ffb4298716d1addaa3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2a931fb3ef41418c80316500f14b82c8",name:"TPT - SK - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa88004e070f9494ca106d243266d5ff3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4a1e4f95b915440db37548b95d6e9abe",name:"TPT - PL - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC657bc110841a4b7ea49b82a9ccb46e14-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4d10dc460ef4435faf82abc08e98ca71",name:"TPT - DE - AEM - LinkedIn - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0b86192ee18d434fb006303e49d512a3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd8a2cfd526d74949a96411cd1ba9ea34",name:"TPT - CZ - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC46fe765f2d524ba5ab41e4ac971e51ed-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2709b68d282e47f79c7c84b8b7675fa8",name:"TPT - IT - AEM - GTagDC - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc60c8b58069a42b991926c76867725b7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLad56595ad49740e8bb8f4557830a851d",name:"TPT - CH - AEM - GTagDC - Dealer Selector - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcd0b1a3e82d74122a3014b5ed2c30624-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2ceb496928c141c582b4ca1c51826424",name:"TPT - HU - AEM - Adform - SignIn - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC431e7976213a4c74a35dc83433f12ab9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe00fcf03e8934096a42e0e4d13fa2889",name:"TPT - MY - AEM - Amobee - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC826dc9a92b074f5083295cef452df202-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL36d6c834860a4bcd812cc80012494b06",name:"EBR - CA - iFrame - AA - ACS Click Tracking",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(-1!=["https://sf-acs.bmw.ca","https://sf-acs-i.bmw.ca"].indexOf(t.origin))if(t.data)try{_satellite.logger.log(JSON.parse(t.data));var s=JSON.parse(t.data);s.detail&&s.detail.custom&&Object.keys(s.detail.custom)&&Object.keys(s.detail.custom).length&&(_satellite.setVar("acs_event_data",s),e())}catch(e){_satellite.logger.error("EBR: ACS Component click tracking",e)}else _satellite.logger.log("no data in event object",t)}))}catch(e){_satellite.logger.error("EBR: ACS Component click tracking",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.ca"}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("acs_event_data").detail,a=s.event.length?s.event[s.event.length-1].eventInfo.eventAction:"datalayer field empty",o=s.event.length?s.event[s.event.length-1].eventInfo.eventName:"datalayer field empty",n=s.event.length?s.event[s.event.length-1].eventInfo.type:"datalayer field empty",r=s.event.length?s.event[s.event.length-1].eventInfo.timeStamp:"datalayer field empty",i=s.event.length?s.event[s.event.length-1].eventInfo.cause:"datalayer field empty",c=s.event.length?s.event[s.event.length-1].eventInfo.effect:"datalayer field empty",d=s.event.length?s.event[s.event.length-1].eventInfo.eventPoints:"datalayer field empty",l=s.component.length?s.component[s.component.length-1].componentInfo.componentID:"datalayer field empty",u=s.component.length?s.component[s.component.length-1].componentInfo.componentName:"datalayer field empty",b=s.component.length?s.component[s.component.length-1].category.componentType:"datalayer field empty",m=s.component.length?s.component[s.component.length-1].category.primaryCategory:"datalayer field empty",p=s.component.length?s.component[s.component.length-1].category.subCategory1:"datalayer field empty",g=(s.component.length&&s.component[s.component.length-1].category.subCategory2,_satellite.getVar("productBuilder")),f=_satellite.getVar("productBuilder");if(s.custom&&s.custom.event&&s.custom.event.length&&null!=s.custom.event[s.custom.event.length-1].attributes&&null!=s.custom.event[s.custom.event.length-1].attributes.search){var v=s.custom.event.length?s.custom.event[s.custom.event.length-1].attributes.search[0].label:"datalayer field empty",h=s.custom.event.length?s.custom.event[s.custom.event.length-1].attributes.search[0].term:"datalayer field empty",P=s.custom.event.length?s.custom.event[s.custom.event.length-1].attributes.search[0].state:"datalayer field empty",j=s.custom.event.length?s.custom.event[s.custom.event.length-1].attributes.search[0].unit:"datalayer field empty";g.category="vehicle",g.id="datalayer field missing",g.merchEvars={eVar31:P,eVar30:j,eVar32:v,eVar33:h?h.toString():h}}if(s.custom&&s.custom.product&&s.custom.product.length)for(var C=0;C<s.custom.product.length;C++){if(s.custom.product[C].category&&"service"===s.custom.product[C].category.productType){var R=s.custom.product[C].category.productType||"datalayer field empty",w=(s.custom.product[C].category.primaryCategory,s.custom.product[C].category.subCategory1,s.custom.product[C].productInfo.productName,s.custom.product[C].productInfo.productID||"datalayer field empty"),E=s.custom.product[C].attributes.fin.downPayment||"datalayer field empty",y=s.custom.product[C].attributes.fin.monthlyPayment||"datalayer field empty",T=s.custom.product[C].attributes.fin.term||"datalayer field empty",I=s.custom.product[C].attributes.fin.annualMileage||"datalayer field empty";g.category=R,g.id=w,g.merchEvars={eVar84:E?E.toString():E,eVar85:I?I.toString():I,eVar86:y?y.toString():y,eVar87:T?T.toString():T}}if(s.custom.product[C].category&&"vehicle"===s.custom.product[C].category.productType){var _=s.custom.product[C].category.productType||"datalayer field empty",x=s.custom.product[C].category.primaryCategory||"datalayer field empty",k=s.custom.product[C].category.subCategory1||"datalayer field empty",A=s.custom.product[C].productInfo.productName||"datalayer field empty",O=s.custom.product[C].productInfo.productID||"datalayer field empty",L=s.custom.product[C].productInfo.manufacturer||"datalayer field empty",S=s.custom.product[C].attributes.modelCode||"datalayer field empty",D=s.custom.product[C].attributes.hybridVersion||"datalayer field empty",V=s.custom.product[C].attributes.series.replace(/,/g," ")||"datalayer field empty",M=s.custom.product[C].attributes.motorization||"datalayer field empty";if(M){var F=/[0-9]{3}[a-z]{1}/i,N=/xdrive[0-9]{2}[a-z]{1}/i,B=/sdrive[0-9]{2}[a-z]{1}/i,U=M.match(F)||M.match(N)||M.match(B);M.indexOf("i3 (120 ah)")>-1||M.indexOf("i3 (120ah)")>-1||M.indexOf("i3 120ah")>-1?M="i3 (120 ah)":M.indexOf("i3s (120 ah)")>-1||M.indexOf("i3s (120ah)")>-1||M.indexOf("i3s 120ah")>-1?M="i3s (120 ah)":U&&U.length&&(M=U[0].toUpperCase())}f.category=_,f.id=O,f.merchEvars={eVar10:"datalayer field missing",eVar53:x,eVar54:k,eVar52:A,eVar60:L,eVar48:S,eVar57:D,eVar50:V,eVar58:M}}}t.prop44=l,t.prop19=u,t.prop41=b,t.prop42=m,t.prop43=p,t.prop56=o,t.prop57=a,(d="na"==d?"datalayer field empty":d)&&parseInt(d)&&!isNaN(parseInt(d))?(parseInt(d)>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(d)<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+d,",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=d,t.prop53=n,t.prop12=r,t.prop52=i,t.eVar34=c,g.append(f),t.products=g.toString(),t.linkTrackVars+="prop44,prop19,prop41,prop42,prop43,prop56,prop57,prop58,prop53,prop12,prop52,eVar34,products"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL90727b5cec2a407f8db87c3006fade34",name:"TPT - SK - AEM - GtagDC - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfad8cec2efd74cebadf43fb8ffa07b42-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdbd30caebce5497981e4107308789756",name:"TPT - DE - AEM - GTagDC - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8a50084ac80c4fa7bdc3c8013e8a16a0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2950c0c1a88447c78d4d1011e2aa0093",name:"TPT - AT - AEM - AdWords - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4988c05217744a06a06b9852b45b0441-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLce5624e4f20c4149a18076cbb3d1e293",name:"TPT - BG - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6073b6fc9fde4cc99a232044f411e066-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0cb75f23abf14309ae1cafb1ec96fd46",name:"TPT - FR - AEM - Adform - DCS Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC40291aef7e724b3ba9272477dad82057-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7192e978c63843a7a1310722b074d24f",name:"TPT - HU - AEM - gTagDC- Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC55a9e380b1e74fd8ac49b6ccc78be942-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf93931b8ace647fdac4a0d5ada7c54d2",name:"TPT - BG - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC05c5748d4d3f438495aabf69d5152d9f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4f3a61d919de467e91c5b3c40319dfe3",name:"TPT - BE - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC41e243cc687341cdbc1bc73ad97ed2d8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbbcaa3c357834169bec7f224a94026c6",name:"TPT - AT - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCaca1d4ed841948638aa6b9f970a957b3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe65a9990e29740b1a170e47af00e7516",name:"TPT - UK - AEM - GTagDC - iFrame RFI Download Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf4b59433fe84436c9a6b6b49b156c5a4-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe6012d002e8441da991e8c50642bcda9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8bd4e134fd7d48d7b3bd9f38b4de424b",name:"TPT - CZ - AEM - AdWords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC222c8c48dcbe4942b6e152f30221495e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7d68fd9d1e8d495fa4d382d1f0a52f8d",name:"TPT - DE FR IT ES NL AT PL CH - AEM - Usabilla - Adhoc Survey - DCS Customer Survey MINI",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"URL"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("topLevelDomain"),t=(_satellite.getVar("snapshotDL"),_satellite.getVar("URL"));return t.indexOf("/shop/dcs/")>-1&&t.indexOf("/confirmation/")>-1&&("mini.de"==e||"mini.fr"==e||"mini.it"==e||"mini.es"==e||"mini.nl"==e||"mini.at"==e||"mini.com.pl"==e||"mini.ch"==e)}catch(e){var s={from:"TPT",type:"Condition",name:"TPT - DE FR IT ES NL AT PL CH - AEM - Usabilla - Adhoc Survey - DCS Customer Survey MINI"};_satellite.logger.error(e,s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb6d122e5d4fc40c4b5810a4e5156ded3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc761c2f663334daea98d4f66ec212d1c",name:"TPT - HU - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC21380cdc044f415c923a2145225aefae-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL066a25a509d04eeea75de5d95ef13ab1",name:"TPT - AT - AEM - Pinterest - RFO - FormSubmit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"de/publicPools/success-pool/success-page-rfo.business-forms.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC51b0574e97ed43189555e0bcd58903d6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2e88ba4f3b0a43769e167a6862427f58",name:"TPT - GR - AEM - DoubleClick - iFrame RFC Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd77e4d8351d94de496d95c2d8f06f0ff-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8e95c8987d6a4c2eb26909e1f8051f9c",name:"TPT - NZ - AEM - Facebook - CON Test Drive - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".h5vco-model-serie-range.h5vco-animate-range.ng-scope.normal",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50},{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"input",elementProperties:[{name:"name",value:"c-submit",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.nz",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe70186395172441e8c1b8a98c9653964-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0eb98dac7f5e4aadb1e0e0a966fc4332",name:"TPT - DE - AEM - GTagDC - DLO State Stamdalone - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1dcd9d5f5945431fa46f395a9f322721-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa3f512a11cab49988ebfab02d9ca9a66",name:"TPT - BG - AEM - DoubleClick - Configurator Steps - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}catch(e){_satellite.logger.log("TPT - BG - DBM Tag Configurator Steps err \n",e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2b1d482a44234d8eada2738a0cc6d07a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL76612051542e4affbf097b2f59e5edd4",name:"TPT - IE - AEM - GTagDC - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0c460237a4824711a907f5573e65fd68-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2feb09b8c98947cbb08a582028fadece",name:"TPT - UK - AEM - GTagDC - VirtualAppoint Form Comp - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbfa76a884a214703b185f32113ce3f02-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6ae8ad49d34c41a7a0e2f057a9c6516d",name:"TPT - PL - AEM - GtagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC10a72c7ee6c7419694c88ffe1758da01-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLeacb09690b7140db9e349008c0612807",name:"TPT - UK - AEM - Adform - iFrame TDA Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdadc46b65f0c4040bd6e7d542e2f4576-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcd1102a13d5b4e438053a59630960834",name:"TPT - UK - AEM - Facebook - iFrame Form RFI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC63e8b654320a43e1b23b3fa3e96d8094-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL246b441eb863429ba3a9d9fee696c265",name:"TPT - HU - AEM - Adform - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC25bf1e10ac32482f85607ab792567bfe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdeba5790069e4b5f8b38c5121f18eb4e",name:"PLR - All - AA - Custom Code - JS error event listener",events:[{modulePath:"core/src/lib/events/libraryLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=["bmw.ch"],t=_satellite.getVar("topLevelDomain");return e.indexOf(t)>-1}catch(e){var s={from:"AA",type:"Rule",name:"DCR - All - AA - Custom Code - JS error tracking"};_satellite.logger.error(e,s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"window.addEventListener('error', function(event) {\n  _satellite.logger.log(event, \"error register\"); \n  var errObj = event;\n  _satellite.track('track_js_error', errObj);\n})\n",language:"javascript"}}]},{id:"RLd4056199125f499984903aa54d0c1c8d",name:"TPT - CH - AEM - GtagDC - RFI-OrderBrochure/DownloadBrochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"body > div.successpagerfidownload__base > form > div > div > ul > li > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3115413bf4f040bda18476fec1577d47-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL11d8bd746b824a2cbe8faba311379213",name:"TPT - UK - AEM - GTagDC - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC049898b7cf7644bfa69ccb1fe72d5091-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf1020a67deca413883b0d622577b2905",name:"TPT - SK - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcefee4ee0bb44845a556c171f13c57e1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa2688d51ab0048f9860fc8d1265eb161",name:"TPT - LU - AEM - GTagDC - Sign In - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCef6ac3f3294744b3b5b87aa615ad4630-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2d54abce8fa34313badcf7be697c7f9c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8fe1bd4629c54a5b96b99dc94cc964bc",name:"TPT - BG - AEM - Adwords - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5ab39bc94e1a44f9884b1c7552661d2f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1ff74dea650e49f393003c79c415170a",name:"TPT - NO - AEM - Adform - CON Open Form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/configurator",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2fc6ed6046ac459e8de65c892dc95118-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdb9ff2a5480a4a2faf7ecd0a7e7374bd",name:"TPT - SI - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6e4ef11d83e04b60a5478cd13a9cc68a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL61bf4cc5f8de407ea1f9cc3f436b07d6",name:"TPT - NL - AEM - GtagDC - Service Inclusive Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/nl/content/aftersales/onderhoud-en-reparatie/bmw-service-inclusive.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC175a832c107d493e94f383e1454cff2f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL938593876a2a433d995dc736fe354a4e",name:"TPT - RO - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9de19797ae0e4b23a6eb353be747d9f1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35806c71f1d5447bafeeb7b232894b9b",name:"TPT - PL - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5787452dcb25412194ee689c75432fb2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0ecfa8f54bf0490496dd82d45dd213ce",name:"TPT - BG - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb16e65248a7c48e495db7e9ef9b6fe82-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL197562f5dc6b4d49826001a9641e59d0",name:"TPT - ID - AEM - LinkedIn - Contact Email Button - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title="contact.id@bmw.co.id"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.id",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC45a2445ca1854d8cb662d5b5e1269bde-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb37de060fb8c47e09d3db9043e7ad050",name:" TPT - IE - AEM - Gtag_DC - PHEV Build and Price Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.ie/en/configurator.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/electromobility/plug-in-hybrids.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4b1655a7245f486ea1a3df12750e6970-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8e6b3c24de9748518c3a2b8f7e31ac4f",name:"TPT - PT - AEM - Facebook - FormTracking - RFI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa58932ca048a4610b26b3b53f7b1748d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLce3e42cc9dbc4ddda4e3d77dc81f081a",name:"TPT - SK - AEM - Adform - SignIn/SignUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc3309331a5644764b1f108cbf18f4896-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL078f2e1adf2b41698a2f09052ffa9ba3",name:"TPT - BE - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbe84bd8e23954f1889a1146ee9c2c5cf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL98dc80558b7f4e7bbaf33f11072f4701",name:"TPT - IE - AEM - Adwords - Dealer Locator Overlay Btn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href="/en/fastlane/dealer-locator.html"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC76967918d9974f63ae6c7e61187b1056-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0d0997828e034aafa7ad828cac5a7004",name:"TPT - AU - AEM - Floodlight - Outbound Link - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6065b18d297c47c49a80112ae9d2fb13-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL528d0eeba2c94317a8c741eb5efb773d",name:"TPT - BG - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC17d9a861734b44d1aa890892434f6c5a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf832952a7ee44c57aa0621339a4d41db",name:"TPT - SG - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/ssl/online-service-booking.html",valueIsRegex:!0},{value:"/en/ssl/auto-service-booking.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/service-maintenance.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/latestpromo.html",valueIsRegex:!0},{value:"/en/topics/fascination-bmw/contact-BIS.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/service-workshop/bmw-services.html",valueIsRegex:!0},{value:"/en/ssl/find-a-retailer.html",valueIsRegex:!0},{value:"/en/ssl/contact-pml.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/ubi-service-centre.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers/bmw-care-packages.html",valueIsRegex:!0},{value:"/en/topics/offers-and-services/special-offers-bis/care-packages-bis.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5b5c3457ca44445a8a0a923aeb28850e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf8eb2b315b2349bc8d4148cd52d42e71",name:"TPT - CZ - AEM - Adform - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5d7b28dc348c487f8298d4538cd26447-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd62a2741713c48f4a30722b04f15fcc0",name:"TPT - IE - AEM - Facebook - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbdcc95bb6abe4065acdfa9c5b7226ab9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf43f2c50bca84df5b2b5be4f16b1cb2a",name:"TPT - UK - AEM - Facebook - Forms Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC06b105f0bbc24a3c8c175d114225e9cf-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaae7fc18c37e4bdf99f803fa183551cb",name:"TPT - GR - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3a89faae81074d4995658792950f1848-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL416ac0d0e3654cb8af6153d4f54aa178",name:"TPT - BE - AEM - Adform - Adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4310fc41d4ac4df7a61345fc33dfac46-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4f5913e9eb2e485e85af9649f8396286",name:"TPT - HU - AEM - IgnitionOne - Form Submit - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd454849790e14001ad8c48eb7cabc876-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf58b259daea14559b4f788aa9fecfad2",name:"TPT - BR - AEM - Adwords - Form Submit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("addEventTracking")>-1){var s=JSON.parse(t.data),a=s.args[1];"addEventTracking"==s.methodName&&(_satellite.setVar("eventtracking",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.br",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pt/integration/solicite-uma-proposta.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf7a247fbcfe6459eb5a3c3eaecf04b65-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbd95525722d44e7ab4ac33409e84b6d7",name:"TPT - IE - AEM - GTagDC - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8518922b7f174ca4bd9e2ed626b8f3ac-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5dcd22df2de84c83bec2933a40ebfb89",name:"TPT - DE - AEM - ContentSquare - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"matchesRegex",caseInsensitive:!0},leftOperand:"%URL%",rightOperand:"mein-bmw\\.html"},negate:!0}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0f0a5800eac04709b935eb118c596eea-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9890017ce6e1433d942f50be3428a9be-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL484abe02f5b643da9612a96ac2389ae2",name:"TPT - CZ - AEM - Facebook - View Content - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3cc2439c44d448a093646264bbc5351b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe906e6befa0e4fa6b477d6289c1f5115",name:"TPT - SG - AEM - Adform - Contact email - EBR",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon--email.ds2-icon.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/offers-and-services/corporate-direct-sales/corporate-sales-overview.html",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0c0c9a2033ec46f5b3502b5eb3638441-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb6b2667c93fb49659eb3ab294a9ed75f",name:"TPT - UK - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf1980a0a708b48efa6d7520e4b87a4e2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8c58a5870d624cf88819a621cf795ca5",name:"TPT - NL - AEM - GtagAW - Service Inclusive Form Completed - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfs"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8bb3df3bbed742b288328fe6d9ebb653-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLda63f065ed1f4b32ac3e77254035594a",name:"TPT - NL - AEM - Facebook - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC315a40e1df0e4ed2ab81c53822a8e468-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL93e42cb3be874fd0be82efa30b80cc18",name:"TPT - LU - AEM - GTagDC - Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC96c94f555a47463982037f13c7eac902-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC049ca9166c294dde95a6a5441d3cb67e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8c56b167b0904b1a8a90a4b1688af7aa",name:"TPT - DE - AEM - Facebook - TDA Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcff93132dd8d4b6ba335949136958d56-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc5fedcb3e7984884841472bfbaef99f2",name:"TPT - SK - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC20d4c578d5324d26aeb6d40c1b7a2118-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9cd461ea9324403caf590f430e59b412",name:"TPT - LU - AEM - GTagDC - Forms Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8ed683248be84324973b0759a405a53f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9da1344e7be240578e0b71f41c292a88-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5b3b81ce6f5e4c639a06b40e73099388",name:"TPT - AT - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9c5f52d8c5f34fee8fb5185031371a6a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9700e41f3bcd47beaab7c3be747c066a",name:"TPT - DK - AEM - GTagDC - RFC Form - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.dk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/da/generelt/kontakt/bmw-danmark.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2df0df0881f54de4bc60cb8b27b1c98d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLee8c42b6011140afb9d16625cf6770cb",name:"TPT - UK - AEM - Adform - iFrame RFO Download Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC731ac909166846a986511e47d367ebbe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL111c71d0d89f4601b7ff000b4816a60f",name:"TPT - MX - AEM - Retargetly - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.mx",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC87dc0a30f4dc455f950a0df35102a4df-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL789fce76137b4cfa9ceacf1bb63bd733",name:"TPT - IT - AEM - GTagDC - Stock Locator Checkout Steps - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.it",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/it_IT/home/shop/dcs/nuovi-veicoli/checkout/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC24483b3c59374228b5056988d187af5a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL565316d65ba34f1aa1908fe9621be12c",name:"TPT - SI - AEM - GtagDC - form_tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbfa651e6d20d45a991ad38b64526cab8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL77259459685b4d58942ce922af58d552",name:"TPT - PL - AEM - Adwords - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0a057991959348289a8c92623c67e8d6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf853b41a856846d09a092cc8b2f9145f",name:"TPT - UK - AEM - Adform - Download Brochure - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[title='Download a brochure']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa824f042b28340059f9af455d70a06f4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5ff31e1819724892b85457d2420f7e4b",name:"TPT - UK - AEM - GTagDC - RFI Form Sub - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb0edc623346b4078997c571b567ce5f7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc0d78683208e47109fdf50120b56574c",name:"TPT - SE - AEM - AdForm - BMW iX showroom - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.se",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/sv/alla-modeller/bmw-i/bmw-ix/2021/bmw-ix.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2cccfbc018574935b18e4a2485d9b536-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2359ca56e216409da776fcf07b13a3bf",name:"TPT - NL - AEM - LinkedIn - All pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa821e053bf824e0294233d6c3e203ce8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL197615b2843c4eaaadaa4994f8afeca0",name:"TPT - SI - AEM - GtagDC - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf73098675f7241cf8b973d454aa2444c-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL951eca1231904ddc9cd1070002c17ea7",name:"TPT - MY - AEM - DoubleClick - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb82c981c84f84d7291248a904022f96e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb19b6a05e40f43d2872e9d34431c7805",name:"TPT - BG - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa7dfabdb7df34f2eb0d0a638fcb4249f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5b2ab93c5da144eab429d5b402014a31",name:"TPT - AT - AEM - Pinterest - iFrameRFO Submit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"de/all-models/2-series/activetourer/2021/bmw-2er-active-tourer-ueberblick.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa57fa119eafc4c0696f7c520bc0fe58a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLccdafaa27ed045f487304c85c9a973ae",name:"TPT - PL - AEM - Facebook - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa2ae9d63555143c2820e4dbbef7c7d3b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4b126805f4974ce4b36e33f7fa23eaef",name:"TPT - DE - AEM - Usabilla - Adhoc Survey - Showroom Website II",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.de"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),s=t[t.length-1].toUpperCase();"COM"==s&&(s="DE");var a={DE:{buttonCode:{DESKTOP:"717a962d4119",MOBILE:"f1b470d22f7a"},NPS:{DESKTOP:"2be734de4b9d",MOBILE:"b98ad465df21"},CES:{DESKTOP:"6aa30e439095",MOBILE:"b2a59b55f7e5"},random:{NPS:12,CES:0,Psyma:30,Other:58}}};return null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e])?(npsValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0,null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].CES[e])?(cesValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].CES[e]),cesValue=cesValue.split("/"),noCES="T"!=cesValue[0]):noCES=!0,noNPS&&noCES}catch(e){_satellite.logger.error(e)}}}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{return"showroom"==_satellite.getVar("snapshotDL").get("component.-1.category.subCategory1")}catch(t){var e={from:"TPT",type:"Rule",name:"TPT - DE - AEM - Usabilla - Adhoc Survey - Showroom Website II"};_satellite.logger.error(t,e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC71517c28a21e45da9c6926067f12642a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1767cf8113c3431fa0af41eeedc4b02f",name:"TPT - IT - AEM - GTagDC - Iframe Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa1cb8eedcf90461e8fcdc6bf62e4c43b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb71a7eae3f57462fb12f99060e8f75fc",name:"DCR - AT - All Models -  Adobe Target - Send Visitor Reco",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"send_reco_value"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC18991ce6704049ed886aed0bb62eeec4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL234000e0980d45d6b2e4043afeb740c3",name:"TPT - SK - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC039982670f7340ee91ce69b370033cd4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL900cbc1a1811450e8f08f781d3a63c2a",name:"TPT - AU - AEM - GtagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb414c8da54b746e8a0bf8af7863ebf4a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe26cdb9c8b67405597645f434e1b1ab1",name:"TPT - LU - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC75c40baf77c64881a03ce8e06cd59b0f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8ca454837beb4e9a90438f701c5fb038-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa16bfeeca5194b0a82393a2d10395958",name:"TPT - GR - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8dfd5517dda147c984fa33abf37118a2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb5ff5f05ed0c4c6ca8cdfdd44341c771",name:"TPT - PL - AEM - AdWords - TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".ds2-sticky-sales-bar__link.ds2-tracking-js--event",elementProperties:[{name:"title",value:"TDA"}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdacb74ea820a401ab45971f4879b44c5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7f2d0cf53474492d8791fb793445642c",name:"TPT - KR - AEM - Facebook - Multiple - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.kr",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC08727d8ff6614a039d5ba16aa2e1a925-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3d8a00d3ab964fdabf6f0488e8b2381c",name:"TPT - RU - AEM - Campaign String to Cookie - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ru",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa69a22896b28440db788c25c3fd08f70-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6ef7e63a96f042d585fa570f961e977a",name:"TPT - BE - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".btn.light-on-dark.btn-secondary.md-js-btn-onelogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb51ddaa66df943b1b3363a284afcdb90-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL63f409c907cd47778210abcdf843e41f",name:"TPT - DE - AEM - Facebook - Mini",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"mini.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9e614994d68e431c8898a12670742245-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL935770185b234384a24ab4b75fc3ca64",name:"TPT - DE- AEM - Adform - Open Navigation - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCac5a58043d9645c985025e99f20c6dad-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLce0805e4290b461a94b8bb55717eb1ec",name:"TPT - NL - AEM - GTagDC - SignIn - EBR - p15r[c] ",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5202dd69fe6d4231af244f5c9b7b7987-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9e0deec05b5143e38afb0a6a3f0631a4",name:"TPT - BE - AEM - GTagDC - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC554cead6df8a4f708efa917d2b6bd2f8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa03ed7644a4242b08774a501fc0a5582",name:"TPT - LU - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/forms/rfi/catalog.de.html#/"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCec6bed35b6af4ba6af75a7ff47af0242-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb741c5d239754cb29216104aeaa5bb99",name:"TPT - CZ - AEM - Adwords - Download Brochure - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0f2111a750c5496eb5c31ef4c5258d17-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc784de66445e444b9346ad20cc4d6bcb",name:"TPT - CA - AEM - IgnitionOne - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ca",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%Usabilla_vs_IgnitionOne%",rightOperand:"IgnitionOne"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC82aa54acba5c4d92901c2a789346a1cd-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL12bd57d0a3774651b3e309ea5538f276",name:"TPT - PT - AEM - GTagDC - Stock Locator - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC768192d55b0845d4a7ace0cce0539e94-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd7c68df3ca164a688ac8333fe4d99a48",name:"TPT - GR - AEM - GtagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdcf583041c46451888ccf1628f7adb01-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7261a739e12a43ef8027bbb65b61bda7",name:"TPT - BE - AEM - Facebook - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2d8b16e392424456be398ce1619832d3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1b25dfe79537435b8a8d7e76313892f4",name:"TPT - BE - AEM - AdWords - Broucher - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1500,elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc7b376c21f374a35b7a3d588072bc4cc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd93a068da4dd4c42adae3128749c666d",name:"TPT - SK - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCabf8936b4a254845909a5a65c07b0111-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL274f84ef1f834d79a28efa2443194f2e",name:"TPT - DE - AEM - Criteo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8078498b4dc244999adcc13971a93d56-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL425832f8861943749ad63fc996c6b8b5",name:"TPT - AU - AEM - Floodlight - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.au|p59.bmw.com|bmw-int4.com|bmw.com",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en-au/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9a2c9873d380400d994d3ec226bcb138-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL01758cb71b3149aa965ac008761d2d10",name:"TPT - IE - AEM - Gtag_DC - 5 Series Enquire Now Button - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"/en/ssl/discover-enquire-now.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/all-models/5-series/sedan/2020/highlights.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0c96ae117a514cbfb10df1c0335b56fe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3e067a2e60db44958425fd113aafa2b4",name:"TPT - IT - AEM - Adform - TDA Form Finish - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7a30e0b7083a41df91918497d862dae5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc9b5f52fb5d64e5c9f53e7c0364d632f",name:"TPT - RO - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb4e9dc725412402aa4be9b7d0a93a614-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb85d0a6591e7472291c9ef3f6a41245e",name:"TPT - FI - AEM - AdobeCampaign - iFrame TDA Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf832b7be5079470cac471c3b17e58f68-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL62c0e0b35cbd404ba6de1eedeae4a18f",name:"TPT - UK - AEM - Adwords - Iframe Forms TDA - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6227639c332e4892877ec01306eebd34-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa71f0dd4100b488db00886ee2cd02235",name:"TPT - PL - AEM - GTagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-sticky-sales-bar__link.ds2-tracking-js--event[href = '/forms/rfid/rfid.html']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa73f7f70268143d0bd15f4ec1f068fa4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLecde9ef483e34644a5305b07c9693968",name:"TPT - IT - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6d0566ba56a649778274d40a3f94da8c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL65127e92cc2c45289795afaf5ef8f028",name:"TPT - PT - AEM - Adform - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe505c0f064064354a2d398ef8cb4b47f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa220a40ac0c747b3b04bd66d867d4450",name:"TPT - IE - AEM - Adwords - Adobe form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC30b31d87f82f4dd8b88c86d9cc148d3b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf57e4359a39d46b0891381c802b7e613",name:"TPT - GR - AEM - Adwords - iFrame Forms RFC - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC537ac08c64194cc9b290060875682115-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL46a19cd35da94b7aa4083bb83085abb4",name:"TPT - UK - AEM - Adwords - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd417206db804492bbb7e58c48981688e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL65ad14104dbb47f382f0c290986673ca",name:"TPT - SG - AEM - Precision - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.sg",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6a3a80e2ef3c4335b4a90bae789eac17-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe15097b698c6435d86c5a16b5cda9309",name:"TPT - RO - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0341029ad3fa4f99a8403f50e03525fb-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe319bbf38d90412a94f9c2b53ea8c3c8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL47f7dec7a8ed4352b99884034587f83a",name:"TPT - UK - AEM - Adform - iFrame RFC Download Forms - DCR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/topics/discover/forms/pdi_bmw_i3056_rfc.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC604283f4266b463c898e9ec459ec00dc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL90ab5cf81ef649be916a275dc1b5f669",name:"TPT - FR - AEM - Facebook - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC91e71e85c10744ecbf2282e11c9cedc6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9fd54054f4d7449ba790f3d144e8d4ba",name:"TPT - GR - AEM - Adform - SignIn - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7b13112433044b19ab75372d9ed39612-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL22fc84f88f564d439e34d04bed19c6b5",name:"TPT - RO - AEM - Yahoo - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1be2423818204c67bd6b71112753188b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2abab42d078242a9a4188ac54ded95ba",name:"TPT - RO - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbfabb4d564ec49c5b8ce3fac41682a5e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3ce1df5fcfd43d290cb6134cf45ccdb",name:"TPT - SK - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc8035be5195a4f19ad82a0e20ba0d89b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL71f5cc04ff3048598804d6bbcc14c0f6",name:"TPT - LU - AEM - GTagDC - DLO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3637c4ff1bcb4812a0b8cb907bfb9583-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa0b7adf4abc343049a7a9c4206c31ca2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3d787203ac6c4fdf81b459ceda9ee48b",name:"TPT - NL - AEM - Adwords - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb2efe50292764d09a4b2e915165b3b69-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdc48165c54bf4b93a2aafe8898edfba7",name:"TPT - BE - AEM - Facebook - Site Search - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/search-results/search-results.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC26d50a406c1d490abb50a0455fcc67c8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdc8aecd48930487bbc4dd2b323b936f4",name:"TPT - DE FR IT ES NL AT PL - AEM - Usabilla - Adhoc Survey - DCS Customer Survey",events:[{modulePath:"core/src/lib/events/dataElementChange.js",settings:{name:"URL"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=_satellite.getVar("topLevelDomain"),t=(_satellite.getVar("snapshotDL"),_satellite.getVar("URL"));return t.indexOf("/shop/dcs/")>-1&&t.indexOf("/confirmation/")>-1&&("bmw.de"==e||"bmw.fr"==e||"bmw.it"==e||"bmw.es"==e||"bmw.nl"==e||"bmw.at"==e||"bmw.pl"==e)&&(console.log("conditions fine"),!0)}catch(e){var s={from:"TPT",type:"Condition",name:"TPT - DE FR IT ES NL AT PL - AEM - Usabilla - Adhoc Survey - DCS Customer Survey"};_satellite.logger.error(e,s)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4e1fdf8d0c904802b80d37e29461bf40-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL058338ef856f4490af10d47373931b31",name:"TPT - BG - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC845f412983664954b689c054eab0b638-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1c5ddd50cd954ceb9b132d8ca2b8f391",name:"TPT - BE - AEM - GtagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC89d247b2e64c4fa099ba8fe0c6d60472-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8bece2c355f24d70b2fcd8a3ae2994a5",name:"TPT - SK - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC90f7eb43328f4094996b1103c315d66b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL661fa81a84c8412089c17fde8475da65",name:"TPT - AT - AEM - Facebook - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb1944cad6abe46c6ba9c0f2f746a153d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4eb92a74712b4b2ca03daaa3ac799aa7-source.min.js",language:"html",isExternal:!0}}]},{id:"RLa4a782f3cf2048da9316e244dcc9fda5",name:"TPT - SI - AEM - DoubleClick - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC21fc0663b4e64fa79771a8f113740df2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9317c6fbc8324812a9437ab1e060c708",name:"TPT - IE - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa9b98f01537d4fd19b993baca075d69d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a44a1384cd847aea15e5bf700e09d5b",name:"TPT - CZ - AEM - AdWords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC92f433db1f8942f9941cb6fc7da9520d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0380f6a2e38c4057a152ea85a51fcdaf",name:"TPT - MY - AEM - Adwords - TDA Submission - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.com.my",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%isRegulationAccepted_Tags%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/en/footer/metanavigation/test-drive-request-confirmation.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9a869eb97dc94024a0fb8ab8bab4f5fe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc3cb8b596a494b059b158af140306395",name:"TPT - DE - AEM - Criteo Pixel - TDA Scrape Form Finish - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC74470f360ecb49b691c9414e5bfc47d7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL996f12d117e649eda63c4de523f16d00",name:"TPT - SK - AEM - GtagDC - form_tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC86ecccb83ffa4752a2780eda78eed03b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa33095467f9f4fff85bf239f794fb861",name:"TPT - NL - AEM - Adfrom - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];console.log(s),console.log(a),"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC641a1806ad1b46939d10753949cf8342-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL76ac454c481a46269c478c03a23f3001",name:"TPT - FR - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd456c34960db424ebf8b77d914d72c0d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa37f8228b6ec4e97843d516b07178cd6",name:"All Pages \u2013 AAM \u2013 hasheducid - onelogin",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"customerData",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8e6f4a547f8942c491d979679ab27d2a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3ae65f84a8e9400c87d09d4e47c043b7",name:"TPT - HU - AEM - Daktela - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4ea1a0569ce846e2ab904d39f8f1ff5f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL01e3420043d4424789742c53c1687fd3",name:"DCR - All - NSC - AA - Cookie Consent Tracking",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"cookie_link"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL"),a=window.location.href;_satellite.getVar("setDefaultVariables",e)(t);var o,n=s.get("component.-1.componentInfo.componentName"),r=s.get("component.-1.componentInfo.componentID"),i=s.get("event.-1.eventInfo.eventName"),c=s.get("event.-1.eventInfo.effect"),d=s.get("event.-1.eventInfo.cause"),l=s.get("event.-1.eventInfo.target"),u=s.get("event.-1.eventInfo.eventAction"),b=s.get("event.-1.category.primaryCategory"),m=(s.get("event.-1.category.eventSubCategory01"),s.get("event.-1.attributes.consentItemName"));if("Cookie drawer impression"==i)return t.abort=!0,!1;t.prop1="nsc > "+s.get("page.pageInfo.pageName"),t.prop56="interaction",t.prop53=i.indexOf("impression")>-1?"automatic":"ux",t.eVar34="nsc > "+c,t.prop51=i,t.prop55=c,t.prop52=d,"accept consent"==i?(t.eVar22="accepted",t.prop50=m):"reject consent"==i?(t.eVar22="rejected",t.prop50=m):"detailed information"==i&&(t.eVar22="detailed information",t.prop50=m),"fallback"==s.get("event.-1.attributes.relatedComponentName")?(t.prop19="fallback",t.eVar136="2020 - 06- 15 fallback"):a.indexOf("cookies.html")>-1?(t.prop19="cookie policy page",t.eVar136="2020 - 06- 15 cookie policy page"):(t.prop19="cookie drawer",t.eVar136="2020 - 06- 15 cookie drawer"),t.prop42="nsc website",t.prop43="cookie consent",t.prop44=r,t.prop3=n,t.prop5=s.get("page.category.subCategory02"),t.prop2=s.get("page.category.pageType"),t.eVar134="web",t.prop54=b,t.prop57=u,s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.eVar71=l,t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.linkTrackVars=t.apl(t.linkTrackVars,"prop1,prop2,prop5,eVar22,eVar34,eVar136,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop74,eVar17,eVar71,eVar134");var p={global:"event917,event918,event941",strictlyNecessary:"event917,event918,event941",advertising:"event917,event918,event941",analytics:"event917,event918,event941",functional:"event917,event918,event941","consent impression":"event925,event926","consent content open: manual":"event917,event918","more information":"event917,event918","detailed information":"event917,event918","close cookie drawer":"event917,event918","Cookie drawer impression":"event925,event926","cookie drawer impression":"event925,event926","fallback impression":"event925,event926"};if(o="accept consent"==i||"reject consent"==i?t.apl(o,p[m]):t.apl(o,p[i]),t.events=t.apl(t.events,o),t.linkTrackEvents=t.apl(t.linkTrackEvents,o),0!=s.get("product").length){for(var g in s.get("product"))if(!isNaN(+g)){var f=s.get("product."+g+".attributes.mmdr",s.get("product."+g+".attributes.internalCode")),v=s.get("product."+g+".attributes.mmdrVG",s.get("product."+g+".attributes.internalCode")),h=s.get("product."+g+".attributes.modelCode");eVar10="G26E"==f||"G26E"==v||"71AW"==h||"31AW"==h?"G26E":"G70E"==f||"G70E"==v?"G70E":s.get("product."+g+".attributes.mmdr",s.get("product."+g+".attributes.internalCode"))}var P=_satellite.getVar("setDefaultProductVariables");P.id=eVar10,P.category="new vehicle",P.merchEvars.eVar52=s.get("product.-1.attributes.modelName"),P.merchEvars.eVar60=s.get("product.-1.productInfo.manufacturer"),P.merchEvars.eVar10=eVar10,P.merchEvars.eVar51=s.get("product.-1.attributes.bodyType"),t.products=P.toString()}t.linkTrackVars=t.apl(t.linkTrackVars,"eVar10,eVar52,eVar60,eVar51,products"),t.linkTrackVars=t.rfl(t.linkTrackVars,"campaign"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar61"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar62"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar63"),t.linkTrackVars=t.rfl(t.linkTrackVars,"eVar64")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"%ev_eve_eventName%",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL955ea8ba582e4037a8ad9fe8b2e9132d",name:"TPT - NL - AEM - IgnitionOne - iFrame RFC Forms - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9192370dd79f42b4a8e0dff01997c321-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3a0f663102cd4c90aba93f035364509a",name:"TPT - UK - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCed32ce217ecd4ab5ae1d21d91d3dcbc8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3b54aebfe766472fa9ff4ed2f22040f3",name:"TPT - CZ - AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3af7625d216b42d69a70ceccae3d2c90-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9b62489e9ac24efba57507b233a8f9eb",name:"TPT - IE - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbff2b285ffdb406baaf33446b92ffee9-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcb157a9af9e347cba57b7c7714b501d3",name:"TPT - AT - AEM - AdWords - Start Video - DCR",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcf21f656e0604a3d990e880eca99c235-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7dc8206562bc41579893b280adb7972f",name:"TPT - UK - AEM - GTagDC - iFrame DC Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_dc"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.uk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC16f26c15cbfa44d3a9ab61687a862c49-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3be472051fa4441daf18692221e1f9e3",name:"TPT - BE - AEM - Facebook - TDA/RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC63d25535fd0d4ea88a553aa394aefb84-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL404f3b0f21954adb8125e3a38503be37",name:"TPT - IE - AEM - DoubleClick - Configurator Submit Button Confirmation - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"#h5vco-engine-selection-list > div > article > div.h5vco-next-button-container.h5vco-clearfix > a > span",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf23efb1e7c364b0c94b8f824f5234c0e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8caacd3e5b094ddd9be0a844313152f7",name:"TPT - SK - AEM - Adwords - Adobe form - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7e73c2791b954ad1814335c0fa83be07-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLca923504a73b49f4aa80cd1740fdabe1",name:" TPT - FI - AEM - Gtag_DC - Model Price Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a",elementProperties:[{name:"href",value:"https://www.bmw.fi/fi/footer/osta/hinnastot-ja-esitteet.html",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{
subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/content/dam/bmw/marketNORDICS/bmw_fi/ladattavat/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9c2015ed967e4a2b95c32f08bddef4e6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfa9eecb070b14869be34ebb9559b5c52",name:"TPT - NL - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa7eb50c95988405fb41b9e6d61e56089-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf7da592b8f6d43c396ff61e742505e1c",name:"TPT - RO - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC85405b1cf3984e638e9d88d601abfab7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8694900bd48c4c90babbe5d8b61a7265",name:"TPT - RO - AEM - Adwords - Book a test drive Click - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[title*="tda"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCaa6a51d70ea24b63a5936129b80b1637-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc736c8623ac444a6badee5df1349bf1b",name:"TPT - RO - AEM - Adform - SignIn/SignUp - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0136575a16044450a839719f3c8cc7eb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0a48564db233451d85d9b8c12548e2a1",name:"TPT - NL - AEM - Adwords - iFrame Forms FS RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_fs_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC40b86ed179c3444c81f7422853884170-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc1d72938a55c43018fec0399b4b9de3e",name:"TPT - BE - AEM - Adwords - Iframe Forms RFI - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6ada351cae424b839b28b1853fb5e670-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL12b38d73715c40ccb496301d3f7aa8a9",name:"DCR - All - AEM - AA - Tech Hub",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_filter"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_series_selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_body_selection"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_load_more"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_open"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_close"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_layer_link"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"tech_hub_link"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(t,s){try{var a=_satellite.getVar("snapshotDL"),o=_satellite.getVar("smartPreviousValueManager"),n=a.get("page.pageInfo.pageName");_satellite.getVar("setDefaultVariables",t)(s);var r=_satellite.getVar("setDefaultProductVariables");r.category="new vehicle",r.merchEvars.eVar53="new car",r.merchEvars.eVar54="build to order",s.products=r.toString(),s.prop59=a.get("product.-1.attributes.configID"),s.eVar59=a.get("product.-1.attributes.configLink"),s.eVar135=a.get("page.pageInfo.devEnv"),s.prop1=-1==n.indexOf("nsc >")?"nsc > "+n:n,o.update("pageName",s.prop1);var i=_satellite.getVar("AA-componentDefaultValues");s.prop2=a.get("page.category.pageType"),s.prop3=a.get("page.category.primaryCategory"),s.prop5=a.get("page.category.subCategory02"),s.prop19=a.get("event.-1.attributes.relatedComponent.componentInfo.componentName"),s.prop42=i.primaryCat||"datalayer field empty",s.prop43=i.subCat||"datalayer field empty",s.prop44=a.get("event.-1.attributes.relatedComponent.componentInfo.componentID");var c=a.get("event.-1.eventInfo.eventName"),d=a.get("event.-1.eventInfo.effect"),l=a.get("event.-1.eventInfo.eventAction"),u=a.get("event.eventInfo.cause");switch(s.prop12=a.get("event.-1.eventInfo.timeStamp"),s.prop13="bmw",s.prop50=a.get("event.-1.eventInfo.element"),s.prop52="default",s.prop53="ux",s.prop54=a.get("event.-1.category.primaryCategory"),s.prop55=c,s.prop56="interaction",s.prop58=a.get("event.-1.eventInfo.eventPoints"),s.eVar17=a.get("user.-1.profileInfo.visitorID"),s.eVar34="nsc > "+d,s.eVar71=a.get("event.-1.attributes.requestedURL"),s.eVar136="2020 - 06- 15 tech_hub",l){default:s.prop51=l,s.prop57="internal click";break;case"tech hub series selection":s.prop51=l,s.prop57="drop-down menu";break;case"tech hub layer open":s.prop51=l,s.prop57="open content";break;case"tech hub series selection":s.prop51=l,s.prop57="close content";break;case"tech hub link":s.prop51=u,s.prop57="internal click"}s.linkTrackVars=s.apl(s.linkTrackVars,"products,eVar17,eVar34,eVar59,eVar71,eVar136,prop1,prop2,prop3,prop5,prop12,prop13,prop19,prop42,prop43,prop44,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,prop58,prop59"),s.events=s.apl(s.events,"event917,event918"),s.linkTrackEvents=s.apl(s.linkTrackEvents,"event917,event918")}catch(a){_satellite.getVar("catchblock",t)(s,e)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"Tech Hub",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL38e844a685e0486ab9cb57b67dafbf35",name:"TPT - HU - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.hu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9361e0ce48964a0fb961addcd85412ab-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC002ada1e7a2145bc867e316278e6c172-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6290ff5002114b47be912ef78861f146",name:"DCR - All - AEM - AA - LCI",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"new_pre_configuration"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_image"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"internal_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_content"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_layer"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"close_image"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{t.linkTrackVars="events,",t.linkTrackEvents="",t.events="";var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.eventName"),o=s.get("event.-1.eventInfo.eventAction"),n=(s.get("event.-1.eventInfo.cause"),s.get("event.-1.attributes.relatedComponent.componentInfo.componentName")),r=(s.get("component.-1.category.subCategory01"),s.get("page.pageInfo.pageName",s.get("event.-1.attributes.relatedPageName"))),i=+new Date,c=_satellite.getVar("snapshotDL").get("page.pageInfo.variant");if("small_teaser"!=n&&"multicontent"!=n&&"new_pre_configuration"!=n&&"offers"!=n&&"line_component"!=n&&"new_gallery"!=n&&"highlight"!=n&&"uxs-highlight"!=n)return void(t.abort="true");_satellite.getVar("setDefaultVariables",e)(t),"Close image"==o||"Open layer"==o||"Open navigation"==o||"Open showroom"==o||"Internal click"==o||"Open image"==o||"Open content"==o||"Outbound click"==o||"Download"==o?(t.events=t.apl(t.events,"event917,event918"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918")):"Download"==o?(t.events=t.apl(t.events,"event917,event918,event903,event904"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event903,event904")):"Contact Form"==a?(t.events=t.apl(t.events,"event1,event2"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event1,event2")):"Call Center"==a?(t.events=t.apl(t.events,"event913,event914"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event913,event914")):"Start video"==o&&(t.events=t.apl(t.events,"event917,event918,event351"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event917,event918,event351")),t.prop19="virtual page"===c?"new car stock locator":s.get("component.-1.componentInfo.componentName"),t.prop56="interaction",t.prop53="ux",t.eVar34="nsc > "+a+" clicked",t.prop52="default",t.prop1=t.pageName=-1==r.indexOf("nsc >")?"nsc > "+r:r,t.prop5=s.get("page.category.subCategory02"),t.prop2=s.get("page.category.pageType"),t.prop28="virtual"==s.get("page.category.pageType")?"virtual page":"",t.prop57=s.get("event.-1.eventInfo.eventAction"),s.get("event.-1.eventInfo.eventPoints")&&parseInt(s.get("event.-1.eventInfo.eventPoints"))&&!isNaN(parseInt(s.get("event.-1.eventInfo.eventPoints")))?(parseInt(s.get("event.-1.eventInfo.eventPoints"))>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(s.get("event.-1.eventInfo.eventPoints"))<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+s.get("event.-1.eventInfo.eventPoints"),",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=s.get("event.-1.eventInfo.eventPoints"),t.prop12=s.get("event.-1.eventInfo.timestamp",i),t.eVar71=s.get("event.-1.eventInfo.target"),t.prop50=s.get("event.-1.eventInfo.element"),t.prop54=s.get("event.-1.category.primaryCategory"),t.eVar17=s.get("user.-1.profileInfo.visitorID"),t.prop3=s.get("event.-1.attributes.relatedComponent.componentInfo.componentName",s.get("component.-1.componentInfo.componentName")),t.prop55=s.get("component.-1.category.subCategory01"),t.prop44=s.get("event.-1.attributes.relatedComponent.componentInfo.componentID",s.get("component.-1.componentInfo.componentID")),"multicontent"==t.prop19?t.eVar136="2020 - 06- 15 multi_content":"new_pre_configuration"==t.prop19?t.eVar136="2020 - 06- 15 new_pre_configuration":"offers"==t.prop19?t.eVar136="2020 - 06- 15 showroom":"line_component"==t.prop19?t.eVar136="2020 - 06- 15 line_component":"highlight"==t.prop19||"uxs-highlight"==t.prop19?t.eVar136="2020 - 06- 15 uxs-highlight":"new_gallery"==t.prop19&&(t.eVar136="2020 - 06- 15 new_gallery");var d=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr",s.get("event.-1.category.mmdr"))),l=_satellite.getVar("setDefaultProductVariables");l.id=s.get("event.-1.attributes.mmdr",s.get("product.-1.attributes.mmdr",s.get("product.-1.productInfo.productID"))),l.category="new vehicle",l.merchEvars.eVar52=s.get("event.-1.attributes.productName",s.get("product.-1.attributes.modelName",s.get("product.-1.productInfo.productName"))),l.merchEvars.eVar60=s.get("event.-1.attributes.manufacturer",s.get("product.-1.productInfo.manufacturer")),l.merchEvars.eVar10=d,l.merchEvars.eVar53="new car",t.prop51=s.get("event.-1.eventInfo.eventPoints"),t.products=l.toString(),t.prop74="bmw .next - nsc|dcr - all - aem - aa - lci","download"==e.identifier&&(t.events=t.apl(t.events,"event903,event904"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event903,event904")),t.linkTrackVars=t.apl(t.linkTrackVars,"products,prop19,prop44,prop56,prop51,prop53,eVar34,prop52,prop19,prop1,prop5,prop2,prop57,prop58,prop12,eVar71,prop50,prop54,eVar17,eVar136,prop55")}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"LCI",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RLb6b946a1a8a84261978bab4361877072",name:"TPT - IE - AEM - Facebook - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3466232696fd42b790532668bd7d23eb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL19688428ed8042f6b99933224c6dfa3a",name:"TPT - BE - AEM - Facebook - Make Appointment - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC49b043c58daf44538fbbfbbbe53fb94b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe4c7fadd610342dfa437ab4fb715b576",name:"TPT - DE- AEM - Adform - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC152cb8bf0aa546afbca509b7a7ae321a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcafea2f1794c430f984864e352870226",name:"TPT - BE - AEM - Adform - Form Submissions  - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"pageload_datalayer_ready"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/publicPools/success-pool/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa6841dd9e9e446519584a0b490e25d37-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcf110080aaf9431ea45fb5d55d59304c",name:"TPT - SK - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe842e2a7152e4bc2891289616be8b5e4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1e1c42533a854a8b94b87905fd89146f",name:"TPT - NL - AEM - Facebook - iFrame NSF Forms - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_nsf"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7f188600489f4dc5b89071b0393f9c0e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9a4f84c395144b0086e45ae2244fb309",name:"TPT - PT - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8d39b597c7a84d41997553495f42c5e7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd10e4e0f515448ce892019d53344d091",name:"TPT - CZ - AEM - GtagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC78c71f70ae204b3198dc6e5644ec7ffe-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLeb02f0d7977741929ec74da013b6d2a1",name:"TPT - IE - AEM - Floodlight - TradeInRequest View - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"en/topics/discover/forms/trade-in-request",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC037bc18d59b3452dbbfdd99b285c4be7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe20803bd67a44bfabb74349ecba10968",name:"TPT - FR - AEM - Facebook - Site Search - PLR - p15r[c] ",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC91b5df38e1a3409b9230a25593679602-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1bfd534177234a04b05a068814aefad1",name:"TPT - FI - AEM - Adform - Site Search - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa79a8fbbab3f4137b5e1747a78801201-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL35a31193c0ca4245bde6418d377b8607",name:"TPT - IE - AEM - AdWords - TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:'a[title="Book a test drive"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd3566322926945ee8bf14add155147fb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLac9b1d8070274761bdfe34fc924797ff",name:"TPT - IN - AEM - Facebook - Form Tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.in",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6e36900d3c3749bea8c8f2d6e26da752-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5687cf965dac460ead9e6fa0f58c5fc3",name:"TPT - AT - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href $= "pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb3321d5991ab44bfb30895e5208b159e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe17f011fdb53462dad9d265b1cc0d533",name:"TPT - AT - AEM - GtagDC - Forms Button Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCeb1b993833f842a7bbc18ca45f5fe905-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6102572bde4a46bbb22562f50c30a7fd",name:"TPT - NL - AEM - Adwords - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"local forms"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdf11e65b618844f0a78fd5ec81ef6546-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL44d99db932eb4f5d8004560150bf4219",name:"TPT - GR - AEM - Adform - Adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC79dca811842f4a1a9719d2e3e171a6c4-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL30e77feb3ad94b9c9243120594d5c88c",name:"TPT - ES - AEM - Adform - Local Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];console.log(s),console.log(a),"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb17b49ea19ec42b1ad9e642796a88666-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf3a2055ecee145f38aa2183ab4a373a0",name:"TPT - DE - AEM - GTagDC - SignIn - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf13c58f6dacf4f90a9c23c6a1f7ac2b7-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6108283516db4763b4249c68d78a4bfd",name:"TPT - IT - AEM - Bing - Video Start - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC925126fe55dc4a7fb33324acbbab5304-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3cd07e663a69485c954f95a314ce677e",name:"EBR - CA - iFrame - AA - ACS Page Load",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(-1!=["https://sf-acs.bmw.ca","https://sf-acs-i.bmw.ca"].indexOf(t.origin))if(t.data)try{_satellite.logger.log(JSON.parse(t.data));var s=JSON.parse(t.data);s.detail&&s.detail.custom&&Object.keys(s.detail.custom)&&!Object.keys(s.detail.custom).length&&(_satellite.setVar("acs_event_data",s),e())}catch(e){_satellite.logger.error("EBR: ACS Component Page Load",e)}else _satellite.logger.log("no data in event object",t)}))}catch(e){_satellite.logger.error("EBR: ACS Component Page Load",e)}}},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.ca"}}],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("acs_event_data").detail,a=s.event.length?s.event[s.event.length-1].eventInfo.eventAction:"datalayer field empty",o=s.event.length?s.event[s.event.length-1].eventInfo.eventName:"datalayer field empty",n=s.event.length?s.event[s.event.length-1].eventInfo.eventPoints:"datalayer field empty",r=s.event.length?s.event[s.event.length-1].eventInfo.type:"datalayer field empty",i=s.event.length?s.event[s.event.length-1].eventInfo.timeStamp:"datalayer field empty",c=s.event.length?s.event[s.event.length-1].eventInfo.cause:"datalayer field empty",d=s.event.length?s.event[s.event.length-1].eventInfo.effect:"datalayer field empty",l=s.component.length?s.component[s.component.length-1].componentInfo.componentID:"datalayer field empty",u=s.component.length?s.component[s.component.length-1].componentInfo.componentName:"datalayer field empty",b=s.component.length?s.component[s.component.length-1].category.componentType:"datalayer field empty",m=s.component.length?s.component[s.component.length-1].category.primaryCategory:"datalayer field empty",p=s.component.length?s.component[s.component.length-1].category.subCategory1:"datalayer field empty";s.component.length&&s.component[s.component.length-1].category.subCategory2,t.prop44=l,t.prop19=u,t.prop41=b,t.prop42=m,t.prop43=p,t.prop56=o,t.prop57=a,(n="na"==n?"datalayer field empty":n)&&parseInt(n)&&!isNaN(parseInt(n))?(parseInt(n)>6e4?t.events=t.apl(t.events,"event970=60001",",",1):parseInt(n)<=0?t.events=t.apl(t.events,"event970=0",",",1):t.events=t.apl(t.events,"event970="+n,",",1),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event970")):t.prop58=n,t.prop53=r,t.prop12=i,t.prop52=c,t.eVar34=d}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL13c9a158a3ba4dcfa79085e7e983dcf1",name:"DCR - All - AEM - AA - DCS Canada",events:[{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"tracking: fs ca roadahead",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.effect");if(s.get("event.-1.eventInfo.eventName"),t.prop27=s.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",s.get("page.pageInfo.pageID")),t.eVar135=s.get("page.pageInfo.sysEnv"),t.prop1=s.get("page.pageInfo.pageName"),t.prop1.indexOf("sales >")<0&&(t.prop1="sales > "+t.prop1),t.pageName=t.prop1,t.prop4=s.get("page.category.subCategory1"),t.linkTrackVars+="prop4,",t.eVar34=s.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("sales >")<0&&(t.eVar34="sales > "+t.eVar34),t.eVar151=s.get("page.attributes.solutionSpecific.checkoutMethodsAvailable"),t.eVar152=s.get("page.attributes.solutionSpecific.deliveryMethodAvailable"),t.eVar153=s.get("page.attributes.solutionSpecific.paymentMethodsAvailable"),t.eVar154=s.get("component.-1.attributes.referringComponent"),t.eVar155=s.get("cart.attributes.offerID"),t.eVar156=s.get("page.attributes.checkoutID"),t.prop42="vehicle sales platforms",t.prop43="indirect sales",t.prop19="digital checkout solution","sales > dcs: order submit success"==a){var o=s.get("page.attributes.purchaseID");t.events=t.apl(t.events,"purchase"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"purchase"),t.purchaseID=o}var n=_satellite.getVar("topLevelDomain");"mini.de"!=n&&"mini.fr"!=n&&"mini.be"!=n&&"mini.lu"!=n&&"mini.it"!=n&&"mini-int7.com"!=n||(t.prop13="mini"),t.linkTrackVars+="prop27,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,eVar151,eVar152,eVar153,eVar154,eVar155,eVar156,,prop33,eVar28,prop31,eVar14,purchaseID"}catch(e){var r={from:"AA",type:"Rule",name:"DCR - All - AEM - AA - DCS Canada"};_satellite.logger.error(e,r)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"DCS",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL09e9b23e39524b258e6ede903a0bbd68",name:"TPT - BG - AEM - GTagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'a[href$=".pdf"]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},
ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCaa3103b3db9f47819c546b64cd3e5d55-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdacc3c411f7e4daa96ad8cbc6da7f9af",name:"TPT - SK - AEM - GTagDC - Sign In - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".btn.light-on-dark.btn-secondary.md-js-btn-onelogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3b77a9a5729241cc8c2f431e59175f40-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe5d9709fb2444a2ca2475c79c0e3cd25",name:"TPT - CZ - AEM - Facebook - adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC98b3a8969fdb418ea6bae7c50750c5e2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL600b6f65aadb486ea782dc4ea9c8e98f",name:"TPT - CH - AEM - GtagDC - RFO Stock Locator FormSubmit - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC21ccb479e4c94fd19e302a7c9201b980-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL448fd51fea514e098579aa92ffcfb298",name:"TPT - BE - AEM - Adform - Form Submission - RFI - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC834ba83cf3304d1dab0676c6c2a04425-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL34ee21679d7243e381d21e936690f52b",name:"TPT - LU - AEM - Adform - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC074625070cd74123be1fd272caeedd30-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe6f94cbf8f704edd9161bfd15d905e37",name:"TPT - CZ - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.cz",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2863c8023168406e89b34288df9ef533-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1a5e0c6ca37b4661b232c3718b4800d0",name:"DCR - All - AA - Custom Code - TRON Visualizer",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("TRON:visualizer",(function(t){void 0!==t.detail&&"error"!=t.detail.event.name&&(_satellite.setVar("tronVisualizer",t.detail),console.log("tron visualizer Executed"),e())})),window.addEventListener("TRON:video player",(function(t){void 0!==t.detail&&"error"!=t.detail.event.name&&(_satellite.setVar("tronVisualizer",t.detail),console.log("tron Video Executed"),e())}))}catch(e){_satellite.logger.error("Tron Custom Event Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.logger.log("Rule: ",e.$rule.name," fired identifier ",e.identifier);var s=_satellite.getVar("tronVisualizer"),a=s.event.effect,o=s.event.speed,n=s.component.name,r=s.custom.mediaTotalLength,i=s.custom.mediaCurrentTime;if(o=s.event.speed,_satellite.getVar("setDefaultVariables",e)(t),_satellite.getVar("setTronDefaultVariableGeneric")(t),"video player"==n){switch(a){case"media started":t.events=t.apl(t.events,"event351");break;case"media milestone 10%":t.events=t.apl(t.events,"event352");break;case"media milestone 25%":t.events=t.apl(t.events,"event353");break;case"media milestone 50%":t.events=t.apl(t.events,"event354");break;case"media milestone 75%":t.events=t.apl(t.events,"event355");break;case"media milestone 95%":t.events=t.apl(t.events,"event356")}t.events=t.apl(t.events,"event357="+r),t.events=t.apl(t.events,"event358="+i),t.events=t.apl(t.events,"event970="+o)}if("visualizer"==n){switch(a){case"3D view started":t.events=t.apl(t.events,"event311,event313");break;case"3D view ended":t.events=t.apl(t.events,"event315,event313");break;default:t.events=t.apl(t.events,"event313")}o>0&&(t.events=t.apl(t.events,"event970="+o)),t.events=t.apl(t.events,t.events)}_satellite.setVar("tronVisualizer",""),t.events=t.apl(t.events,t.events),t.linkTrackVars=t.apl(t.linkTrackVars,"events"),t.linkTrackEvents=t.events}catch(s){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(s)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL0bfe5170d81141358c54e59d5fa8f92c",name:"TPT - CH - AEM - DoubleClick - ROI-SubmitForm - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:'form[gcdm-lead-context="BMW_digital_ROI"] #brochure-submit[gcdm-form-submit]',bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC069670043b034b57a150962f0ae24a89-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0c591fd505e14730b29dcc1770b6c79e",name:"TPT - HU - AEM - Adform - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf33bd7f98fed49789589fd5058e84e90-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL68bdad885d404c16ad1ac4b46d9143c6",name:"TPT - BE - AEM - AdWords - TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".ds2-sticky-sales-bar__link.ds2-tracking-js--event",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8a99167f80344e7c88023a50d967fead-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7791bbad36ae423e8c9bbfe027dabb0b",name:"TPT - IT - AEM - GTagDC - Form Submit - TDA - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/success-pool/success-page",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC972c650fb8544d5cae297bf98be0c236-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd503c564afdb4713a0d56e28429e9930",name:"TPT - CH - AEM - GtagDC - Multiple Pages - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6f76ab47586942998333e4adcb3305ef-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc01eff05da3240abbb5eb953bdbb0fb4",name:"TPT - FI - AEM - Adform - ConfigurationLand - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/fi/rakenna-oma-bmw.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC163ac09391cb427ca9a95c63d46d1842-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL81a4aec5289542e6bf596b848fcc737f",name:"TPT - IE - AEM - Floodlight - Open Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe559bc0717744590be67712a68f978a3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd3610b13d69b46e4a9be93e2b2afb93a",name:"TPT - PL - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbe8a9add0993472eb0fcad3dfe12dc3c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL5d7c845e91ef43b3b5372cb385e39494",name:"TPT - NL - AEM - Adwords - iFrame Forms TDA - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_tda"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6ad874377ee840179c00391c3e695438-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL9dab7b2ba0854d59bfe271613140f5b7",name:"TPT - AT- AEM - Adform - Start Video - SCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbb5d247ef37e445b8e83f2ed743d2c10-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL02983986322d4d20b373c59e2a808ea0",name:"TPT - RO - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC64c0763c61324efd9620f3172f0de01b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe2b7cead244746ae93a65c52312e744b",name:"TPT - SI - AEM - GtagDC - Brochure Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:"a[href$='pdf']",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1565779b4b564e149a7f766b9d05fa12-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbb956ff730c7480786f1f5552a08c04f",name:"TPT - BE - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb8416d73959c4190b7e9f91f88d1d2c0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfc644bf9dffe43d8830e3c04c98ef8c8",name:"TPT - ES - AEM - Adform - Brochure Download - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4f3b1b3e52684a1faf014ebb13715894-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLbeb1d4d768ab4fbcad17011c1975333b",name:"TPT - IE - AEM - Adwords - Get A Quote - EBR  - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:500,elementSelector:"a",elementProperties:[{name:"href",value:"https://discover.bmw.ie/get-a-quote/",valueIsRegex:!0}],bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2329ad1cfd114550b41735dac3a4562b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd02d33c945a04765bb2b841461c2d94e",name:"TPT - PL - AEM - Facebook - Multiple Form Submission - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC53b55407b5d841fd863df779c2299b1b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLead01b8b8fca4dfdbb95bb4470ad32fe",name:"TPT - DE - AEM - ContentSquare - Stock Locator Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator-page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdfed59674c1a4adda7501f5386ece36f-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb3208945fd994540a771273d7aa5b446-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLcb4ffe94e83d406a9851074791219b18",name:"TPT - RO - AEM - Adwords - iFrame Forms RFO - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfo"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCab468dcf10f7453892c92c17843b7821-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd6944fa71cc04c6b8dd9dc4dc77a741d",name:"TPT - IT - AEM - Floodlight - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0e2a9e518051497aa22c649c078cf62b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL667da7cbfbcd4fada8d1680ff77c81c3",name:"TPT - GR - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCcf70dba226d54ca58d90a65a42a4e597-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL41af99e282b3470ba68eb2499ca5ac11",name:"TPT - BE - AEM - DoubleClick - Configurator Steps & Save Event - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/historyChange.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){var e=_satellite.getVar("pa_pag_pageName"),t=_satellite.getVar("previousStepName");if(null==t||t!==e)return _satellite.setVar("previousStepName",e),!0}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc7b12e31ea0d4d158a7de27eba44a71f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL39398115a3a1478db09b24563c877049",name:"TPT - SK - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.sk",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd48cde1275ee4e23bcd13e121de63d18-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc9b0145e241b46129507dce9987e7cb4",name:"TPT - AT - AEM - Adform - Adobe form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2eb3896727d24235979c433936fc34bb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL27dbad51b0244500bc934e7d85449558",name:"TPT - FI - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfe75f26b6b694116904dd7702f58d7ec-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4f28c70f121743f599a4cae96f0465ba",name:"TPT - GR - AEM - DoubleClick - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.gr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCbdf9c095b60549438d43d2523d6acb4d-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8fb69bb000ce4a92b19b19baee5af655-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfb373f9cfe154f3896edc830f9f3d00a",name:"TPT - RO - BMW - AEM - Adwords - Shop Events - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"oneshop_event"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ro",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC56e702170bc44e589c2f89ef496e6b7a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL4f4109680574430198ff852e26b7e021",name:"TPT - IT - AEM - Facebook - Multiple - Form Submission - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("message",(function(t){if(void 0!==t.data&&t.data.toString().indexOf("tracking-localform")>-1){var s=JSON.parse(t.data),a=s.args[1];"tracking-localform"==s.methodName&&(_satellite.setVar("LocalFormEvent",a),e())}}))}catch(e){console.log(e)}}},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"IT"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7980a049a62a476fbb0a994cc25cea4e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLf667ea4346a045088af71a68f6a07b90",name:"TPT - JP - AEM - YDN - All Pages - PLR -p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC3d0d800c31f44afb965338861124c909-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCe0ff2b2589724f6a8f0bc90e0060f69a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL7a277b4fb353415c8898153fb5e40833",name:"PLR - AT - All Pages - Custom Script - Visitor Reco Script",events:[{modulePath:"core/src/lib/events/pageBottom.js",settings:{},ruleOrder:200},{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("re-trigger",(function(t){t.detail&&t.detail.processing==_satellite.getVar("consentMap").AdobeAnalytics&&e()}))}catch(e){_satellite.logger.error("Visitor Reco Script",e)}}},ruleOrder:45}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{
source:'try {\n    ! function() {\n        "use strict"\n\n        function addDimension(e, i, o) {\n            e[i] = o\n        }\n\n        function removeDimension(e, i) {\n            delete e[i]\n        }\n\n        function weight_value(e, i) {\n            return {\n                weight: e,\n                value: i || 0\n            }\n        }\n\n        function updateBucket(e, i, o) {\n            var r = e[i]\n            for (var t in r) t == o ? score_obj[i][t].value = 1 : score_obj[i][t].value = 0\n            if (shouldCalculateScore) {\n                var n = calculateScore(score_obj)\n                shouldDisplayScore && _satellite.logger.log("Visitor Reco Value = " + n)\n            }\n        }\n\n        function calculateDimensionScore(e, i) {\n            var o = 0,\n                r = e[i]\n            for (var t in r) r[t] != {} && (o += r[t].weight * r[t].value)\n\n            return o\n        }\n\n        function calculateScore(e) {\n            var i = 0\n            for (var o in e) i += calculateDimensionScore(e, o)\n\n   \n            return rawScore = 1e3 / (1 + Math.exp(-i)), finalScore = Math.round(100 / (1 + Math.exp(-i))), _satellite.setVar("raw_score", rawScore + ""), _satellite.setVar("final_newscore", finalScore + "")\n        }\n\n\n        function getParsedCookie(e) {\n         var i=window.epaas.api.getPersistence(e);\n          //   var i = getCookie(e)\n            return JSON.parse(i) || {}\n        }\n\n        function getParameterByName(e, i) {\n            i || (i = window.location.href), e = e.replace(/[\\[\\]]/g, "\\\\!@#TOKEN172!@#")\n            var o = RegExp("[?&]" + e + "(=([^&#]*)|&|#|$)"),\n                r = o.exec(i)\n            return r ? r[2] ? decodeURIComponent(r[2].replace(/\\+/g, " ")) : "" : null\n        }\n\n        function listener(e, i) {}\n\n        function check_device_type() {\n          var e = getParsedCookie("v_reco_data"),\n                 i = JSON.parse(JSON.stringify(e.device_type || {})) \n          navigator && navigator.userAgent && (navigator.userAgent.match(/mobile/i) ? e.device_type = "mobile": navigator.userAgent.match(/iPad|Android|Touch/i) ? e.device_type = "tablet" : navigator.userAgent.match(/Macintosh|Windows NT/i) ? e.device_type = "desktop": e.device_type = "misc"),updateBucket(score_obj, "device_type", e.device_type),window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n        }\n\n        function check_session_duration() {\n            shouldDisplayScore = !0\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.session_duration || 0\n            59 >= i ? updateBucket(score_obj, "session_duration", "leq59") : 299 >= i ? updateBucket(score_obj, "session_duration", "g59_leq299") : 599 >= i ? updateBucket(score_obj, "session_duration", "g299_leq599") : 1799 >= i ? updateBucket(score_obj, "session_duration", "g599_leq1799") : 3599 >= i ? updateBucket(score_obj, "session_duration", "g1799_leq3599") : i >= 3600 && updateBucket(score_obj, "session_duration", "g3599")\n            var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.session_duration || 0\n                    r++, 1 == r ? updateBucket(score_obj, "session_duration", "leq59") : 60 == r ? updateBucket(score_obj, "session_duration", "g59_leq299") : 300 == r ? updateBucket(score_obj, "session_duration", "g299_leq599") : 600 == r ? updateBucket(score_obj, "session_duration", "g599_leq1799") : 1800 == r ? updateBucket(score_obj, "session_duration", "g1799_leq3599") : r >= 3600 && (updateBucket(score_obj, "session_duration", "g3599"), clearInterval(o)), i.session_duration = r + "",/*setCookie("v_reco_data", i)*/ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n            \n            }, 1e3)\n        }\n\n        function check_configurator_session_duration() {\n            var e = getParsedCookie("v_reco_data"),\n                i = +e.session_duration_configurator || 0\n            if (i && (70 >= i ? updateBucket(score_obj, "session_duration_configurator", "leq70")\t : 350 >= i ? updateBucket(score_obj, "session_duration_configurator", "g70_leq1350") : i >= 351 && updateBucket(score_obj, "session_duration_configurator", "g350")), (URL.indexOf("configure.bmw") > -1|| URL.indexOf("konfigurator.html") > -1)) var o = setInterval(function() {\n                var e = _satellite.getVar("isAdobeAnalyticsAllowed")\n                if ("false" == e) clearInterval(o)\n                else {\n                    var i = getParsedCookie("v_reco_data"),\n                        r = +i.session_duration_configurator || 0\n                    r++, 1 == r ? updateBucket(score_obj, "session_duration_configurator", "leq70") : 71 == r ? updateBucket(score_obj, "session_duration_configurator", "g70_leq350") : r >= 351 && (updateBucket(score_obj, "session_duration_configurator", "g350"), clearInterval(o)), i.session_duration_configurator = r + "",/* setCookie("v_reco_data", i) */ window.epaas.api.setPersistence("v_reco_data",JSON.stringify(i))\n                }\n             \n            }, 1e3)\n        }\n\n        function check_channel() {\n         \n            var e = getParsedCookie("v_reco_data")\n            \n            if (e.last_channel && "other" != e.last_channel) updateBucket(score_obj, "last_channel", e.last_channel)\n            else {\n                e.last_channel = "other"\n                for (var i = 0; i < queryPaidParameters.length; i++)\n                    if (getParameterByName(queryPaidParameters[i], URL)) {\n                        e.last_channel = "paid_search"\n                        break\n                    } if ("other" == e.last_channel) {\n                    var o = getParameterByName("tl", URL) || ""\n                    0 == o.indexOf("sea") || 0 == o.indexOf("Sea") ? e.last_channel = "paid_search" : (0 == o.indexOf("dis") || 0 == o.indexOf("Dis")) && (e.last_channel = "display")\n                }\n                updateBucket(score_obj, "last_channel", e.last_channel)\n            }\n          window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n     \n        }\n\n       \n\n    function check_pageview_metrics() {\n     \n            var e = getParsedCookie("v_reco_data"),\n                i = JSON.parse(JSON.stringify(e.distinct_page_visits || {})),\n                t = 0,\n                n = !0,\n                a = !0\n     var hostname=window.location.host\n      if(hostname.indexOf("www.")>-1)\n        hostname=hostname.replace("www.","")\n    var pathURL = hostname+window.location.pathname\n           i[pathURL] ? i[pathURL] += 1 : i[pathURL] = 1\n\n            for (var s in i) t++ \n          2 > t ? updateBucket(score_obj, "distinct_page_category_visit", "leq1") : 2 == t ? updateBucket(score_obj, "distinct_page_category_visit", "eq2") : 4 >= t  ? updateBucket(score_obj, "distinct_page_category_visit", "g2_leq4") : 7 >= t  ? updateBucket(score_obj, "distinct_page_category_visit", "g4_leq7"): t > 7  && (updateBucket(score_obj, "distinct_page_category_visit", "g7"), t > 8 && (a = !1)), a && (e.distinct_page_visits= i,/*setCookie("v_reco_data", e)*/window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n)\n      \n       \n        }\n        function check_visitor_type() {\n            var e = getParsedCookie("v_reco_data")\n            e && updateBucket(score_obj, "user_type", e.user)\n          \n        }\n       function check_model_viewed() {\n              var e = getParsedCookie("v_reco_data")\n         \n              if (e.model_visited && "yes" == e.model_visited) updateBucket(score_obj, "model_visited", e.model_visited)\n              else if ( URL.indexOf("/all-models/") >-1){ \n               e.model_visited="yes"\n             updateBucket(score_obj, "model_visited", e.model_visited)\n             }\n              else{\n              e.model_visited="no"\n             updateBucket(score_obj, "model_visited", e.model_visited)\n         }\n         window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e))\n        }\n       function check_configurator_viewed() {\n            var e = getParsedCookie("v_reco_data")\n            if (e.con_section_visited && "yes" == e.con_section_visited) updateBucket(score_obj, "con_section_visited", e.con_section_visited)\n             else if ( URL.indexOf("configure.bmw.at") >-1|| URL.indexOf("/konfigurator.html")>-1) {\n               e.con_section_visited="yes"\n               updateBucket(score_obj, "con_section_visited", e.con_section_visited)\n             }\n         else{\n           e.con_section_visited="no"\n          updateBucket(score_obj, "con_section_visited", e.con_section_visited)\n         }\n         window.epaas.api.setPersistence("v_reco_data",JSON.stringify(e)) \n       }\n\n        function init() {\n            var e = {},\n                i = {},\n                o = {},\n                r = {},\n                t = {},\n                n = {},\n                a = {},\n                s = {},\n                b = {},\n                c = {}\n            if (addDimension(s, "always_on", weight_value(-3.662118, 1)),\n\t\t\taddDimension(i, "leq1", weight_value(0)), \n\t\t\taddDimension(i, "eq2", weight_value(1.99889)),\n\t\t\taddDimension(i, "g2_leq4", weight_value(2.502553)),\n            addDimension(i, "g4_leq7", weight_value(2.588481)),\n            addDimension(i, "g7", weight_value(3.986874)),\t\t\t\n\t\t\taddDimension(o, "leq59", weight_value(0)), \n\t\t\taddDimension(o, "g59_leq299", weight_value(2.55341)),\n\t\t\taddDimension(o, "g299_leq599", weight_value(2.449621)), \n\t\t\taddDimension(o, "g599_leq1799", weight_value(3.07738)), \n\t\t\taddDimension(o, "g1799_leq3599", weight_value(2.790434)),\n\t\t\taddDimension(o, "g3600", weight_value(2.382506)),\n\t\t\taddDimension(r, "leq70", weight_value(0)), \n\t\t\taddDimension(r, "g70_leq350", weight_value(-0.903169)), \n\t\t\taddDimension(r, "g350", weight_value(-1.248686)),\n\t\t\taddDimension(t, "new", weight_value(0)), \n\t\t\taddDimension(t, "returning", weight_value(0.092474)), \n\t\t\taddDimension(n, "mobile", weight_value(0.400441)),  \n\t\t\taddDimension(n, "desktop", weight_value(0.115943)), \n\t\t\taddDimension(a, "paid_search", weight_value(-0.326148)), \n\t\t\taddDimension(a, "display", weight_value(0)), \n            addDimension(b, "yes", weight_value(0.329901)),\n            addDimension(b, "no", weight_value(0)),\n            addDimension(c, "yes", weight_value(-1.763288)),\n            addDimension(c, "no", weight_value(0)), \n\t\t\taddDimension(score_obj, "distinct_page_category_visit", i), \n\t\t\taddDimension(score_obj, "session_duration", o), \n\t\t\taddDimension(score_obj, "session_duration_configurator", r), \n\t\t\taddDimension(score_obj, "user_type", t), \n\t\t\taddDimension(score_obj, "device_type", n),\n\t\t\taddDimension(score_obj, "last_channel", a), \n\t\t\taddDimension(score_obj, "intercept", s), \n            addDimension(score_obj, "model_visited", b),\n            addDimension(score_obj, "con_section_visited", c),\n\t\t\tcheck_device_type(), \n\t\t\tcheck_pageview_metrics() ,\n\t\t\tcheck_channel(),\n            check_model_viewed(),\n            check_configurator_viewed(),\n\t\t\tcheck_visitor_type(),\n\t\t\tcheck_configurator_session_duration(),\n\t\t\tcheck_session_duration(), \n\t//\t\tgetCookie("bmwdtm_hq_sid")\n               window.epaas.api.getPersistence("bmwdtm_hq_perf"))\n shouldSendScore = !0\n            else {\n                setTimeout(function() {\n                    shouldSendScore = !0\n                }, 3e4)\n            }\n        }\n        var score_obj = {},\n            shouldSendScore = !1,\n            isScoreSame = !1,\n            shouldCalculateScore = !0,\n            shouldDisplayScore = !1,\n            URL = document.location.href,\n            rawScore, finalScore, prevScore, queryPaidParameters = ["wt.mc_id", "bmw", "WT.mc_id", "gclid", "utm_campaign"]\n        window.addEventListener("score_visitor", listener), _satellite.getVar("setUserTypeForReco"), init()\n    }()\n} catch (err) {\n    _satellite.logger.error("Error in Visitor Reco Script ", err)\n}',language:"javascript"}}]},{id:"RL160e01aec70b4cce93feba8f354e0175",name:"TPT - IE - AEM - Adwords - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5bb7a79a4f7a437d907f80e2d2547fac-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL8a458033a7b24f86bb2d1571e17acf29",name:"TPT - ES - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1852e24e9288481481049193fc8b157e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLda33fa2b7459498a82fa4dc025e6c1c9",name:"DCR - All - AEM - AA - Compare",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"compare_technical_data_interaction"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var s,a,o,n,r,c=_satellite.getVar("snapshotDL"),d=c.get("event.-1.attributes.linkedComponent.componentInfo");for(i=0;i<c.get("component").length;i++){var l=i.toString();c.get("component."+l+".componentInfo.componentID")==d&&(_satellite.logger.log("related component - "+l),a=c.get("component."+l+".componentInfo.componentName",c.get("event.-1.attributes.relatedComponentName",c.get("product.-1.attributes.relatedComponentName"))),s=c.get("component."+l+".componentInfo.componentID",c.get("component."+l+".componentInfo.componentId")),o=c.get("component."+l+".category.primaryCategory"),n=c.get("component."+l+".category.subCategory01"),r=c.get("component."+l+".category.componentType",c.get("component."+l+".componentInfo.componentType")))}t.prop55=c.get("event.-1.attributes.errorCode"),t.eVar151=c.get("event.-1.attributes.totalVehicleCount"),t.eVar34=c.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("nsc >")<0&&(t.eVar34="nsc > "+t.eVar34),t.prop41=r,t.prop42=o,t.prop43=n,t.prop44=s,t.prop19=a,t.prop1=c.get("page.pageInfo.pageName"),t.prop1.indexOf("nsc >")<0&&(t.prop1="nsc > "+t.prop1),t.pageName=t.prop1,t.linkTrackVars+="prop1,pageName,prop19,prop41,prop42,prop43,prop44,prop55,eVar34,eVar151"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"compare",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL6a1e7aa0a02748689ff65b6c651a7b89",name:"TPT - FI - AEM - Adform - Brochure Download - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"second",count:3}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC00fc746911b94f77a423a7b1dcefd631-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe1622337faa14c7d81400c3459fd5f17",name:"TPT - AT - AEM - Adform - Site Search - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC51a7e77f031743d094b7b9b3dfcd4179-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLd258d48319624ef7aea3ce572ffa7b4c",name:"TPT - IT - AEM - GTagDC - BookTestDrive - ButtonClick - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.it",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/it/topics/test-drive-now/",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7ce2400ba29f454bbd0d266fadcc51fb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL925143d1327249138d247834531553dd",name:"TPT - LU - AEM - Adform - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/submit.js",settings:{elementSelector:"button next-best-action ds2-dlo-dealer-details--button dlo-button ng-binding ng-scope",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCebf009550d8e4190afe4f915e4c5c333-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL14c8b8e7f2ba4f4b876fa6a80184c0fe",name:"TPT - PL - AEM - GTagDC - Video - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC40c7045a9771464a88928943f1b4d66e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1711e34a83b442dcb8c539a9adb24a5a",name:"TPT - CH - AEM - GtagDC - RFI-OrderBrochure/DownloadBrochure - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"iframe_forms_rfi"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf2ad06ea7c164f7aac1d43cd5acbf9c2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL85a90b87cd1e4a4b90bd0f5664b37a94",name:"TPT - FI - AEM - Adform - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fi",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf3e1d97ce8b64302bd0b8be76e8aa9d0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL38d208d1373645a796fbd9c2479e734e",name:"TPT - BE - AEM - DoubleClick - Scrape Form Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"temp_form_start"},ruleOrder:50},{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCd83b5153ce264421add6d77bb3c81675-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL617a50cf89dc4488a77de14b49ca02af",name:"TPT - LU - AEM - Dynatrace - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCab0a7c1739724c07beb2b8ab13f1584f-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3e570c654c9947fba4f4600365bdeca8",name:"PLR - AT - All Models - Custom Script - Visitor Reco Target ",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.at"}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{global:!1,source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0b6e391b472c4108bdd5ef8d8a211887-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL2da517900e1b405a899cb14ccf893c8f",name:"TPT - NL - AEM - GtagAW - DCS PV - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dcs_pv"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC460879297a4f4e309ff1e0caf4248bbb-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6fd2933293d644bd81b202cb8050f7e3",name:"TPT - DE - AEM - Facebook - Scrape Form Finish - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"forms_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.de"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCf446c2109db44ddfab6d23c2fa337248-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL09d6b771e5714d65bf2295a96b1ddcad",name:"TPT - PL - AEM - Facebook - dlo_state_standalone - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"dlo_state_standalone"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCafab8a2b9c184005ae6e42c7e63c4dc6-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLeddb24153ae64427bae0499fc9b536a0",name:"TPT - CH - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%geoRegion%",rightOperand:"CH"}},{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"www.bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCb31e85da11aa4526b0543521bf8b7d76-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfe86743aa3ac45c1b1016b284162c075-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL751b213f8d4b42c2be18b365576d50dc",name:"TPT - FR - AEM - Facebook - Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC67ed2c15e8de4293bc24ff6b762d1c2a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0ffd43c8f4c841c79e4777618e55fe15",name:"TPT - PT - AEM - GTagDC - Multiple - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4267ce071f8c4de8833462a3f574ac5d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb70a828f510c43e89d4984bee05e72fd",name:"Custom Code - All - AA - TRON - Event",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("TRON: generic event listener",(function(t){_satellite.logger.log(t,"TRON Event listener"),"page view"!=t.detail.event.eventInfo.eventName&&(delete t.detail.custom,_satellite.setVar("tronEventDataLayer",t.detail),e())}))}catch(e){_satellite.logger.error("TRON Event Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL");_satellite.getVar("setDefaultVariables",e)(t);var a=function(){var e=s.get("product.0.category.productType"),a=s.get("product.0.productInfo.productID"),o=_satellite.getVar("productBuilder");o.id=a,o.category=e;var n={eVar10:s.get("product.0.attributes.mmdrVG",s.get("product.0.attributes.mmdr")),eVar44:s.get("product.0.attributes.productionYear"),eVar45:s.get("product.0.attributes.yearOfRegistration"),eVar46:s.get("product.0.attributes.status"),eVar47:s.get("product.0.productInfo.color"),eVar48:s.get("product.0.attributes.modelCode"),eVar49:s.get("product.0.attributes.gearing"),eVar50:s.get("product.0.attributes.series"),eVar51:s.get("product.0.attributes.bodyType"),eVar52:s.get("product.0.productInfo.productName"),eVar53:s.get("product.0.category.primaryCategory"),eVar54:s.get("product.0.category.subCategory1"),eVar55:s.get("product.0.category.subCategory2"),eVar56:s.get("product.0.attributes.fuelType"),eVar57:s.get("product.0.attributes.hybridVersion"),eVar58:s.get("product.0.attributes.motorization"),eVar60:s.get("product.0.productInfo.manufacturer"),eVar65:s.get("product.0.attributes.modelName"),eVar66:s.get("product.0.attributes.trimLevel"),eVar69:s.get("product.0.attributes.modelCodeAG")};o.merchEvars=n;var r=[];return r.push("event831=0"),r.push("event832=0"),r.push("event833=0"),r.push("event834=0"),r.push("event835=0"),r.push("event836=0"),r.push("event837=0"),r.push("event858=0"),o.events=r,t.events=t.apl(t.events,"event831,event832,event833,event834,event835,event836,event837,event858"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event831,event832,event833,event834,event835,event836,event837,event858"),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69",","),o}();t.products=a.toString();try{if(t.products){var o="",n=0,r="",i="";(n=(o=t.products).indexOf("eVar"))>0&&(r=o.substring(n,o.length),i=o.substring(0,n),t.products&&n>0&&r.length>0&&(t.products=i+r.replaceAll(/[,]/g," ")))}}catch(e){_satellite.logger.error("Product Syntext Formatting issue",e)}t.prop1=s.get("page.pageInfo.pageName"),t.prop2=s.get("page.category.pageType"),t.prop3=s.get("page.category.primaryCategory"),t.prop4=s.get("page.category.subCategory1"),t.prop5=s.get("page.category.subCategory2"),t.prop19=s.get("component.componentInfo.componentName"),t.prop28=s.get("page.pageInfo.variant"),t.prop29=s.get("page.pageInfo.version"),t.prop30=s.get("page.category.subCategory3"),t.prop41=s.get("component.category.componentType"),t.prop42=s.get("component.category.primaryCategory"),t.prop43=s.get("component.category.subCategory1"),t.prop44=s.get("component.componentInfo.componentID"),t.prop45=s.get("component.attributes.componentVersion"),t.prop46=s.get("page.pageInfo.author"),t.prop50=s.get("event.-1.eventInfo.element"),t.prop51=s.get("event.category.subCategory2"),t.prop52=s.get("event.eventInfo.cause"),t.prop53=s.get("event.eventInfo.type"),t.prop54=s.get("event.category.primaryCategory"),t.prop55=s.get("event.category.subCategory1"),t.prop56=s.get("event.eventInfo.eventName"),t.prop57=s.get("event.eventInfo.eventAction"),t.eVar34=s.get("event.eventInfo.effect"),t.eVar71=s.get("event.attributes.requestedURL"),t.eVar123=s.get("transaction.total.attributes.paymentMethod"),t.eVar135=s.get("page.pageInfo.sysEnv"),t.eVar136=s.get("version"),t.linkTrackVars=t.apl(t.linkTrackVars,"prop1,prop2,prop3,prop4,prop5,prop19,prop28,prop29,prop30,prop41,prop42,prop43,prop44,prop45,prop46,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,eVar34,eVar71,eVar123,eVar135,eVar136,products",",")}catch(s){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(s)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL8ce358a82cf24e55bb9f1cc3413221f5",name:"TPT - ES - AEM - Adform - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC79fedc47e2764a1197a32be01aa4ce19-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0ade2acb984140cfa05edd114b1cb5e4",name:"TPT - ES - AEM - GtagDC - Adobe Form - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC423d86e148fa455ca5684ee2e1640e00-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL13b64a64d5364203b12cdf0b4f65acdd",name:"TPT - ES - AEM - GtagDC - Search Simulated Page - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfe630294f211471880ecc730aa3c6d8d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL14b0b2ebaeb440bdb0de3b6ee8dccf91",
name:"TPT - NO - AEM - Adform - SignIn - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8b6a3d66b0474081ac402002e9a7f101-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3049aad89395423d8f2b231ec4558468",name:"TPT - ES - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--arrow-big-r-grey-2.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0b29995abc5f49eabac347cd9fd34a0b-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL39c5886b473d4668888a08c63449c827",name:"TPT - ES - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC2b23e24effba4c3097b6ca7c4e2097ac-source.min.js",language:"javascript",isExternal:!0}},{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCfe6833b59cbd4ad6bdae600fee8aefc1-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3c35a10dc2b94e838ee4b9985c0d53d0",name:"TPT - NO - AEM - Adform - SiteSearch - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"open_navigation"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC46968a787f2f4ee699ce6e85a387067a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL469c87bc277f4cc291aa69b1b173b5a2",name:"TPT - NO - AEM - Adform - All Pages - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC05e2da2863184167bbaa92575b2a377e-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLaf5e7e5f07df4742895a87d5a2280ce7",name:"TPT - NO - AEM - Adform - ConfigurationLand - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/no/bygg-din-bmw.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC6b5dac88b8e1445db62b95006e18550d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLafe1d2ff5efc484da1e7b3a895005da9",name:"TPT - ES - AEM - GTagDC - Sign In - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{anchorDelay:1e3,elementSelector:".button.expand.ds2-tracking-js--event.myBmwLogin",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC0d44248db197474eb04e22def5b92abc-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe34792d7532f4131becf1d81f93e6092",name:"TPT - ES - AEM - gTagDC- Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.es/es/configurator.html"}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7f44090f2afb462689074ecde58cc88d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLe7681accf11646fcb97c925af0139da4",name:"TPT - NO - AEM - Adform - BrochureDownload - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"download"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.no",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/maxFrequency.js",settings:{unit:"second",count:3}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCdec2d27f68084710a54aa64d489bb4b8-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL6445de9298c548d5ba9201b9d875c973",name:"TPT - PT - AEM - Facebook meta - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC52bd304f26cb489483a2e236fd585003-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL15f83451bf014420910a3e4d4d074112",name:"TPT - NL - AEM - DoubleClick - Used Car tool Start - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"localform"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{if(void 0===_satellite.getVar("triggeredCall"))return!0}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4fff5d3928974fc58602969015a61a98-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLfec0c5807d934db99a884c612084585e",name:"TPT - PL - AEM - Adform - Make Appointment - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".button.next-best-action.ds2-dlo-dealer-details--button.dlo-button.ng-binding.ng-scope",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa50da49b8bb140db9df60c69035358de-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLea7e7eb8fd644a3dbd345745f6c01fa8",name:"TPT - CH - AEM - GtagDC - TDA FormSumbmit - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ch",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC969f225c10064bcf955d93ca669179c3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL71ed35bada1647bc876e65271a186104",name:"TPT - JP - AEM - Usabilla NPS 3.5 version - All Pages - PLR",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%usabilla_randomizer%",rightOperand:"NO-SURVEY"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals",caseInsensitive:!0},leftOperand:"%isAdobeAnalyticsAllowed%",rightOperand:"true"}},{modulePath:"core/src/lib/conditions/valueComparison.js",settings:{comparison:{operator:"equals"},leftOperand:"%topLevelDomain%",rightOperand:"bmw.co.jp"}},{modulePath:"core/src/lib/conditions/customCode.js",settings:{source:function(){try{var e=navigator.userAgent.match(/Android|BlackBerry|BB10|iPhone|iPad|iPod|Opera Mini|IEMobile/i)?"MOBILE":"DESKTOP",t=_satellite.getVar("topLevelDomain").split("."),s=t[t.length-1].toUpperCase(),a={JP:{buttonCode:{DESKTOP:"92977586f250",MOBILE:"d84bdb2f1964"},NPS:{DESKTOP:"85a49479c91e",MOBILE:"101f944c997e"},CES:{DESKTOP:"7552071ac07b",MOBILE:"f25819ad1a04"},random:{NPS:20,CES:60,Psyma:0,Other:20}}};return null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e])?(npsValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].NPS[e]),npsValue=npsValue.split("/"),noNPS="T"!=npsValue[0]):noNPS=!0,null!=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].CES[e])?(cesValue=localStorage.getItem("usbl."+a[s].buttonCode[e]+".c."+a[s].CES[e]),cesValue=cesValue.split("/"),noCES="T"!=cesValue[0]):noCES=!0,noNPS&&noCES}catch(e){_satellite.logger.error(e)}}}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCad9e23a4de8344e3afb8c0f42baa2575-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb8dc16c4a92949d6bf7ca25ffb0d17ff",name:"TPT - PL - AEM - AdWords - Start Video - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"start_video"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCafeeeb7de3c64806be09c0a4b4c20ba2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLdc0c9a9918a14447a5502437ece4212b",name:"DCR - All - AEM - AA - Stock Locator Event",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"stock-locator"},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{_satellite.getVar("flatMapping")(t),_satellite.getVar("setDefaultVariables",e)(t);var s=_satellite.getVar("snapshotDL"),a=s.get("event.-1.eventInfo.effect"),o=s.get("event.-1.eventInfo.eventName"),n=s.get("event.-1.attributes.searchResults");if(_satellite.getVar("smartPreviousValueManager"),t.prop27=s.get("dealer.-1.attributes.linkedPage.pageInfo.pageID",s.get("page.pageInfo.pageID")),t.eVar135=s.get("page.pageInfo.sysEnv"),t.prop1=s.get("page.pageInfo.pageName"),t.prop1.indexOf("sl >")<0?t.prop1="stock > "+t.prop1:t.prop1=t.prop1.replace("sl >","stock > "),t.pageName=t.prop1,t.eVar34=s.get("event.-1.eventInfo.effect"),t.eVar34.indexOf("sl > click dealer email")>0?t.eVar34="stock > click dealer email":t.eVar34=t.eVar34.replace("sl > click dealer phone","stock > click dealer phone"),t.eVar34.indexOf("sl >")<0?t.eVar34="stock > "+t.eVar34:t.eVar34=t.eVar34.replace("sl >","stock > "),a&&a.indexOf("search filter selected")>-1&&(t.prop56="search",t.prop55=n,t.prop53="vehicle"),-1!=a.indexOf("/ssl/requests/rfo")||-1!=a.indexOf("/topics/offerte")||-1!=a.indexOf("contact.bmw.fr")?(t.events=t.apl(t.events,"event375,event376"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event375,event376")):"sl > start"==o&&(t.events=t.apl(t.events,"event371,event372"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event371,event372")),_satellite.getVar("snapshotDL").get("page.pageInfo.variant"),t.prop42="stock locator",t.prop43=-1!=s.get("component.-1.componentInfo.componentName").indexOf("digital > used car stock locator")?"used car stock locator":_satellite.getVar("AA-componentDefaultValues").subCat,"digital > new car stock locator"===s.get("component.0.componentInfo.componentName")?(t.prop19="central new\xa0car stock locator",t.prop54="central new\xa0car stock locator"):(t.prop19="central used\xa0car stock locator",t.prop54="central used\xa0car stock locator"),"sl > start"===(o=s.get("event.0.eventInfo.eventName"))||"sl > interactions"===o||"sl > ss: start"===o||"sl > ss: interaction"===o?t.prop56="interaction":"sl > errors"!==o&&"sl > ss: errors"!==o||(t.prop56="error"),void 0===a||-1==a.indexOf("banner slided right")&&-1==a.indexOf("vehicle details clicked")&&-1==a.indexOf("banner slided left")&&-1==a.indexOf("back")&&-1==a.indexOf("banner slided with pagination dot")&&-1==a.indexOf("ss : show vehicle details clicked")&&-1==a.indexOf("disclaimer layer closed")&&-1==a.indexOf("ss : see more vehicles clicked")&&-1==a.indexOf("show all vehicles")&&-1==a.indexOf("accordion")?void 0===a||-1==a.indexOf("dealer selection")&&-1==a.indexOf("sort lowest price")&&-1==a.indexOf("location selection")&&-1==a.indexOf("sort")?void 0===a||-1==a.indexOf("stock locator started")&&-1==a.indexOf("ss : similarity search started")&&-1==a.indexOf("disclaimer layer opened")||(t.prop53="automatic"):t.prop53="success":t.prop53="ux",t.products)t.products.indexOf("search")>-1&&(r=_satellite.getVar("setDefaultProductVariables"),t.products+=r.toString());else{var r=_satellite.getVar("setDefaultProductVariables");t.products=r.toString()}t.linkTrackVars+="prop27,prop56,prop55,eVar135,eVar34,prop1,pageName,prop42,prop43,prop19,prop33,eVar28,prop31,eVar14,prop53,prop54,products"}catch(s){_satellite.getVar("catchblock",e)(t,s)}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"link",linkName:"stocklocator",linkType:"o"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]},{id:"RL57175bd7fb314243af1adbc1b5073e94",name:"TPT - IE - AEM - AdWords - Outbound Click - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"outbound_click"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC9a9867aaf8524541a1f15fd90046f1d3-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL81c08810629448048504b3aa72d8c697",name:"TPT - IE - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7d8ad2fe299444d9a125cde46df3ea1c-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL0161c06d601b439597065c711b44f052",name:"TPT - JP - AEM - SpeedCurve - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50},{modulePath:"core/src/lib/events/customEvent.js",settings:{type:"re-trigger-third-party",elementSelector:"body",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.co.jp",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5c2aa392ddc84cab8389f04551ca3e26-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLc9a1a60022894c6db24243a8c5086c03",name:"TPT - AT - AEM - Adform - Configuration Land - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/domReady.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.at",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCa2d448896ea54b31b6d1543d6abdf7a0-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL17cf69d6c8af4800bd26a2bf3b5e949a",name:"TPT - NL - AEM - GTagDC - Brochure Download - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-link.ds2-icon.ds2-tracking-js--event.ds2-icon--download-white.ds2-accessibility",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.nl",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC53ccd5eeaa134dcd9eaa9c25ec9a07d5-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa366a44250704d79a3155a6d32133c23",name:"TPT - BG - AEM - GtagDC - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"search_simulated_page"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.bg",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC5e22a4b6f98d4cdda0aad7ef06686213-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL68e195e517dd40edacbcfc1ce85982cf",name:"TPT - IE - AEM - Facebook - Multiple - PLR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.ie",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC7acfa5f9d3e5495d8db04acacfb2779d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL1fb6fdd0138045d080a4419506584ef5",name:"TPT - BE - AEM - GtagDC - form_tracking - DCR - p15r[c]",events:[{modulePath:"core/src/lib/events/directCall.js",settings:{identifier:"adobe form"},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.be",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC1664b9f8f8054b2ab7b868708cd0105d-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL40460a81112b46cab5e8861b71bbd5d4",name:"TPT - SI - AEM - GTagDC - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.si",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC8481492ce6a543d49a4495401b1ff16a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLb2745bc1afaa48db86f885d25e5c6235",name:"TPT - LU - AEM - Adform - All Pages - PLR - p15r[c]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.lu",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC29d3514f3f0d44988f52a74f50a1bb27-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RL3aefbf8f0f3b4de6b09b6eb6647d8ef8",name:"TPT - PT - AEM - GTagDC - App Download - EBR - p15r[c]",events:[{modulePath:"core/src/lib/events/click.js",settings:{elementSelector:".ds2-buttonlist--item.ds2-buttonlist--max-width > a",bubbleFireIfParent:!0,bubbleFireIfChildFired:!0},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.pt",valueIsRegex:!0}]}},{modulePath:"core/src/lib/conditions/path.js",settings:{paths:[{value:"/pt/topics/offers-and-services/visao-geral-aplicacao-bmw.html",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RC4ce00b948c854b029ff05ddf2f2e28e2-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa54bbcfc051045ba9a650078524c368f",name:"TPT - FR - AEM - Adform - Search Simulated Page - DCR - p15r[l]",events:[{modulePath:"core/src/lib/events/windowLoaded.js",settings:{},ruleOrder:50}],conditions:[{modulePath:"core/src/lib/conditions/subdomain.js",settings:{subdomains:[{value:"bmw.fr",valueIsRegex:!0}]}}],actions:[{modulePath:"core/src/lib/actions/customCode.js",settings:{source:"https://assets.adobedtm.com/717b2dc27cb7/f6f10f796b8e/bbe946387855/RCc9e14d37d1fa4186965db75a0c70392a-source.min.js",language:"javascript",isExternal:!0}}]},{id:"RLa5871453b95b4550ae02649340b2c357",name:"Custom Code - All - AA - TRON - PV",events:[{modulePath:"core/src/lib/events/customCode.js",settings:{source:function(e){try{window.addEventListener("TRON: generic event listener",(function(t){_satellite.logger.log(t,"TRON PV listener"),"page view"==t.detail.event.eventInfo.eventName&&(delete t.detail.custom,_satellite.setVar("tronEventDataLayer",t.detail),e())}))}catch(e){_satellite.logger.error("TRON PV Listener",e)}}},ruleOrder:50}],conditions:[],actions:[{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/takeSnapshot.js",settings:{takeSnapshot:null}},{modulePath:"adobe-analytics/src/lib/actions/clearVariables.js",settings:{}},{modulePath:"adobe-analytics/src/lib/actions/setVariables.js",settings:{customSetup:{source:function(e,t){try{var s=_satellite.getVar("snapshotDL");_satellite.getVar("setDefaultVariables",e)(t);var a=function(){var e=s.get("product.0.category.productType"),a=s.get("product.0.productInfo.productID"),o=_satellite.getVar("productBuilder");o.id=a,o.category=e;var n={eVar10:s.get("product.0.attributes.mmdrVG",s.get("product.0.attributes.mmdr")),eVar44:s.get("product.0.attributes.productionYear"),eVar45:s.get("product.0.attributes.yearOfRegistration"),eVar46:s.get("product.0.attributes.status"),eVar47:s.get("product.0.productInfo.color"),eVar48:s.get("product.0.attributes.modelCode"),eVar49:s.get("product.0.attributes.gearing"),eVar50:s.get("product.0.attributes.series"),eVar51:s.get("product.0.attributes.bodyType"),eVar52:s.get("product.0.productInfo.productName"),eVar53:s.get("product.0.category.primaryCategory"),eVar54:s.get("product.0.category.subCategory1"),eVar55:s.get("product.0.category.subCategory2"),eVar56:s.get("product.0.attributes.fuelType"),eVar57:s.get("product.0.attributes.hybridVersion"),eVar58:s.get("product.0.attributes.motorization"),eVar60:s.get("product.0.productInfo.manufacturer"),eVar65:s.get("product.0.attributes.modelName"),eVar66:s.get("product.0.attributes.trimLevel"),eVar69:s.get("product.0.attributes.modelCodeAG")};o.merchEvars=n;var r=[];return r.push("event831=0"),r.push("event832=0"),r.push("event833=0"),r.push("event834=0"),r.push("event835=0"),r.push("event836=0"),r.push("event837=0"),r.push("event858=0"),o.events=r,t.events=t.apl(t.events,"event831,event832,event833,event834,event835,event836,event837,event858"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event831,event832,event833,event834,event835,event836,event837,event858"),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar10,eVar44,eVar45,eVar46,eVar47,eVar48,eVar49,eVar50,eVar51,eVar52,eVar53,eVar54,eVar55,eVar56,eVar57,eVar58,eVar59,eVar60,eVar65,eVar66,eVar69",","),o}();t.products=a.toString();try{if(t.products){var o="",n=0,r="",i="";(n=(o=t.products).indexOf("eVar"))>0&&(r=o.substring(n,o.length),i=o.substring(0,n),t.products&&n>0&&r.length>0&&(t.products=i+r.replaceAll(/[,]/g," ")))}}catch(e){_satellite.logger.error("Product Syntext Formatting issue",e)}t.prop1=s.get("page.pageInfo.pageName"),t.prop2=s.get("page.category.pageType"),t.prop3=s.get("page.category.primaryCategory"),t.prop4=s.get("page.category.subCategory1"),t.prop5=s.get("page.category.subCategory2"),t.prop19=s.get("component.componentInfo.componentName"),t.prop28=s.get("page.pageInfo.variant"),t.prop29=s.get("page.pageInfo.version"),t.prop30=s.get("page.category.subCategory3"),t.prop41=s.get("component.category.componentType"),t.prop42=s.get("component.category.primaryCategory"),t.prop43=s.get("component.category.subCategory1"),t.prop44=s.get("component.componentInfo.componentID"),t.prop45=s.get("component.attributes.componentVersion"),t.prop46=s.get("page.pageInfo.author"),t.prop50=s.get("event.-1.eventInfo.element"),t.prop51=s.get("event.category.subCategory2"),t.prop52=s.get("event.eventInfo.cause"),t.prop53=s.get("event.eventInfo.type"),t.prop54=s.get("event.category.primaryCategory"),t.prop55=s.get("event.category.subCategory1"),t.prop56=s.get("event.eventInfo.eventName"),t.prop57=s.get("event.eventInfo.eventAction"),t.eVar34=s.get("event.eventInfo.effect"),t.eVar71=s.get("event.attributes.requestedURL"),t.eVar123=s.get("transaction.total.attributes.paymentMethod"),t.eVar135=s.get("page.pageInfo.sysEnv"),t.eVar136=s.get("version"),t.linkTrackVars=t.apl(t.linkTrackVars,"prop1,prop2,prop3,prop4,prop5,prop19,prop28,prop29,prop30,prop41,prop42,prop43,prop44,prop45,prop46,prop50,prop51,prop52,prop53,prop54,prop55,prop56,prop57,eVar34,eVar71,eVar123,eVar135,eVar136,products",",")}catch(s){t.sa("bmwgroup.group.global.test"),t.linkTrackEvents=t.apl(t.linkTrackEvents,"event933",","),t.linkTrackVars=t.apl(t.linkTrackVars,"eVar4,eVar11,eVar12,eVar34,prop52,prop53,prop55,prop56,prop74",","),t.prop74=_satellite.property.name+"|"+e.$rule.name,t.eVar4=window.location.href,t.eVar11=window.location.hash,t.eVar12=window.location.pathname,t.prop52="js error",t.prop53="backend 1st party",t.prop55="AL-TC",t.prop56="error",t.eVar34=String(s)||"unknown",t.events="event933",t.registerPostTrackCallback((function(){t.sa(_satellite.getVar("AA-reportSuite"))}))}}},trackerProperties:{}}},{modulePath:"adobe-analytics/src/lib/actions/sendBeacon.js",settings:{type:"page"}},{modulePath:"bmw-group-utility-kit/extension-package-src/lib/actions/discardSnapshot.js",settings:{discardSnapshot:null}}]}]};var _satellite=function(){"use strict";function e(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},s=0;s<10;s++)t["_"+String.fromCharCode(s)]=s;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}function s(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})})),t}function a(e){var t={exports:{}};return e(t,t.exports),t.exports}function o(e){var t=this.constructor;return this.then((function(s){return t.resolve(e()).then((function(){return s}))}),(function(s){return t.resolve(e()).then((function(){return t.reject(s)}))}))}function n(e){return Boolean(e&&void 0!==e.length)}function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function d(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var s=1===e._state?t.onFulfilled:t.onRejected;if(null!==s){var a;try{a=s(e._value)}catch(e){return void u(t.promise,e)}l(t.promise,a)}else(1===e._state?l:u)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var s=t.then;if(t instanceof c)return e._state=3,e._value=t,void b(e);if("function"==typeof s)return void p(i(s,t),e)}e._state=1,e._value=t,b(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,b(e)}function b(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,s=e._deferreds.length;t<s;t++)d(e,e._deferreds[t]);e._deferreds=null}function m(e,t,s){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=s}function p(e,t){var s=!1;try{e((function(e){s||(s=!0,l(t,e))}),(function(e){s||(s=!0,u(t,e))}))}catch(e){if(s)return;s=!0,u(t,e)}}function g(e){return!0===Ye(e)&&"[object Object]"===Object.prototype.toString.call(e)}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e){return"string"==typeof e&&-1!==e.indexOf("[")&&-1!==e.indexOf("]")}function h(e){return e.substr(0,e.indexOf("["))}function P(e,t,s){if(e.length&&Je(t)){var a=e[0];if(1!==e.length){var o=e.slice(1);if(!v(a))return P(o,t[a],s);var n=t[a=h(a)];Array.isArray(n)&&n.forEach((function(e){return P(o,e,s)}))}else t.hasOwnProperty(a)&&"string"==typeof t[a]&&(t[a]=s(t[a]))}}if(window.atob){var j=document,C=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,E=t()?Object.assign:function(t){for(var s,a,o=e(t),n=1;n<arguments.length;n++){for(var r in s=Object(arguments[n]))R.call(s,r)&&(o[r]=s[r]);if(C){a=C(s);for(var i=0;i<a.length;i++)w.call(s,a[i])&&(o[a[i]]=s[a[i]])}}return o},y=E,T=window,I=function(e,t,s){var a,o=Array.isArray(t),n=Boolean(o&&e),r=document.createElement("a");if(r.href=e,(!/^https?:\/\/.*/.test(e)||!r.host)&&o){var i=new Error("Unable to find the Library Embed Code for Dynamic Host Resolution.");throw i.code="dynamic_host_resolver_constructor_error",i}if(o&&-1===t.indexOf(r.hostname)){var c=new Error("This library is not authorized for this domain. Please contact your CSM for more information.");throw c.code="dynamic_host_not_allowed",c}var d=function(){if(null!=a)return a;if(n){var e=r.host;/:80$/.test(e)?e=e.replace(":80",""):/:80\/$/.test(e)?e=e.replace(":80/",""):/:443$/.test(e)?e=e.replace(":443",""):/:443\/$/.test(e)&&(e=e.replace(":443/","")),a="https://"+e}else a="";return a},l=function(e){return n&&"string"==typeof e?[d(),"/"===e.charAt(0)?e.slice(1):e].join("/"):e},u={getTurbineHost:d,decorateWithDynamicHost:l,get isDynamicEnforced(){return o}};return T&&s.onDebugChanged((function(e){e?T.dynamicHostResolver=u:delete T.dynamicHostResolver})),u},_=function(e){var t=[];return e.forEach((function(e){e.events&&e.events.forEach((function(s){t.push({rule:e,event:s})}))})),t.sort((function(e,t){return e.event.ruleOrder-t.event.ruleOrder}))},x="debug",k=function(e,t){var s=function(){return"true"===e.getItem(x)},a=function(t){e.setItem(x,t)},o=[],n=function(e){o.push(e)};return t.outputEnabled=s(),{onDebugChanged:n,getDebugEnabled:s,setDebugEnabled:function(e){s()!==e&&(a(e),t.outputEnabled=e,o.forEach((function(t){t(e)})))}}},A="Module did not export a function.",O=function(e,t,s){return function(a,o,n){n=n||[];var r=e.getModuleExports(a.modulePath);if("function"!=typeof r)throw new Error(A);var i=e.getModuleDefinition(a.modulePath),c=a.settings||{};!a.hasTransformedFilePaths&&i.filePaths&&(s(c,i.filePaths,a.modulePath),a.hasTransformedFilePaths=!0);var d=t(c,o);return r.bind(null,d).apply(null,n)}},L=function(e){
return"string"==typeof e?e.replace(/\s+/g," ").trim():e},S={LOG:"log",INFO:"info",DEBUG:"debug",WARN:"warn",ERROR:"error"},D="\ud83d\ude80",V=10===parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])?"[Launch]":D,M=!1,F=function(e){if(M&&window.console){var t=Array.prototype.slice.call(arguments,1);t.unshift(V),e!==S.DEBUG||window.console[e]||(e=S.INFO),window.console[e].apply(window.console,t)}},N=F.bind(null,S.LOG),B=F.bind(null,S.INFO),U=F.bind(null,S.DEBUG),G=F.bind(null,S.WARN),q=F.bind(null,S.ERROR),H=function(){var e=M;M=!0,F.apply(null,Array.prototype.concat(S.WARN,Array.prototype.slice.call(arguments))),e||(M=!1)},K={log:N,info:B,debug:U,warn:G,error:q,deprecation:H,get outputEnabled(){return M},set outputEnabled(e){M=e},createPrefixedLogger:function(e){var t="["+e+"]";return{log:N.bind(null,t),info:B.bind(null,t),debug:U.bind(null,t),warn:G.bind(null,t),error:q.bind(null,t)}}},z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},W=a((function(e){!function(t){if(e.exports=t(),!!0){var s=window.Cookies,a=window.Cookies=t();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var s=arguments[e];for(var a in s)t[a]=s[a]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function s(a){function o(){}function n(t,s,n){if("undefined"!=typeof document){"number"==typeof(n=e({path:"/"},o.defaults,n)).expires&&(n.expires=new Date(1*new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var r=JSON.stringify(s);/^[\{\[]/.test(r)&&(s=r)}catch(e){}s=a.write?a.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var c in n)n[c]&&(i+="; "+c,!0!==n[c]&&(i+="="+n[c].split(";")[0]));return document.cookie=t+"="+s+i}}function r(e,s){if("undefined"!=typeof document){for(var o={},n=document.cookie?document.cookie.split("; "):[],r=0;r<n.length;r++){var i=n[r].split("="),c=i.slice(1).join("=");s||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var d=t(i[0]);if(c=(a.read||a)(c,d)||t(c),s)try{c=JSON.parse(c)}catch(e){}if(o[d]=c,e===d)break}catch(e){}}return e?o[e]:o}}return o.set=n,o.get=function(e){return r(e,!1)},o.getJSON=function(e){return r(e,!0)},o.remove=function(t,s){n(t,"",e(s,{expires:-1}))},o.defaults={},o.withConverter=s,o}return s((function(){}))}))})),Y={get:W.get,set:W.set,remove:W.remove},J="com.adobe.reactor.",Z=function(e,t){var s=J+(t||"");return{getItem:function(t){try{return T[e].getItem(s+t)}catch(e){return null}},setItem:function(t,a){try{return T[e].setItem(s+t,a),!0}catch(e){return!1}}}},$="_sdsat_",Q="dataElements.",X="dataElementCookiesMigrated",ee=Z("localStorage"),te=Z("sessionStorage",Q),se=Z("localStorage",Q),ae={PAGEVIEW:"pageview",SESSION:"session",VISITOR:"visitor"},oe={},ne=function(e){var t;try{t=JSON.stringify(e)}catch(e){}return t},re=function(e,t,s){var a;switch(t){case ae.PAGEVIEW:return void(oe[e]=s);case ae.SESSION:return void((a=ne(s))&&te.setItem(e,a));case ae.VISITOR:return void((a=ne(s))&&se.setItem(e,a))}},ie=function(e,t){var s=Y.get($+e);void 0!==s&&re(e,t,s)},ce=function(e){ee.getItem(X)||(Object.keys(e).forEach((function(t){ie(t,e[t].storageDuration)})),ee.setItem(X,!0))},de={setValue:re,getValue:function(e,t){var s;switch(t){case ae.PAGEVIEW:return oe.hasOwnProperty(e)?oe[e]:null;case ae.SESSION:return null===(s=te.getItem(e))?s:JSON.parse(s);case ae.VISITOR:return null===(s=se.getItem(e))?s:JSON.parse(s)}},migrateCookieData:ce},le=function(e,t,s,a){return"Failed to execute data element module "+e.modulePath+" for data element "+t+". "+s+(a?"\n"+a:"")},ue=function(e,t,s,a,o){return function(n,r){var i=t(n);if(!i)return a?"":void 0;var c,d,l=i.storageDuration;try{c=e.getModuleExports(i.modulePath),d=e.getModuleDefinition(i.modulePath)}catch(e){return void K.error(le(i,n,e.message,e.stack))}if("function"==typeof c){var u,b=i.settings||{};!i.hasTransformedFilePaths&&d.filePaths&&(o(b,d.filePaths,i.modulePath),i.hasTransformedFilePaths=!0);try{u=c(s(b,r),r)}catch(e){return void K.error(le(i,n,e.message,e.stack))}return l&&(null!=u?de.setValue(n,l,u):u=de.getValue(n,l)),null==u&&null!=i.defaultValue&&(u=i.defaultValue),"string"==typeof u&&(i.cleanText&&(u=L(u)),i.forceLowerCase&&(u=u.toLowerCase())),u}K.error(le(i,n,"Module did not export a function."))}},be={text:function(e){return e.textContent},cleanText:function(e){return L(e.textContent)}},me=function(e,t,s){for(var a,o=e,n=0,r=t.length;n<r;n++){if(null==o)return;var i=t[n];if(s&&"@"===i.charAt(0)){var c=i.slice(1);o=be[c](o)}else if(o.getAttribute&&(a=i.match(/^getAttribute\((.+)\)$/))){var d=a[1];o=o.getAttribute(d)}else o=o[i]}return o},pe=function(e,t,s){return function(a,o){var n;if(t(a))n=s(a,o);else{var r=a.split("."),i=r.shift();"this"===i?o&&(n=me(o.element,r,!0)):"event"===i?o&&(n=me(o,r)):"target"===i?o&&(n=me(o.target,r)):n=me(e[i],r)}return n}},ge=function(e,t){return function(s){var a=s.split(".")[0];return Boolean(t(s)||"this"===a||"event"===a||"target"===a||e.hasOwnProperty(a))}},fe=function(e,t,s){var a={exports:{}};return e.call(a.exports,a,a.exports,t,s),a.exports},ve=function(){var e={},t=function(t){var s=e[t];if(!s)throw new Error("Module "+t+" not found.");return s},s=function(){Object.keys(e).forEach((function(e){try{a(e)}catch(s){var t="Error initializing module "+e+". "+s.message+(s.stack?"\n"+s.stack:"");K.error(t)}}))},a=function(e){var s=t(e);return s.hasOwnProperty("exports")||(s.exports=fe(s.definition.script,s.require,s.turbine)),s.exports};return{registerModule:function(t,s,a,o,n){var r={definition:s,extensionName:a,require:o,turbine:n};r.require=o,e[t]=r},hydrateCache:s,getModuleExports:a,getModuleDefinition:function(e){return t(e).definition},getModuleExtensionName:function(e){return t(e).extensionName}}},he=!1,Pe=function(e){return function(t,s){var a=e._monitors;a&&(he||(K.warn("The _satellite._monitors API may change at any time and should only be used for debugging."),he=!0),a.forEach((function(e){e[t]&&e[t](s)})))}},je=function(e,t,s){var a,o,n,r,i=[],c=function(a,o,n){if(!e(o))return a;i.push(o);var r=t(o,n);return i.pop(),null==r&&s?"":r};return a=function(e,t){var s=/^%([^%]+)%$/.exec(e);return s?c(e,s[1],t):e.replace(/%(.+?)%/g,(function(e,s){return c(e,s,t)}))},o=function(e,t){for(var s={},a=Object.keys(e),o=0;o<a.length;o++){var n=a[o],i=e[n];s[n]=r(i,t)}return s},n=function(e,t){for(var s=[],a=0,o=e.length;a<o;a++)s.push(r(e[a],t));return s},r=function(e,t){return"string"==typeof e?a(e,t):Array.isArray(e)?n(e,t):"object"==typeof e&&null!==e?o(e,t):e},function(e,t){return i.length>10?(K.error("Data element circular reference detected: "+i.join(" -> ")),e):r(e,t)}},Ce=function(e){return function(){if("string"==typeof arguments[0])e[arguments[0]]=arguments[1];else if(arguments[0]){var t=arguments[0];for(var s in t)e[s]=t[s]}}},Re=setTimeout;c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var s=new this.constructor(r);return d(this,new m(e,t,s)),s},c.prototype.finally=o,c.all=function(e){return new c((function(t,s){function a(e,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if("function"==typeof i)return void i.call(n,(function(t){a(e,t)}),s)}o[e]=n,0==--r&&t(o)}catch(e){s(e)}}if(!n(e))return s(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);for(var r=o.length,i=0;i<o.length;i++)a(i,o[i])}))},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,s){s(e)}))},c.race=function(e){return new c((function(t,s){if(!n(e))return s(new TypeError("Promise.race accepts an array"));for(var a=0,o=e.length;a<o;a++)c.resolve(e[a]).then(t,s)}))},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){Re(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var we=s(Object.freeze({__proto__:null,default:c})),Ee="undefined"!=typeof window&&window.Promise||void 0!==z&&z.Promise||we.default||we,ye=function(e,t,s){return function(a,o,n,r){return r.then((function(){var r,i=a.delayNext;return new Ee((function(t,s){var o=e(a,n,[n]);if(!i)return t();var c=a.timeout,d=new Ee((function(e,t){r=setTimeout((function(){t(new Error("A timeout occurred because the action took longer than "+c/1e3+" seconds to complete. "))}),c)}));Ee.race([o,d]).then(t,s)})).catch((function(e){return clearTimeout(r),e=t(e),s(a,o,e),Ee.reject(e)})).then((function(){clearTimeout(r)}))}))}},Te=function(e,t,s,a,o){return function(n,r,i,c){return c.then((function(){var c;return new Ee((function(t,s){var a=e(n,i,[i]),o=n.timeout,r=new Ee((function(e,t){c=setTimeout((function(){t(new Error("A timeout occurred because the condition took longer than "+o/1e3+" seconds to complete. "))}),o)}));Ee.race([a,r]).then(t,s)})).catch((function(e){return clearTimeout(c),e=t(e),a(n,r,e),Ee.reject(e)})).then((function(e){if(clearTimeout(c),!s(n,e))return o(n,r),Ee.reject()}))}))}},Ie=Ee.resolve(),_e=function(e,t,s){return function(a,o){return a.conditions&&a.conditions.forEach((function(t){Ie=e(t,a,o,Ie)})),a.actions&&a.actions.forEach((function(e){Ie=t(e,a,o,Ie)})),Ie=(Ie=Ie.then((function(){s(a)}))).catch((function(){}))}},xe=function(e){return Boolean(e&&"object"==typeof e&&"function"==typeof e.then)},ke=function(e,t,s,a){return function(o,n){var r;if(o.conditions)for(var i=0;i<o.conditions.length;i++){r=o.conditions[i];try{var c=e(r,n,[n]);if(xe(c))throw new Error("Rule component sequencing must be enabled on the property for this condition to function properly.");if(!t(r,c))return s(r,o),!1}catch(e){return a(r,o,e),!1}}return!0}},Ae=function(e,t){return function(s,a){e(s,a)&&t(s,a)}},Oe=function(e){return function(t){var s=e.getModuleDefinition(t.modulePath);return s&&s.displayName||t.modulePath}},Le=function(e){return function(t){var s=t.rule,a=t.event,o=e.getModuleDefinition(a.modulePath).name;return{$type:e.getModuleExtensionName(a.modulePath)+"."+o,$rule:{id:s.id,name:s.name}}}},Se=function(e,t,s,a,o,n){return function(r,i){var c=i.rule,d=i.event;d.settings=d.settings||{};try{var l=o(i);t(d,null,[function(t){var a=s(l,t);r((function(){e(a,c)}))}])}catch(e){n.error(a(d,c,e))}}},De=function(e,t,s,a){return function(o,n,r){var i=t(o);s.error(e(i,n.name,r)),a("ruleActionFailed",{rule:n,action:o})}},Ve=function(e,t,s,a){return function(o,n,r){var i=t(o);s.error(e(i,n.name,r)),a("ruleConditionFailed",{rule:n,condition:o})}},Me=function(e,t,s){return function(a,o){var n=e(a);t.log('Condition "'+n+'" for rule "'+o.name+'" was not met.'),s("ruleConditionFailed",{rule:o,condition:a})}},Fe=function(e,t){return function(s){e.log('Rule "'+s.name+'" fired.'),t("ruleCompleted",{rule:s})}},Ne=function(e,t,s){return function(a,o){var n;if(a.actions)for(var r=0;r<a.actions.length;r++){n=a.actions[r];try{e(n,o,[o])}catch(e){return void t(n,a,e)}}s(a)}},Be=function(e,t,s,a){return function(o,n){a("ruleTriggered",{rule:n}),e?s(n,o):t(n,o)}},Ue=function(e,t,s){return'Failed to execute "'+e+'" for "'+t+'" rule. '+s.message+(s.stack?"\n"+s.stack:"")},Ge=function(e,t){return t&&!e.negate||!t&&e.negate},qe=[],He=!1,Ke=function(e){He?e():qe.push(e)},ze=function(e,t,s){e(t).forEach((function(e){s(Ke,e)})),He=!0,qe.forEach((function(e){e()})),qe=[]},We=function(e){if(e||(e=new Error("The extension triggered an error, but no error information was provided.")),!(e instanceof Error)){var t="object"==typeof e?JSON.stringify(e):String(e);e=new Error(t)}return e},Ye=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)},Je=function(e){var t,s;return!1!==g(e)&&("function"==typeof(t=e.constructor)&&(!1!==g(s=t.prototype)&&!1!==s.hasOwnProperty("isPrototypeOf")))},Ze=function(e,t){return Je(t=t||{})?t=y({},t,e):y(t,e),t.hasOwnProperty("type")||Object.defineProperty(t,"type",{get:function(){return K.deprecation("Accessing event.type in Adobe Launch has been deprecated and will be removed soon. Please use event.$type instead."),t.$type}}),t},$e=function(e,t){return function(s,a){var o=e[s];if(o){var n=o.modules;if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var c=r[i],d=n[c];if(d.shared&&d.name===a)return t.getModuleExports(c)}}}},Qe=function(e,t){return function(){return t?e(t):{}}},Xe=function(e,t,s){return function(a){if(s){var o=a.split(".");o.splice(o.length-1||1,0,"min"),a=o.join(".")}return e(t)+a}},et=".js",tt=function(e){return e.substr(0,e.lastIndexOf("/"))},st=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},at=function(e,t){st(t,et)||(t+=et);var s=t.split("/"),a=tt(e).split("/");return s.forEach((function(e){e&&"."!==e&&(".."===e?a.length&&a.pop():a.push(e))})),a.join("/")},ot=function(e,t){return new Ee((function(s,a){t.onload=function(){s(t)},t.onerror=function(){a(new Error("Failed to load script "+e))}}))},nt=function(e){var t=document.createElement("script");t.src=e,t.async=!0;var s=ot(e,t);return document.getElementsByTagName("head")[0].appendChild(t),s},rt=function(e,t,s,a){t=t||"&",s=s||"=";var o={};if("string"!=typeof e||0===e.length)return o;var n=/\+/g;e=e.split(t);var r=1e3;a&&"number"==typeof a.maxKeys&&(r=a.maxKeys);var i=e.length;r>0&&i>r&&(i=r);for(var c=0;c<i;++c){var d,l,u,b,m=e[c].replace(n,"%20"),p=m.indexOf(s);p>=0?(d=m.substr(0,p),l=m.substr(p+1)):(d=m,l=""),u=decodeURIComponent(d),b=decodeURIComponent(l),f(o,u)?Array.isArray(o[u])?o[u].push(b):o[u]=[o[u],b]:o[u]=b}return o},it=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},ct=function(e,t,s,a){return t=t||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var o=encodeURIComponent(it(a))+s;return Array.isArray(e[a])?e[a].map((function(e){return o+encodeURIComponent(it(e))})).join(t):o+encodeURIComponent(it(e[a]))})).join(t):a?encodeURIComponent(it(a))+s+encodeURIComponent(it(e)):""},dt=a((function(e,t){t.decode=t.parse=rt,t.encode=t.stringify=ct})),lt="@adobe/reactor-",ut={cookie:Y,document:j,"load-script":nt,"object-assign":y,promise:Ee,"query-string":{parse:function(e){return"string"==typeof e&&(e=e.trim().replace(/^[?#&]/,"")),dt.parse(e)},stringify:function(e){return dt.stringify(e)}},window:T},bt=function(e){return function(t){if(0===t.indexOf(lt)){var s=t.substr(lt.length),a=ut[s];if(a)return a}if(0===t.indexOf("./")||0===t.indexOf("../"))return e(t);throw new Error('Cannot resolve module "'+t+'".')}},mt=function(e,t,s,a,o,n,r){var i=e.extensions,c=e.buildInfo,d=e.environment,l=e.property.settings;if(i){var u=$e(i,t);Object.keys(i).forEach((function(b){var m=i[b],p=m.settings;Array.isArray(m.filePaths)&&(p=n(p,m.filePaths));var g=Qe(a,p);if(m.modules){var f=K.createPrefixedLogger(m.displayName),v=Xe(r,m.hostedLibFilesBaseUrl,c.minified),h={buildInfo:c,environment:d,property:{name:e.property.name,id:e.property.id},getDataElementValue:o,getExtensionSettings:g,getHostedLibFileUrl:v,getSharedModule:u,logger:f,propertySettings:l,replaceTokens:a,onDebugChanged:s.onDebugChanged,get debugEnabled(){return s.getDebugEnabled()}};Object.keys(m.modules).forEach((function(e){var s=m.modules[e],a=bt((function(s){var a=at(e,s);return t.getModuleExports(a)}));t.registerModule(e,s,b,a,h)}))}})),t.hydrateCache()}return t},pt=function(e,t,s,a,o){var n=K.createPrefixedLogger("Custom Script");e.track=function(e){K.log('"'+e+'" does not match any direct call identifiers.')},e.getVisitorId=function(){return null},e.property={name:t.property.name,id:t.property.id},e.company=t.company,e.buildInfo=t.buildInfo,e.environment=t.environment,e.logger=n,e.notify=function(e,t){switch(K.deprecation("_satellite.notify is deprecated. Please use the `_satellite.logger` API."),t){case 3:n.info(e);break;case 4:n.warn(e);break;case 5:n.error(e);break;default:n.log(e)}},e.getVar=a,e.setVar=o,e.setCookie=function(e,t,s){var a="",o={};s&&(a=", { expires: "+s+" }",o.expires=s);var n='_satellite.setCookie is deprecated. Please use _satellite.cookie.set("'+e+'", "'+t+'"'+a+").";K.deprecation(n),Y.set(e,t,o)},e.readCookie=function(e){return K.deprecation('_satellite.readCookie is deprecated. Please use _satellite.cookie.get("'+e+'").'),Y.get(e)},e.removeCookie=function(e){K.deprecation('_satellite.removeCookie is deprecated. Please use _satellite.cookie.remove("'+e+'").'),Y.remove(e)},e.cookie=Y,e.pageBottom=function(){},e.setDebug=s;var r=!1;Object.defineProperty(e,"_container",{get:function(){return r||(K.warn("_satellite._container may change at any time and should only be used for debugging."),r=!0),t}})},gt=function(e){for(var t=j.querySelectorAll("script"),s=0;s<t.length;s++){var a=t[s];if(e.test(a.src))return a}},ft=function(e,t){return function(s,a,o){return e&&Je(s)&&Object.keys(s).length&&Array.isArray(a)&&a.length?(a.forEach((function(e){Boolean(null!=o&&/^core\/.*actions.*\/customCode\.js$/.test(o))&&"source"===e&&!s.isExternal||P(e.split("."),s,t)})),s):s}},vt={getTurbine:function(){return gt(new RegExp(/(launch|satelliteLib)-[^\/]+.js(\?.*)?$/))},byRegexPattern:gt}.getTurbine,ht=window._satellite;if(ht&&!window.__satelliteLoaded){window.__satelliteLoaded=!0;var Pt=ht.container;delete ht.container;var jt=y({},Pt.buildInfo);Object.defineProperty(jt,"environment",{get:function(){return K.deprecation("container.buildInfo.environment is deprecated.Please use `container.environment.stage` instead"),Pt.environment.stage}}),Pt.buildInfo=jt;var Ct,Rt=k(Z("localStorage"),K),wt="";j.currentScript&&j.currentScript.getAttribute("src")?wt=j.currentScript.getAttribute("src"):vt()&&(wt=vt().getAttribute("src"));try{Ct=I(wt,Pt.company.cdnAllowList,Rt)}catch(e){throw K.warn("Please review the following error:"),e}var Et,yt=ft(Ct.isDynamicEnforced,Ct.decorateWithDynamicHost),Tt=ve(),It=Pt.property.settings.undefinedVarsReturnEmpty,_t=Pt.property.settings.ruleComponentSequencingEnabled,xt=Pt.dataElements||{};de.migrateCookieData(xt);var kt=function(e){return xt[e]},At=function(){return Et.apply(null,arguments)},Ot=ue(Tt,kt,At,It,yt),Lt={},St=Ce(Lt),Dt=ge(Lt,kt),Vt=pe(Lt,kt,Ot);Et=je(Dt,Vt,It),pt(ht,Pt,Rt.setDebugEnabled,Vt,St),mt(Pt,Tt,Rt,Et,Ot,yt,Ct.decorateWithDynamicHost);var Mt=Pe(ht),Ft=O(Tt,Et,yt),Nt=Oe(Tt),Bt=Me(Nt,K,Mt),Ut=Ve(Ue,Nt,K,Mt),Gt=De(Ue,Nt,K,Mt),qt=Fe(K,Mt),Ht=Se(Be(_t,Ae(ke(Ft,Ge,Bt,Ut),Ne(Ft,Gt,qt)),_e(Te(Ft,We,Ge,Ut,Bt),ye(Ft,We,Gt),qt),Mt),Ft,Ze,Ue,Le(Tt),K);ze(_,Pt.rules||[],Ht)}return ht}console.warn("Adobe Launch is unsupported in IE 9 and below.")}();